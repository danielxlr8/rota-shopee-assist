function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function k(W,ie,se){this.props=W,this.context=ie,this.refs=_,this.updater=se||E}k.prototype.isReactComponent={},k.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function I(){}I.prototype=k.prototype;function P(W,ie,se){this.props=W,this.context=ie,this.refs=_,this.updater=se||E}var A=P.prototype=new I;A.constructor=P,T(A,k.prototype),A.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,$={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function L(W,ie,se){var Pe,Ne={},Oe=null,je=null;if(ie!=null)for(Pe in ie.ref!==void 0&&(je=ie.ref),ie.key!==void 0&&(Oe=""+ie.key),ie)O.call(ie,Pe)&&!V.hasOwnProperty(Pe)&&(Ne[Pe]=ie[Pe]);var Be=arguments.length-2;if(Be===1)Ne.children=se;else if(1<Be){for(var We=Array(Be),Ue=0;Ue<Be;Ue++)We[Ue]=arguments[Ue+2];Ne.children=We}if(W&&W.defaultProps)for(Pe in Be=W.defaultProps,Be)Ne[Pe]===void 0&&(Ne[Pe]=Be[Pe]);return{$$typeof:t,type:W,key:Oe,ref:je,props:Ne,_owner:$.current}}function U(W,ie){return{$$typeof:t,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function J(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function Z(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(se){return ie[se]})}var Y=/\/+/g;function K(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?Z(""+W.key):ie.toString(36)}function ke(W,ie,se,Pe,Ne){var Oe=typeof W;(Oe==="undefined"||Oe==="boolean")&&(W=null);var je=!1;if(W===null)je=!0;else switch(Oe){case"string":case"number":je=!0;break;case"object":switch(W.$$typeof){case t:case e:je=!0}}if(je)return je=W,Ne=Ne(je),W=Pe===""?"."+K(je,0):Pe,j(Ne)?(se="",W!=null&&(se=W.replace(Y,"$&/")+"/"),ke(Ne,ie,se,"",function(Ue){return Ue})):Ne!=null&&(J(Ne)&&(Ne=U(Ne,se+(!Ne.key||je&&je.key===Ne.key?"":(""+Ne.key).replace(Y,"$&/")+"/")+W)),ie.push(Ne)),1;if(je=0,Pe=Pe===""?".":Pe+":",j(W))for(var Be=0;Be<W.length;Be++){Oe=W[Be];var We=Pe+K(Oe,Be);je+=ke(Oe,ie,se,We,Ne)}else if(We=x(W),typeof We=="function")for(W=We.call(W),Be=0;!(Oe=W.next()).done;)Oe=Oe.value,We=Pe+K(Oe,Be++),je+=ke(Oe,ie,se,We,Ne);else if(Oe==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return je}function Re(W,ie,se){if(W==null)return W;var Pe=[],Ne=0;return ke(W,Pe,"","",function(Oe){return ie.call(se,Oe,Ne++)}),Pe}function G(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(se){(W._status===0||W._status===-1)&&(W._status=1,W._result=se)},function(se){(W._status===0||W._status===-1)&&(W._status=2,W._result=se)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var q={current:null},M={transition:null},z={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:M,ReactCurrentOwner:$};function ee(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Re,forEach:function(W,ie,se){Re(W,function(){ie.apply(this,arguments)},se)},count:function(W){var ie=0;return Re(W,function(){ie++}),ie},toArray:function(W){return Re(W,function(ie){return ie})||[]},only:function(W){if(!J(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},react_production_min.Component=k,react_production_min.Fragment=n,react_production_min.Profiler=i,react_production_min.PureComponent=P,react_production_min.StrictMode=s,react_production_min.Suspense=u,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,react_production_min.act=ee,react_production_min.cloneElement=function(W,ie,se){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Pe=T({},W.props),Ne=W.key,Oe=W.ref,je=W._owner;if(ie!=null){if(ie.ref!==void 0&&(Oe=ie.ref,je=$.current),ie.key!==void 0&&(Ne=""+ie.key),W.type&&W.type.defaultProps)var Be=W.type.defaultProps;for(We in ie)O.call(ie,We)&&!V.hasOwnProperty(We)&&(Pe[We]=ie[We]===void 0&&Be!==void 0?Be[We]:ie[We])}var We=arguments.length-2;if(We===1)Pe.children=se;else if(1<We){Be=Array(We);for(var Ue=0;Ue<We;Ue++)Be[Ue]=arguments[Ue+2];Pe.children=Be}return{$$typeof:t,type:W.type,key:Ne,ref:Oe,props:Pe,_owner:je}},react_production_min.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},react_production_min.createElement=L,react_production_min.createFactory=function(W){var ie=L.bind(null,W);return ie.type=W,ie},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(W){return{$$typeof:c,render:W}},react_production_min.isValidElement=J,react_production_min.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:G}},react_production_min.memo=function(W,ie){return{$$typeof:f,type:W,compare:ie===void 0?null:ie}},react_production_min.startTransition=function(W){var ie=M.transition;M.transition={};try{W()}finally{M.transition=ie}},react_production_min.unstable_act=ee,react_production_min.useCallback=function(W,ie){return q.current.useCallback(W,ie)},react_production_min.useContext=function(W){return q.current.useContext(W)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(W){return q.current.useDeferredValue(W)},react_production_min.useEffect=function(W,ie){return q.current.useEffect(W,ie)},react_production_min.useId=function(){return q.current.useId()},react_production_min.useImperativeHandle=function(W,ie,se){return q.current.useImperativeHandle(W,ie,se)},react_production_min.useInsertionEffect=function(W,ie){return q.current.useInsertionEffect(W,ie)},react_production_min.useLayoutEffect=function(W,ie){return q.current.useLayoutEffect(W,ie)},react_production_min.useMemo=function(W,ie){return q.current.useMemo(W,ie)},react_production_min.useReducer=function(W,ie,se){return q.current.useReducer(W,ie,se)},react_production_min.useRef=function(W){return q.current.useRef(W)},react_production_min.useState=function(W){return q.current.useState(W)},react_production_min.useSyncExternalStore=function(W,ie,se){return q.current.useSyncExternalStore(W,ie,se)},react_production_min.useTransition=function(){return q.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var p,m={},x=null,E=null;f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(E=u.ref);for(p in u)s.call(u,p)&&!o.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:c,key:x,ref:E,props:m,_owner:i.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=a,reactJsxRuntime_production_min.jsxs=a,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(t){function e(M,z){var ee=M.length;M.push(z);e:for(;0<ee;){var W=ee-1>>>1,ie=M[W];if(0<i(ie,z))M[W]=z,M[ee]=ie,ee=W;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var z=M[0],ee=M.pop();if(ee!==z){M[0]=ee;e:for(var W=0,ie=M.length,se=ie>>>1;W<se;){var Pe=2*(W+1)-1,Ne=M[Pe],Oe=Pe+1,je=M[Oe];if(0>i(Ne,ee))Oe<ie&&0>i(je,Ne)?(M[W]=je,M[Oe]=ee,W=Oe):(M[W]=Ne,M[Pe]=ee,W=Pe);else if(Oe<ie&&0>i(je,ee))M[W]=je,M[Oe]=ee,W=Oe;else break e}}return z}function i(M,z){var ee=M.sortIndex-z.sortIndex;return ee!==0?ee:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],f=[],p=1,m=null,x=3,E=!1,T=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var z=n(f);z!==null;){if(z.callback===null)s(f);else if(z.startTime<=M)s(f),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(f)}}function j(M){if(_=!1,A(M),!T)if(n(u)!==null)T=!0,G(O);else{var z=n(f);z!==null&&q(j,z.startTime-M)}}function O(M,z){T=!1,_&&(_=!1,I(L),L=-1),E=!0;var ee=x;try{for(A(z),m=n(u);m!==null&&(!(m.expirationTime>z)||M&&!Z());){var W=m.callback;if(typeof W=="function"){m.callback=null,x=m.priorityLevel;var ie=W(m.expirationTime<=z);z=t.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(u)&&s(u),A(z)}else s(u);m=n(u)}if(m!==null)var se=!0;else{var Pe=n(f);Pe!==null&&q(j,Pe.startTime-z),se=!1}return se}finally{m=null,x=ee,E=!1}}var $=!1,V=null,L=-1,U=5,J=-1;function Z(){return!(t.unstable_now()-J<U)}function Y(){if(V!==null){var M=t.unstable_now();J=M;var z=!0;try{z=V(!0,M)}finally{z?K():($=!1,V=null)}}else $=!1}var K;if(typeof P=="function")K=function(){P(Y)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Re=ke.port2;ke.port1.onmessage=Y,K=function(){Re.postMessage(null)}}else K=function(){k(Y,0)};function G(M){V=M,$||($=!0,K())}function q(M,z){L=k(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,G(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var ee=x;x=z;try{return M()}finally{x=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=x;x=M;try{return z()}finally{x=ee}},t.unstable_scheduleCallback=function(M,z,ee){var W=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,M={id:p++,callback:z,priorityLevel:M,startTime:ee,expirationTime:ie,sortIndex:-1},ee>W?(M.sortIndex=ee,e(f,M),n(u)===null&&M===n(f)&&(_?(I(L),L=-1):_=!0,q(j,ee-W))):(M.sortIndex=ie,e(u,M),T||E||(T=!0,G(O))),M},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(M){var z=x;return function(){var ee=x;x=z;try{return M.apply(this,arguments)}finally{x=ee}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function o(l,d){a(l,d),a(l+"Capture",d)}function a(l,d){for(i[l]=d,l=0;l<d.length;l++)s.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(l){return u.call(m,l)?!0:u.call(p,l)?!1:f.test(l)?m[l]=!0:(p[l]=!0,!1)}function E(l,d,g,R){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return R?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function T(l,d,g,R){if(d===null||typeof d>"u"||E(l,d,g,R))return!0;if(R)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(l,d,g,R,N,B,Q){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=R,this.attributeNamespace=N,this.mustUseProperty=g,this.propertyName=l,this.type=d,this.sanitizeURL=B,this.removeEmptyString=Q}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){k[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];k[d]=new _(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){k[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){k[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){k[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){k[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){k[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){k[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){k[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(I,P);k[d]=new _(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(I,P);k[d]=new _(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(I,P);k[d]=new _(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){k[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){k[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,d,g,R){var N=k.hasOwnProperty(d)?k[d]:null;(N!==null?N.type!==0:R||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(T(d,g,N,R)&&(g=null),R||N===null?x(d)&&(g===null?l.removeAttribute(d):l.setAttribute(d,""+g)):N.mustUseProperty?l[N.propertyName]=g===null?N.type===3?!1:"":g:(d=N.attributeName,R=N.attributeNamespace,g===null?l.removeAttribute(d):(N=N.type,g=N===3||N===4&&g===!0?"":""+g,R?l.setAttributeNS(R,d,g):l.setAttribute(d,g))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),M=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Object.assign,W;function ie(l){if(W===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);W=d&&d[1]||""}return`
`+W+l}var se=!1;function Pe(l,d){if(!l||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch($e){var R=$e}Reflect.construct(l,[],d)}else{try{d.call()}catch($e){R=$e}l.call(d.prototype)}else{try{throw Error()}catch($e){R=$e}l()}}catch($e){if($e&&R&&typeof $e.stack=="string"){for(var N=$e.stack.split(`
`),B=R.stack.split(`
`),Q=N.length-1,ve=B.length-1;1<=Q&&0<=ve&&N[Q]!==B[ve];)ve--;for(;1<=Q&&0<=ve;Q--,ve--)if(N[Q]!==B[ve]){if(Q!==1||ve!==1)do if(Q--,ve--,0>ve||N[Q]!==B[ve]){var Se=`
`+N[Q].replace(" at new "," at ");return l.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",l.displayName)),Se}while(1<=Q&&0<=ve);break}}}finally{se=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?ie(l):""}function Ne(l){switch(l.tag){case 5:return ie(l.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Oe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case V:return"Fragment";case $:return"Portal";case U:return"Profiler";case L:return"StrictMode";case K:return"Suspense";case ke:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Z:return(l.displayName||"Context")+".Consumer";case J:return(l._context.displayName||"Context")+".Provider";case Y:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Re:return d=l.displayName||null,d!==null?d:Oe(l.type)||"Memo";case G:d=l._payload,l=l._init;try{return Oe(l(d))}catch{}}return null}function je(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(d);case 8:return d===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function We(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ue(l){var d=We(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),R=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var N=g.get,B=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return N.call(this)},set:function(Q){R=""+Q,B.call(this,Q)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return R},setValue:function(Q){R=""+Q},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Ze(l){l._valueTracker||(l._valueTracker=Ue(l))}function ot(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),R="";return l&&(R=We(l)?l.checked?"true":"false":l.value),l=R,l!==g?(d.setValue(l),!0):!1}function Je(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function He(l,d){var g=d.checked;return ee({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function Ge(l,d){var g=d.defaultValue==null?"":d.defaultValue,R=d.checked!=null?d.checked:d.defaultChecked;g=Be(d.value!=null?d.value:g),l._wrapperState={initialChecked:R,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function at(l,d){d=d.checked,d!=null&&A(l,"checked",d,!1)}function et(l,d){at(l,d);var g=Be(d.value),R=d.type;if(g!=null)R==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(R==="submit"||R==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?pt(l,d.type,g):d.hasOwnProperty("defaultValue")&&pt(l,d.type,Be(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function lt(l,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var R=d.type;if(!(R!=="submit"&&R!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,g||d===l.value||(l.value=d),l.defaultValue=d}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function pt(l,d,g){(d!=="number"||Je(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var Tt=Array.isArray;function yt(l,d,g,R){if(l=l.options,d){d={};for(var N=0;N<g.length;N++)d["$"+g[N]]=!0;for(g=0;g<l.length;g++)N=d.hasOwnProperty("$"+l[g].value),l[g].selected!==N&&(l[g].selected=N),N&&R&&(l[g].defaultSelected=!0)}else{for(g=""+Be(g),d=null,N=0;N<l.length;N++){if(l[N].value===g){l[N].selected=!0,R&&(l[N].defaultSelected=!0);return}d!==null||l[N].disabled||(d=l[N])}d!==null&&(d.selected=!0)}}function _t(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Pt(l,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(n(92));if(Tt(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),g=d}l._wrapperState={initialValue:Be(g)}}function Lt(l,d){var g=Be(d.value),R=Be(d.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),d.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),R!=null&&(l.defaultValue=""+R)}function Jt(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ct(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ct(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Yt,Zt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,R,N){MSApp.execUnsafeLocalFunction(function(){return l(d,g,R,N)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Yt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function er(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(l){gr.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),tr[d]=tr[l]})});function qe(l,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||tr.hasOwnProperty(l)&&tr[l]?(""+d).trim():d+"px"}function tn(l,d){l=l.style;for(var g in d)if(d.hasOwnProperty(g)){var R=g.indexOf("--")===0,N=qe(g,d[g],R);g==="float"&&(g="cssFloat"),R?l.setProperty(g,N):l[g]=N}}var zr=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(l,d){if(d){if(zr[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Nr(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=null;function rr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var rn=null,nr=null,Ft=null;function Gt(l){if(l=Ui(l)){if(typeof rn!="function")throw Error(n(280));var d=l.stateNode;d&&(d=wo(d),rn(l.stateNode,l.type,d))}}function ct(l){nr?Ft?Ft.push(l):Ft=[l]:nr=l}function Dt(){if(nr){var l=nr,d=Ft;if(Ft=nr=null,Gt(l),d)for(l=0;l<d.length;l++)Gt(d[l])}}function kt(l,d){return l(d)}function Mt(){}var qt=!1;function Ot(l,d,g){if(qt)return l(d,g);qt=!0;try{return kt(l,d,g)}finally{qt=!1,(nr!==null||Ft!==null)&&(Mt(),Dt())}}function vt(l,d){var g=l.stateNode;if(g===null)return null;var R=wo(g);if(R===null)return null;g=R[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(l=l.type,R=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!R;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(n(231,d,typeof g));return g}var dr=!1;if(c)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{dr=!1}function Vt(l,d,g,R,N,B,Q,ve,Se){var $e=Array.prototype.slice.call(arguments,3);try{d.apply(g,$e)}catch(Xe){this.onError(Xe)}}var Kt=!1,Xt=null,jt=!1,Dr=null,_n={onError:function(l){Kt=!0,Xt=l}};function Mr(l,d,g,R,N,B,Q,ve,Se){Kt=!1,Xt=null,Vt.apply(_n,arguments)}function hn(l,d,g,R,N,B,Q,ve,Se){if(Mr.apply(this,arguments),Kt){if(Kt){var $e=Xt;Kt=!1,Xt=null}else throw Error(n(198));jt||(jt=!0,Dr=$e)}}function hr(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function bn(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Hr(l){if(hr(l)!==l)throw Error(n(188))}function Hn(l){var d=l.alternate;if(!d){if(d=hr(l),d===null)throw Error(n(188));return d!==l?null:l}for(var g=l,R=d;;){var N=g.return;if(N===null)break;var B=N.alternate;if(B===null){if(R=N.return,R!==null){g=R;continue}break}if(N.child===B.child){for(B=N.child;B;){if(B===g)return Hr(N),l;if(B===R)return Hr(N),d;B=B.sibling}throw Error(n(188))}if(g.return!==R.return)g=N,R=B;else{for(var Q=!1,ve=N.child;ve;){if(ve===g){Q=!0,g=N,R=B;break}if(ve===R){Q=!0,R=N,g=B;break}ve=ve.sibling}if(!Q){for(ve=B.child;ve;){if(ve===g){Q=!0,g=B,R=N;break}if(ve===R){Q=!0,R=B,g=N;break}ve=ve.sibling}if(!Q)throw Error(n(189))}}if(g.alternate!==R)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?l:d}function fn(l){return l=Hn(l),l!==null?Wn(l):null}function Wn(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Wn(l);if(d!==null)return d;l=l.sibling}return null}var Gn=e.unstable_scheduleCallback,qn=e.unstable_cancelCallback,ss=e.unstable_shouldYield,jn=e.unstable_requestPaint,$t=e.unstable_now,xs=e.unstable_getCurrentPriorityLevel,Rn=e.unstable_ImmediatePriority,pn=e.unstable_UserBlockingPriority,Vr=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Le=e.unstable_IdlePriority,tt=null,Ke=null;function ht(l){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(tt,l,void 0,(l.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:lr,bt=Math.log,Et=Math.LN2;function lr(l){return l>>>=0,l===0?32:31-(bt(l)/Et|0)|0}var Wr=64,Gr=4194304;function Kn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ae(l,d){var g=l.pendingLanes;if(g===0)return 0;var R=0,N=l.suspendedLanes,B=l.pingedLanes,Q=g&268435455;if(Q!==0){var ve=Q&~N;ve!==0?R=Kn(ve):(B&=Q,B!==0&&(R=Kn(B)))}else Q=g&~N,Q!==0?R=Kn(Q):B!==0&&(R=Kn(B));if(R===0)return 0;if(d!==0&&d!==R&&(d&N)===0&&(N=R&-R,B=d&-d,N>=B||N===16&&(B&4194240)!==0))return d;if((R&4)!==0&&(R|=g&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=R;0<d;)g=31-st(d),N=1<<g,R|=l[g],d&=~N;return R}function nt(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(l,d){for(var g=l.suspendedLanes,R=l.pingedLanes,N=l.expirationTimes,B=l.pendingLanes;0<B;){var Q=31-st(B),ve=1<<Q,Se=N[Q];Se===-1?((ve&g)===0||(ve&R)!==0)&&(N[Q]=nt(ve,d)):Se<=d&&(l.expiredLanes|=ve),B&=~ve}}function zt(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function sr(){var l=Wr;return Wr<<=1,(Wr&4194240)===0&&(Wr=64),l}function qr(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function Rr(l,d,g){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-st(d),l[d]=g}function Ut(l,d){var g=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var R=l.eventTimes;for(l=l.expirationTimes;0<g;){var N=31-st(g),B=1<<N;d[N]=0,R[N]=-1,l[N]=-1,g&=~B}}function _r(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var R=31-st(g),N=1<<R;N&d|l[R]&d&&(l[R]|=d),g&=~N}}var St=0;function Lr(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ir,mn,Qs,so,io,Ai=!1,Yn=[],Or=null,Nn=null,Dn=null,ys=new Map,wn=new Map,Xn=[],ca="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oo(l,d){switch(l){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ys.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(d.pointerId)}}function nn(l,d,g,R,N,B){return l===null||l.nativeEvent!==B?(l={blockedOn:d,domEventName:g,eventSystemFlags:R,nativeEvent:B,targetContainers:[N]},d!==null&&(d=Ui(d),d!==null&&mn(d)),l):(l.eventSystemFlags|=R,d=l.targetContainers,N!==null&&d.indexOf(N)===-1&&d.push(N),l)}function ua(l,d,g,R,N){switch(d){case"focusin":return Or=nn(Or,l,d,g,R,N),!0;case"dragenter":return Nn=nn(Nn,l,d,g,R,N),!0;case"mouseover":return Dn=nn(Dn,l,d,g,R,N),!0;case"pointerover":var B=N.pointerId;return ys.set(B,nn(ys.get(B)||null,l,d,g,R,N)),!0;case"gotpointercapture":return B=N.pointerId,wn.set(B,nn(wn.get(B)||null,l,d,g,R,N)),!0}return!1}function ao(l){var d=Fs(l.target);if(d!==null){var g=hr(d);if(g!==null){if(d=g.tag,d===13){if(d=bn(g),d!==null){l.blockedOn=d,io(l.priority,function(){Qs(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function is(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=Js(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var R=new g.constructor(g.type,g);vr=R,g.target.dispatchEvent(R),vr=null}else return d=Ui(g),d!==null&&mn(d),l.blockedOn=g,!1;d.shift()}return!0}function Ms(l,d,g){is(l)&&g.delete(d)}function lo(){Ai=!1,Or!==null&&is(Or)&&(Or=null),Nn!==null&&is(Nn)&&(Nn=null),Dn!==null&&is(Dn)&&(Dn=null),ys.forEach(Ms),wn.forEach(Ms)}function Mn(l,d){l.blockedOn===d&&(l.blockedOn=null,Ai||(Ai=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lo)))}function Vn(l){function d(N){return Mn(N,l)}if(0<Yn.length){Mn(Yn[0],l);for(var g=1;g<Yn.length;g++){var R=Yn[g];R.blockedOn===l&&(R.blockedOn=null)}}for(Or!==null&&Mn(Or,l),Nn!==null&&Mn(Nn,l),Dn!==null&&Mn(Dn,l),ys.forEach(d),wn.forEach(d),g=0;g<Xn.length;g++)R=Xn[g],R.blockedOn===l&&(R.blockedOn=null);for(;0<Xn.length&&(g=Xn[0],g.blockedOn===null);)ao(g),g.blockedOn===null&&Xn.shift()}var os=j.ReactCurrentBatchConfig,vs=!0;function pr(l,d,g,R){var N=St,B=os.transition;os.transition=null;try{St=1,Ci(l,d,g,R)}finally{St=N,os.transition=B}}function da(l,d,g,R){var N=St,B=os.transition;os.transition=null;try{St=4,Ci(l,d,g,R)}finally{St=N,os.transition=B}}function Ci(l,d,g,R){if(vs){var N=Js(l,d,g,R);if(N===null)ba(l,d,R,Vs,g),oo(l,R);else if(ua(N,l,d,g,R))R.stopPropagation();else if(oo(l,R),d&4&&-1<ca.indexOf(l)){for(;N!==null;){var B=Ui(N);if(B!==null&&ir(B),B=Js(l,d,g,R),B===null&&ba(l,d,R,Vs,g),B===N)break;N=B}N!==null&&R.stopPropagation()}else ba(l,d,R,null,g)}}var Vs=null;function Js(l,d,g,R){if(Vs=null,l=rr(R),l=Fs(l),l!==null)if(d=hr(l),d===null)l=null;else if(g=d.tag,g===13){if(l=bn(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Vs=l,null}function Ii(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xs()){case Rn:return 1;case pn:return 4;case Vr:case xe:return 16;case Le:return 536870912;default:return 16}default:return 16}}var gn=null,Zs=null,sn=null;function ki(){if(sn)return sn;var l,d=Zs,g=d.length,R,N="value"in gn?gn.value:gn.textContent,B=N.length;for(l=0;l<g&&d[l]===N[l];l++);var Q=g-l;for(R=1;R<=Q&&d[g-R]===N[B-R];R++);return sn=N.slice(l,1<R?1-R:void 0)}function ei(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Qn(){return!0}function ji(){return!1}function Fr(l){function d(g,R,N,B,Q){this._reactName=g,this._targetInst=N,this.type=R,this.nativeEvent=B,this.target=Q,this.currentTarget=null;for(var ve in l)l.hasOwnProperty(ve)&&(g=l[ve],this[ve]=g?g(B):B[ve]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Qn:ji,this.isPropagationStopped=ji,this}return ee(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),d}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Fr(Ln),Jn=ee({},Ln,{view:0,detail:0}),ha=Fr(Jn),ri,as,Es,Ls=ee({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Es&&(Es&&l.type==="mousemove"?(ri=l.screenX-Es.screenX,as=l.screenY-Es.screenY):as=ri=0,Es=l),ri)},movementY:function(l){return"movementY"in l?l.movementY:as}}),ni=Fr(Ls),Ni=ee({},Ls,{dataTransfer:0}),co=Fr(Ni),si=ee({},Jn,{relatedTarget:0}),ii=Fr(si),uo=ee({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Fr(uo),ho=ee({},Ln,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),fo=Fr(ho),po=ee({},Ln,{data:0}),Di=Fr(po),oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=mo[l])?!!d[l]:!1}function Zn(){return go}var y=ee({},Jn,{key:function(l){if(l.key){var d=oi[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=ei(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Jr[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(l){return l.type==="keypress"?ei(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ei(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),F=Fr(y),H=ee({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),te=Fr(H),Me=ee({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),ze=Fr(Me),it=ee({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qt=Fr(it),Sr=ee({},Ls,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=Fr(Sr),Cr=[9,13,27,32],wr=c&&"CompositionEvent"in window,Tn=null;c&&"documentMode"in document&&(Tn=document.documentMode);var xn=c&&"TextEvent"in window&&!Tn,Os=c&&(!wr||Tn&&8<Tn&&11>=Tn),ai=" ",jl=!1;function Nl(l,d){switch(l){case"keyup":return Cr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var li=!1;function Ou(l,d){switch(l){case"compositionend":return Dl(d);case"keypress":return d.which!==32?null:(jl=!0,ai);case"textInput":return l=d.data,l===ai&&jl?null:l;default:return null}}function Fu(l,d){if(li)return l==="compositionend"||!wr&&Nl(l,d)?(l=ki(),sn=Zs=gn=null,li=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Os&&d.locale!=="ko"?null:d.data;default:return null}}var Bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Bu[l.type]:d==="textarea"}function Vl(l,d,g,R){ct(R),d=_o(d,"onChange"),0<d.length&&(g=new ti("onChange","change",null,g,R),l.push({event:g,listeners:d}))}var Mi=null,Vi=null;function $u(l){ec(l,0)}function xo(l){var d=fi(l);if(ot(d))return l}function zu(l,d){if(l==="change")return d}var Ll=!1;if(c){var fa;if(c){var pa="oninput"in document;if(!pa){var Ol=document.createElement("div");Ol.setAttribute("oninput","return;"),pa=typeof Ol.oninput=="function"}fa=pa}else fa=!1;Ll=fa&&(!document.documentMode||9<document.documentMode)}function Fl(){Mi&&(Mi.detachEvent("onpropertychange",Bl),Vi=Mi=null)}function Bl(l){if(l.propertyName==="value"&&xo(Vi)){var d=[];Vl(d,Vi,l,rr(l)),Ot($u,d)}}function Uu(l,d,g){l==="focusin"?(Fl(),Mi=d,Vi=g,Mi.attachEvent("onpropertychange",Bl)):l==="focusout"&&Fl()}function Hu(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return xo(Vi)}function Wu(l,d){if(l==="click")return xo(d)}function Gu(l,d){if(l==="input"||l==="change")return xo(d)}function qu(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var On=typeof Object.is=="function"?Object.is:qu;function Li(l,d){if(On(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),R=Object.keys(d);if(g.length!==R.length)return!1;for(R=0;R<g.length;R++){var N=g[R];if(!u.call(d,N)||!On(l[N],d[N]))return!1}return!0}function $l(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function zl(l,d){var g=$l(l);l=0;for(var R;g;){if(g.nodeType===3){if(R=l+g.textContent.length,l<=d&&R>=d)return{node:g,offset:d-l};l=R}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=$l(g)}}function Ul(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Ul(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Hl(){for(var l=window,d=Je();d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=Je(l.document)}return d}function ma(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function Ku(l){var d=Hl(),g=l.focusedElem,R=l.selectionRange;if(d!==g&&g&&g.ownerDocument&&Ul(g.ownerDocument.documentElement,g)){if(R!==null&&ma(g)){if(d=R.start,l=R.end,l===void 0&&(l=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(l,g.value.length);else if(l=(d=g.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var N=g.textContent.length,B=Math.min(R.start,N);R=R.end===void 0?B:Math.min(R.end,N),!l.extend&&B>R&&(N=R,R=B,B=N),N=zl(g,B);var Q=zl(g,R);N&&Q&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==Q.node||l.focusOffset!==Q.offset)&&(d=d.createRange(),d.setStart(N.node,N.offset),l.removeAllRanges(),B>R?(l.addRange(d),l.extend(Q.node,Q.offset)):(d.setEnd(Q.node,Q.offset),l.addRange(d)))}}for(d=[],l=g;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)l=d[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Yu=c&&"documentMode"in document&&11>=document.documentMode,ci=null,ga=null,Oi=null,xa=!1;function Wl(l,d,g){var R=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;xa||ci==null||ci!==Je(R)||(R=ci,"selectionStart"in R&&ma(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Oi&&Li(Oi,R)||(Oi=R,R=_o(ga,"onSelect"),0<R.length&&(d=new ti("onSelect","select",null,d,g),l.push({event:d,listeners:R}),d.target=ci)))}function yo(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var ui={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},ya={},Gl={};c&&(Gl=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function vo(l){if(ya[l])return ya[l];if(!ui[l])return l;var d=ui[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in Gl)return ya[l]=d[g];return l}var ql=vo("animationend"),Kl=vo("animationiteration"),Yl=vo("animationstart"),Xl=vo("transitionend"),Ql=new Map,Jl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(l,d){Ql.set(l,d),o(d,[l])}for(var va=0;va<Jl.length;va++){var Ea=Jl[va],Xu=Ea.toLowerCase(),Qu=Ea[0].toUpperCase()+Ea.slice(1);_s(Xu,"on"+Qu)}_s(ql,"onAnimationEnd"),_s(Kl,"onAnimationIteration"),_s(Yl,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Xl,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Zl(l,d,g){var R=l.type||"unknown-event";l.currentTarget=g,hn(R,d,void 0,l),l.currentTarget=null}function ec(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var R=l[g],N=R.event;R=R.listeners;e:{var B=void 0;if(d)for(var Q=R.length-1;0<=Q;Q--){var ve=R[Q],Se=ve.instance,$e=ve.currentTarget;if(ve=ve.listener,Se!==B&&N.isPropagationStopped())break e;Zl(N,ve,$e),B=Se}else for(Q=0;Q<R.length;Q++){if(ve=R[Q],Se=ve.instance,$e=ve.currentTarget,ve=ve.listener,Se!==B&&N.isPropagationStopped())break e;Zl(N,ve,$e),B=Se}}}if(jt)throw l=Dr,jt=!1,Dr=null,l}function cr(l,d){var g=d[Aa];g===void 0&&(g=d[Aa]=new Set);var R=l+"__bubble";g.has(R)||(tc(d,l,2,!1),g.add(R))}function _a(l,d,g){var R=0;d&&(R|=4),tc(g,l,R,d)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Bi(l){if(!l[Eo]){l[Eo]=!0,s.forEach(function(g){g!=="selectionchange"&&(Ju.has(g)||_a(g,!1,l),_a(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Eo]||(d[Eo]=!0,_a("selectionchange",!1,d))}}function tc(l,d,g,R){switch(Ii(d)){case 1:var N=pr;break;case 4:N=da;break;default:N=Ci}g=N.bind(null,d,g,l),N=void 0,!dr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(N=!0),R?N!==void 0?l.addEventListener(d,g,{capture:!0,passive:N}):l.addEventListener(d,g,!0):N!==void 0?l.addEventListener(d,g,{passive:N}):l.addEventListener(d,g,!1)}function ba(l,d,g,R,N){var B=R;if((d&1)===0&&(d&2)===0&&R!==null)e:for(;;){if(R===null)return;var Q=R.tag;if(Q===3||Q===4){var ve=R.stateNode.containerInfo;if(ve===N||ve.nodeType===8&&ve.parentNode===N)break;if(Q===4)for(Q=R.return;Q!==null;){var Se=Q.tag;if((Se===3||Se===4)&&(Se=Q.stateNode.containerInfo,Se===N||Se.nodeType===8&&Se.parentNode===N))return;Q=Q.return}for(;ve!==null;){if(Q=Fs(ve),Q===null)return;if(Se=Q.tag,Se===5||Se===6){R=B=Q;continue e}ve=ve.parentNode}}R=R.return}Ot(function(){var $e=B,Xe=rr(g),Qe=[];e:{var Ye=Ql.get(l);if(Ye!==void 0){var ut=ti,ft=l;switch(l){case"keypress":if(ei(g)===0)break e;case"keydown":case"keyup":ut=F;break;case"focusin":ft="focus",ut=ii;break;case"focusout":ft="blur",ut=ii;break;case"beforeblur":case"afterblur":ut=ii;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=ze;break;case ql:case Kl:case Yl:ut=ls;break;case Xl:ut=Qt;break;case"scroll":ut=ha;break;case"wheel":ut=Bt;break;case"copy":case"cut":case"paste":ut=fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=te}var mt=(d&4)!==0,br=!mt&&l==="scroll",Ve=mt?Ye!==null?Ye+"Capture":null:Ye;mt=[];for(var Ce=$e,Fe;Ce!==null;){Fe=Ce;var rt=Fe.stateNode;if(Fe.tag===5&&rt!==null&&(Fe=rt,Ve!==null&&(rt=vt(Ce,Ve),rt!=null&&mt.push($i(Ce,rt,Fe)))),br)break;Ce=Ce.return}0<mt.length&&(Ye=new ut(Ye,ft,null,g,Xe),Qe.push({event:Ye,listeners:mt}))}}if((d&7)===0){e:{if(Ye=l==="mouseover"||l==="pointerover",ut=l==="mouseout"||l==="pointerout",Ye&&g!==vr&&(ft=g.relatedTarget||g.fromElement)&&(Fs(ft)||ft[cs]))break e;if((ut||Ye)&&(Ye=Xe.window===Xe?Xe:(Ye=Xe.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,ut?(ft=g.relatedTarget||g.toElement,ut=$e,ft=ft?Fs(ft):null,ft!==null&&(br=hr(ft),ft!==br||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(ut=null,ft=$e),ut!==ft)){if(mt=ni,rt="onMouseLeave",Ve="onMouseEnter",Ce="mouse",(l==="pointerout"||l==="pointerover")&&(mt=te,rt="onPointerLeave",Ve="onPointerEnter",Ce="pointer"),br=ut==null?Ye:fi(ut),Fe=ft==null?Ye:fi(ft),Ye=new mt(rt,Ce+"leave",ut,g,Xe),Ye.target=br,Ye.relatedTarget=Fe,rt=null,Fs(Xe)===$e&&(mt=new mt(Ve,Ce+"enter",ft,g,Xe),mt.target=Fe,mt.relatedTarget=br,rt=mt),br=rt,ut&&ft)t:{for(mt=ut,Ve=ft,Ce=0,Fe=mt;Fe;Fe=di(Fe))Ce++;for(Fe=0,rt=Ve;rt;rt=di(rt))Fe++;for(;0<Ce-Fe;)mt=di(mt),Ce--;for(;0<Fe-Ce;)Ve=di(Ve),Fe--;for(;Ce--;){if(mt===Ve||Ve!==null&&mt===Ve.alternate)break t;mt=di(mt),Ve=di(Ve)}mt=null}else mt=null;ut!==null&&rc(Qe,Ye,ut,mt,!1),ft!==null&&br!==null&&rc(Qe,br,ft,mt,!0)}}e:{if(Ye=$e?fi($e):window,ut=Ye.nodeName&&Ye.nodeName.toLowerCase(),ut==="select"||ut==="input"&&Ye.type==="file")var gt=zu;else if(Ml(Ye))if(Ll)gt=Gu;else{gt=Hu;var Rt=Uu}else(ut=Ye.nodeName)&&ut.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(gt=Wu);if(gt&&(gt=gt(l,$e))){Vl(Qe,gt,g,Xe);break e}Rt&&Rt(l,Ye,$e),l==="focusout"&&(Rt=Ye._wrapperState)&&Rt.controlled&&Ye.type==="number"&&pt(Ye,"number",Ye.value)}switch(Rt=$e?fi($e):window,l){case"focusin":(Ml(Rt)||Rt.contentEditable==="true")&&(ci=Rt,ga=$e,Oi=null);break;case"focusout":Oi=ga=ci=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,Wl(Qe,g,Xe);break;case"selectionchange":if(Yu)break;case"keydown":case"keyup":Wl(Qe,g,Xe)}var wt;if(wr)e:{switch(l){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else li?Nl(l,g)&&(At="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(At="onCompositionStart");At&&(Os&&g.locale!=="ko"&&(li||At!=="onCompositionStart"?At==="onCompositionEnd"&&li&&(wt=ki()):(gn=Xe,Zs="value"in gn?gn.value:gn.textContent,li=!0)),Rt=_o($e,At),0<Rt.length&&(At=new Di(At,l,null,g,Xe),Qe.push({event:At,listeners:Rt}),wt?At.data=wt:(wt=Dl(g),wt!==null&&(At.data=wt)))),(wt=xn?Ou(l,g):Fu(l,g))&&($e=_o($e,"onBeforeInput"),0<$e.length&&(Xe=new Di("onBeforeInput","beforeinput",null,g,Xe),Qe.push({event:Xe,listeners:$e}),Xe.data=wt))}ec(Qe,d)})}function $i(l,d,g){return{instance:l,listener:d,currentTarget:g}}function _o(l,d){for(var g=d+"Capture",R=[];l!==null;){var N=l,B=N.stateNode;N.tag===5&&B!==null&&(N=B,B=vt(l,g),B!=null&&R.unshift($i(l,B,N)),B=vt(l,d),B!=null&&R.push($i(l,B,N))),l=l.return}return R}function di(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function rc(l,d,g,R,N){for(var B=d._reactName,Q=[];g!==null&&g!==R;){var ve=g,Se=ve.alternate,$e=ve.stateNode;if(Se!==null&&Se===R)break;ve.tag===5&&$e!==null&&(ve=$e,N?(Se=vt(g,B),Se!=null&&Q.unshift($i(g,Se,ve))):N||(Se=vt(g,B),Se!=null&&Q.push($i(g,Se,ve)))),g=g.return}Q.length!==0&&l.push({event:d,listeners:Q})}var Zu=/\r\n?/g,ed=/\u0000|\uFFFD/g;function nc(l){return(typeof l=="string"?l:""+l).replace(Zu,`
`).replace(ed,"")}function bo(l,d,g){if(d=nc(d),nc(l)!==d&&g)throw Error(n(425))}function Ro(){}var Ra=null,wa=null;function Ta(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sa=typeof setTimeout=="function"?setTimeout:void 0,td=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,rd=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(l){return sc.resolve(null).then(l).catch(nd)}:Sa;function nd(l){setTimeout(function(){throw l})}function Pa(l,d){var g=d,R=0;do{var N=g.nextSibling;if(l.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(R===0){l.removeChild(N),Vn(d);return}R--}else g!=="$"&&g!=="$?"&&g!=="$!"||R++;g=N}while(g);Vn(d)}function bs(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function ic(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}var hi=Math.random().toString(36).slice(2),es="__reactFiber$"+hi,zi="__reactProps$"+hi,cs="__reactContainer$"+hi,Aa="__reactEvents$"+hi,sd="__reactListeners$"+hi,od="__reactHandles$"+hi;function Fs(l){var d=l[es];if(d)return d;for(var g=l.parentNode;g;){if(d=g[cs]||g[es]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=ic(l);l!==null;){if(g=l[es])return g;l=ic(l)}return d}l=g,g=l.parentNode}return null}function Ui(l){return l=l[es]||l[cs],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function fi(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function wo(l){return l[zi]||null}var Ca=[],pi=-1;function Rs(l){return{current:l}}function ur(l){0>pi||(l.current=Ca[pi],Ca[pi]=null,pi--)}function ar(l,d){pi++,Ca[pi]=l.current,l.current=d}var ws={},Kr=Rs(ws),on=Rs(!1),Bs=ws;function mi(l,d){var g=l.type.contextTypes;if(!g)return ws;var R=l.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===d)return R.__reactInternalMemoizedMaskedChildContext;var N={},B;for(B in g)N[B]=d[B];return R&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=N),N}function an(l){return l=l.childContextTypes,l!=null}function To(){ur(on),ur(Kr)}function oc(l,d,g){if(Kr.current!==ws)throw Error(n(168));ar(Kr,d),ar(on,g)}function ac(l,d,g){var R=l.stateNode;if(d=d.childContextTypes,typeof R.getChildContext!="function")return g;R=R.getChildContext();for(var N in R)if(!(N in d))throw Error(n(108,je(l)||"Unknown",N));return ee({},g,R)}function So(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ws,Bs=Kr.current,ar(Kr,l),ar(on,on.current),!0}function lc(l,d,g){var R=l.stateNode;if(!R)throw Error(n(169));g?(l=ac(l,d,Bs),R.__reactInternalMemoizedMergedChildContext=l,ur(on),ur(Kr),ar(Kr,l)):ur(on),ar(on,g)}var us=null,Po=!1,Ia=!1;function cc(l){us===null?us=[l]:us.push(l)}function ad(l){Po=!0,cc(l)}function Ts(){if(!Ia&&us!==null){Ia=!0;var l=0,d=St;try{var g=us;for(St=1;l<g.length;l++){var R=g[l];do R=R(!0);while(R!==null)}us=null,Po=!1}catch(N){throw us!==null&&(us=us.slice(l+1)),Gn(Rn,Ts),N}finally{St=d,Ia=!1}}return null}var gi=[],xi=0,Ao=null,Co=0,Sn=[],Pn=0,$s=null,ds=1,hs="";function zs(l,d){gi[xi++]=Co,gi[xi++]=Ao,Ao=l,Co=d}function uc(l,d,g){Sn[Pn++]=ds,Sn[Pn++]=hs,Sn[Pn++]=$s,$s=l;var R=ds;l=hs;var N=32-st(R)-1;R&=~(1<<N),g+=1;var B=32-st(d)+N;if(30<B){var Q=N-N%5;B=(R&(1<<Q)-1).toString(32),R>>=Q,N-=Q,ds=1<<32-st(d)+N|g<<N|R,hs=B+l}else ds=1<<B|g<<N|R,hs=l}function ka(l){l.return!==null&&(zs(l,1),uc(l,1,0))}function ja(l){for(;l===Ao;)Ao=gi[--xi],gi[xi]=null,Co=gi[--xi],gi[xi]=null;for(;l===$s;)$s=Sn[--Pn],Sn[Pn]=null,hs=Sn[--Pn],Sn[Pn]=null,ds=Sn[--Pn],Sn[Pn]=null}var yn=null,vn=null,mr=!1,Fn=null;function dc(l,d){var g=kn(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=l,d=l.deletions,d===null?(l.deletions=[g],l.flags|=16):d.push(g)}function hc(l,d){switch(l.tag){case 5:var g=l.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,yn=l,vn=bs(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,yn=l,vn=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=$s!==null?{id:ds,overflow:hs}:null,l.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=kn(18,null,null,0),g.stateNode=d,g.return=l,l.child=g,yn=l,vn=null,!0):!1;default:return!1}}function Na(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Da(l){if(mr){var d=vn;if(d){var g=d;if(!hc(l,d)){if(Na(l))throw Error(n(418));d=bs(g.nextSibling);var R=yn;d&&hc(l,d)?dc(R,g):(l.flags=l.flags&-4097|2,mr=!1,yn=l)}}else{if(Na(l))throw Error(n(418));l.flags=l.flags&-4097|2,mr=!1,yn=l}}}function fc(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;yn=l}function Io(l){if(l!==yn)return!1;if(!mr)return fc(l),mr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Ta(l.type,l.memoizedProps)),d&&(d=vn)){if(Na(l))throw pc(),Error(n(418));for(;d;)dc(l,d),d=bs(d.nextSibling)}if(fc(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(d===0){vn=bs(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}l=l.nextSibling}vn=null}}else vn=yn?bs(l.stateNode.nextSibling):null;return!0}function pc(){for(var l=vn;l;)l=bs(l.nextSibling)}function yi(){vn=yn=null,mr=!1}function Ma(l){Fn===null?Fn=[l]:Fn.push(l)}var ld=j.ReactCurrentBatchConfig;function Hi(l,d,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var R=g.stateNode}if(!R)throw Error(n(147,l));var N=R,B=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===B?d.ref:(d=function(Q){var ve=N.refs;Q===null?delete ve[B]:ve[B]=Q},d._stringRef=B,d)}if(typeof l!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,l))}return l}function ko(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function mc(l){var d=l._init;return d(l._payload)}function gc(l){function d(Ve,Ce){if(l){var Fe=Ve.deletions;Fe===null?(Ve.deletions=[Ce],Ve.flags|=16):Fe.push(Ce)}}function g(Ve,Ce){if(!l)return null;for(;Ce!==null;)d(Ve,Ce),Ce=Ce.sibling;return null}function R(Ve,Ce){for(Ve=new Map;Ce!==null;)Ce.key!==null?Ve.set(Ce.key,Ce):Ve.set(Ce.index,Ce),Ce=Ce.sibling;return Ve}function N(Ve,Ce){return Ve=Ns(Ve,Ce),Ve.index=0,Ve.sibling=null,Ve}function B(Ve,Ce,Fe){return Ve.index=Fe,l?(Fe=Ve.alternate,Fe!==null?(Fe=Fe.index,Fe<Ce?(Ve.flags|=2,Ce):Fe):(Ve.flags|=2,Ce)):(Ve.flags|=1048576,Ce)}function Q(Ve){return l&&Ve.alternate===null&&(Ve.flags|=2),Ve}function ve(Ve,Ce,Fe,rt){return Ce===null||Ce.tag!==6?(Ce=Sl(Fe,Ve.mode,rt),Ce.return=Ve,Ce):(Ce=N(Ce,Fe),Ce.return=Ve,Ce)}function Se(Ve,Ce,Fe,rt){var gt=Fe.type;return gt===V?Xe(Ve,Ce,Fe.props.children,rt,Fe.key):Ce!==null&&(Ce.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===G&&mc(gt)===Ce.type)?(rt=N(Ce,Fe.props),rt.ref=Hi(Ve,Ce,Fe),rt.return=Ve,rt):(rt=ta(Fe.type,Fe.key,Fe.props,null,Ve.mode,rt),rt.ref=Hi(Ve,Ce,Fe),rt.return=Ve,rt)}function $e(Ve,Ce,Fe,rt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Fe.containerInfo||Ce.stateNode.implementation!==Fe.implementation?(Ce=Pl(Fe,Ve.mode,rt),Ce.return=Ve,Ce):(Ce=N(Ce,Fe.children||[]),Ce.return=Ve,Ce)}function Xe(Ve,Ce,Fe,rt,gt){return Ce===null||Ce.tag!==7?(Ce=Xs(Fe,Ve.mode,rt,gt),Ce.return=Ve,Ce):(Ce=N(Ce,Fe),Ce.return=Ve,Ce)}function Qe(Ve,Ce,Fe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Sl(""+Ce,Ve.mode,Fe),Ce.return=Ve,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case O:return Fe=ta(Ce.type,Ce.key,Ce.props,null,Ve.mode,Fe),Fe.ref=Hi(Ve,null,Ce),Fe.return=Ve,Fe;case $:return Ce=Pl(Ce,Ve.mode,Fe),Ce.return=Ve,Ce;case G:var rt=Ce._init;return Qe(Ve,rt(Ce._payload),Fe)}if(Tt(Ce)||z(Ce))return Ce=Xs(Ce,Ve.mode,Fe,null),Ce.return=Ve,Ce;ko(Ve,Ce)}return null}function Ye(Ve,Ce,Fe,rt){var gt=Ce!==null?Ce.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return gt!==null?null:ve(Ve,Ce,""+Fe,rt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case O:return Fe.key===gt?Se(Ve,Ce,Fe,rt):null;case $:return Fe.key===gt?$e(Ve,Ce,Fe,rt):null;case G:return gt=Fe._init,Ye(Ve,Ce,gt(Fe._payload),rt)}if(Tt(Fe)||z(Fe))return gt!==null?null:Xe(Ve,Ce,Fe,rt,null);ko(Ve,Fe)}return null}function ut(Ve,Ce,Fe,rt,gt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Ve=Ve.get(Fe)||null,ve(Ce,Ve,""+rt,gt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case O:return Ve=Ve.get(rt.key===null?Fe:rt.key)||null,Se(Ce,Ve,rt,gt);case $:return Ve=Ve.get(rt.key===null?Fe:rt.key)||null,$e(Ce,Ve,rt,gt);case G:var Rt=rt._init;return ut(Ve,Ce,Fe,Rt(rt._payload),gt)}if(Tt(rt)||z(rt))return Ve=Ve.get(Fe)||null,Xe(Ce,Ve,rt,gt,null);ko(Ce,rt)}return null}function ft(Ve,Ce,Fe,rt){for(var gt=null,Rt=null,wt=Ce,At=Ce=0,jr=null;wt!==null&&At<Fe.length;At++){wt.index>At?(jr=wt,wt=null):jr=wt.sibling;var Wt=Ye(Ve,wt,Fe[At],rt);if(Wt===null){wt===null&&(wt=jr);break}l&&wt&&Wt.alternate===null&&d(Ve,wt),Ce=B(Wt,Ce,At),Rt===null?gt=Wt:Rt.sibling=Wt,Rt=Wt,wt=jr}if(At===Fe.length)return g(Ve,wt),mr&&zs(Ve,At),gt;if(wt===null){for(;At<Fe.length;At++)wt=Qe(Ve,Fe[At],rt),wt!==null&&(Ce=B(wt,Ce,At),Rt===null?gt=wt:Rt.sibling=wt,Rt=wt);return mr&&zs(Ve,At),gt}for(wt=R(Ve,wt);At<Fe.length;At++)jr=ut(wt,Ve,At,Fe[At],rt),jr!==null&&(l&&jr.alternate!==null&&wt.delete(jr.key===null?At:jr.key),Ce=B(jr,Ce,At),Rt===null?gt=jr:Rt.sibling=jr,Rt=jr);return l&&wt.forEach(function(Ds){return d(Ve,Ds)}),mr&&zs(Ve,At),gt}function mt(Ve,Ce,Fe,rt){var gt=z(Fe);if(typeof gt!="function")throw Error(n(150));if(Fe=gt.call(Fe),Fe==null)throw Error(n(151));for(var Rt=gt=null,wt=Ce,At=Ce=0,jr=null,Wt=Fe.next();wt!==null&&!Wt.done;At++,Wt=Fe.next()){wt.index>At?(jr=wt,wt=null):jr=wt.sibling;var Ds=Ye(Ve,wt,Wt.value,rt);if(Ds===null){wt===null&&(wt=jr);break}l&&wt&&Ds.alternate===null&&d(Ve,wt),Ce=B(Ds,Ce,At),Rt===null?gt=Ds:Rt.sibling=Ds,Rt=Ds,wt=jr}if(Wt.done)return g(Ve,wt),mr&&zs(Ve,At),gt;if(wt===null){for(;!Wt.done;At++,Wt=Fe.next())Wt=Qe(Ve,Wt.value,rt),Wt!==null&&(Ce=B(Wt,Ce,At),Rt===null?gt=Wt:Rt.sibling=Wt,Rt=Wt);return mr&&zs(Ve,At),gt}for(wt=R(Ve,wt);!Wt.done;At++,Wt=Fe.next())Wt=ut(wt,Ve,At,Wt.value,rt),Wt!==null&&(l&&Wt.alternate!==null&&wt.delete(Wt.key===null?At:Wt.key),Ce=B(Wt,Ce,At),Rt===null?gt=Wt:Rt.sibling=Wt,Rt=Wt);return l&&wt.forEach(function($d){return d(Ve,$d)}),mr&&zs(Ve,At),gt}function br(Ve,Ce,Fe,rt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===V&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case O:e:{for(var gt=Fe.key,Rt=Ce;Rt!==null;){if(Rt.key===gt){if(gt=Fe.type,gt===V){if(Rt.tag===7){g(Ve,Rt.sibling),Ce=N(Rt,Fe.props.children),Ce.return=Ve,Ve=Ce;break e}}else if(Rt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===G&&mc(gt)===Rt.type){g(Ve,Rt.sibling),Ce=N(Rt,Fe.props),Ce.ref=Hi(Ve,Rt,Fe),Ce.return=Ve,Ve=Ce;break e}g(Ve,Rt);break}else d(Ve,Rt);Rt=Rt.sibling}Fe.type===V?(Ce=Xs(Fe.props.children,Ve.mode,rt,Fe.key),Ce.return=Ve,Ve=Ce):(rt=ta(Fe.type,Fe.key,Fe.props,null,Ve.mode,rt),rt.ref=Hi(Ve,Ce,Fe),rt.return=Ve,Ve=rt)}return Q(Ve);case $:e:{for(Rt=Fe.key;Ce!==null;){if(Ce.key===Rt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Fe.containerInfo&&Ce.stateNode.implementation===Fe.implementation){g(Ve,Ce.sibling),Ce=N(Ce,Fe.children||[]),Ce.return=Ve,Ve=Ce;break e}else{g(Ve,Ce);break}else d(Ve,Ce);Ce=Ce.sibling}Ce=Pl(Fe,Ve.mode,rt),Ce.return=Ve,Ve=Ce}return Q(Ve);case G:return Rt=Fe._init,br(Ve,Ce,Rt(Fe._payload),rt)}if(Tt(Fe))return ft(Ve,Ce,Fe,rt);if(z(Fe))return mt(Ve,Ce,Fe,rt);ko(Ve,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Ce!==null&&Ce.tag===6?(g(Ve,Ce.sibling),Ce=N(Ce,Fe),Ce.return=Ve,Ve=Ce):(g(Ve,Ce),Ce=Sl(Fe,Ve.mode,rt),Ce.return=Ve,Ve=Ce),Q(Ve)):g(Ve,Ce)}return br}var vi=gc(!0),xc=gc(!1),jo=Rs(null),No=null,Ei=null,Va=null;function La(){Va=Ei=No=null}function Oa(l){var d=jo.current;ur(jo),l._currentValue=d}function Fa(l,d,g){for(;l!==null;){var R=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,R!==null&&(R.childLanes|=d)):R!==null&&(R.childLanes&d)!==d&&(R.childLanes|=d),l===g)break;l=l.return}}function _i(l,d){No=l,Va=Ei=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(ln=!0),l.firstContext=null)}function An(l){var d=l._currentValue;if(Va!==l)if(l={context:l,memoizedValue:d,next:null},Ei===null){if(No===null)throw Error(n(308));Ei=l,No.dependencies={lanes:0,firstContext:l}}else Ei=Ei.next=l;return d}var Us=null;function Ba(l){Us===null?Us=[l]:Us.push(l)}function yc(l,d,g,R){var N=d.interleaved;return N===null?(g.next=g,Ba(d)):(g.next=N.next,N.next=g),d.interleaved=g,fs(l,R)}function fs(l,d){l.lanes|=d;var g=l.alternate;for(g!==null&&(g.lanes|=d),g=l,l=l.return;l!==null;)l.childLanes|=d,g=l.alternate,g!==null&&(g.childLanes|=d),g=l,l=l.return;return g.tag===3?g.stateNode:null}var Ss=!1;function $a(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vc(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ps(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Ps(l,d,g){var R=l.updateQueue;if(R===null)return null;if(R=R.shared,(Ht&2)!==0){var N=R.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),R.pending=d,fs(l,g)}return N=R.interleaved,N===null?(d.next=d,Ba(R)):(d.next=N.next,N.next=d),R.interleaved=d,fs(l,g)}function Do(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var R=d.lanes;R&=l.pendingLanes,g|=R,d.lanes=g,_r(l,g)}}function Ec(l,d){var g=l.updateQueue,R=l.alternate;if(R!==null&&(R=R.updateQueue,g===R)){var N=null,B=null;if(g=g.firstBaseUpdate,g!==null){do{var Q={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};B===null?N=B=Q:B=B.next=Q,g=g.next}while(g!==null);B===null?N=B=d:B=B.next=d}else N=B=d;g={baseState:R.baseState,firstBaseUpdate:N,lastBaseUpdate:B,shared:R.shared,effects:R.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}function Mo(l,d,g,R){var N=l.updateQueue;Ss=!1;var B=N.firstBaseUpdate,Q=N.lastBaseUpdate,ve=N.shared.pending;if(ve!==null){N.shared.pending=null;var Se=ve,$e=Se.next;Se.next=null,Q===null?B=$e:Q.next=$e,Q=Se;var Xe=l.alternate;Xe!==null&&(Xe=Xe.updateQueue,ve=Xe.lastBaseUpdate,ve!==Q&&(ve===null?Xe.firstBaseUpdate=$e:ve.next=$e,Xe.lastBaseUpdate=Se))}if(B!==null){var Qe=N.baseState;Q=0,Xe=$e=Se=null,ve=B;do{var Ye=ve.lane,ut=ve.eventTime;if((R&Ye)===Ye){Xe!==null&&(Xe=Xe.next={eventTime:ut,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var ft=l,mt=ve;switch(Ye=d,ut=g,mt.tag){case 1:if(ft=mt.payload,typeof ft=="function"){Qe=ft.call(ut,Qe,Ye);break e}Qe=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=mt.payload,Ye=typeof ft=="function"?ft.call(ut,Qe,Ye):ft,Ye==null)break e;Qe=ee({},Qe,Ye);break e;case 2:Ss=!0}}ve.callback!==null&&ve.lane!==0&&(l.flags|=64,Ye=N.effects,Ye===null?N.effects=[ve]:Ye.push(ve))}else ut={eventTime:ut,lane:Ye,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Xe===null?($e=Xe=ut,Se=Qe):Xe=Xe.next=ut,Q|=Ye;if(ve=ve.next,ve===null){if(ve=N.shared.pending,ve===null)break;Ye=ve,ve=Ye.next,Ye.next=null,N.lastBaseUpdate=Ye,N.shared.pending=null}}while(!0);if(Xe===null&&(Se=Qe),N.baseState=Se,N.firstBaseUpdate=$e,N.lastBaseUpdate=Xe,d=N.shared.interleaved,d!==null){N=d;do Q|=N.lane,N=N.next;while(N!==d)}else B===null&&(N.shared.lanes=0);Gs|=Q,l.lanes=Q,l.memoizedState=Qe}}function _c(l,d,g){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var R=l[d],N=R.callback;if(N!==null){if(R.callback=null,R=g,typeof N!="function")throw Error(n(191,N));N.call(R)}}}var Wi={},ts=Rs(Wi),Gi=Rs(Wi),qi=Rs(Wi);function Hs(l){if(l===Wi)throw Error(n(174));return l}function za(l,d){switch(ar(qi,d),ar(Gi,l),ar(ts,Wi),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:It(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=It(d,l)}ur(ts),ar(ts,d)}function bi(){ur(ts),ur(Gi),ur(qi)}function bc(l){Hs(qi.current);var d=Hs(ts.current),g=It(d,l.type);d!==g&&(ar(Gi,l),ar(ts,g))}function Ua(l){Gi.current===l&&(ur(ts),ur(Gi))}var xr=Rs(0);function Vo(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ha=[];function Wa(){for(var l=0;l<Ha.length;l++)Ha[l]._workInProgressVersionPrimary=null;Ha.length=0}var Lo=j.ReactCurrentDispatcher,Ga=j.ReactCurrentBatchConfig,Ws=0,yr=null,Pr=null,Ir=null,Oo=!1,Ki=!1,Yi=0,cd=0;function Yr(){throw Error(n(321))}function qa(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!On(l[g],d[g]))return!1;return!0}function Ka(l,d,g,R,N,B){if(Ws=B,yr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Lo.current=l===null||l.memoizedState===null?fd:pd,l=g(R,N),Ki){B=0;do{if(Ki=!1,Yi=0,25<=B)throw Error(n(301));B+=1,Ir=Pr=null,d.updateQueue=null,Lo.current=md,l=g(R,N)}while(Ki)}if(Lo.current=$o,d=Pr!==null&&Pr.next!==null,Ws=0,Ir=Pr=yr=null,Oo=!1,d)throw Error(n(300));return l}function Ya(){var l=Yi!==0;return Yi=0,l}function rs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?yr.memoizedState=Ir=l:Ir=Ir.next=l,Ir}function Cn(){if(Pr===null){var l=yr.alternate;l=l!==null?l.memoizedState:null}else l=Pr.next;var d=Ir===null?yr.memoizedState:Ir.next;if(d!==null)Ir=d,Pr=l;else{if(l===null)throw Error(n(310));Pr=l,l={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Ir===null?yr.memoizedState=Ir=l:Ir=Ir.next=l}return Ir}function Xi(l,d){return typeof d=="function"?d(l):d}function Xa(l){var d=Cn(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var R=Pr,N=R.baseQueue,B=g.pending;if(B!==null){if(N!==null){var Q=N.next;N.next=B.next,B.next=Q}R.baseQueue=N=B,g.pending=null}if(N!==null){B=N.next,R=R.baseState;var ve=Q=null,Se=null,$e=B;do{var Xe=$e.lane;if((Ws&Xe)===Xe)Se!==null&&(Se=Se.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),R=$e.hasEagerState?$e.eagerState:l(R,$e.action);else{var Qe={lane:Xe,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};Se===null?(ve=Se=Qe,Q=R):Se=Se.next=Qe,yr.lanes|=Xe,Gs|=Xe}$e=$e.next}while($e!==null&&$e!==B);Se===null?Q=R:Se.next=ve,On(R,d.memoizedState)||(ln=!0),d.memoizedState=R,d.baseState=Q,d.baseQueue=Se,g.lastRenderedState=R}if(l=g.interleaved,l!==null){N=l;do B=N.lane,yr.lanes|=B,Gs|=B,N=N.next;while(N!==l)}else N===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function Qa(l){var d=Cn(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=l;var R=g.dispatch,N=g.pending,B=d.memoizedState;if(N!==null){g.pending=null;var Q=N=N.next;do B=l(B,Q.action),Q=Q.next;while(Q!==N);On(B,d.memoizedState)||(ln=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),g.lastRenderedState=B}return[B,R]}function Rc(){}function wc(l,d){var g=yr,R=Cn(),N=d(),B=!On(R.memoizedState,N);if(B&&(R.memoizedState=N,ln=!0),R=R.queue,Ja(Pc.bind(null,g,R,l),[l]),R.getSnapshot!==d||B||Ir!==null&&Ir.memoizedState.tag&1){if(g.flags|=2048,Qi(9,Sc.bind(null,g,R,N,d),void 0,null),kr===null)throw Error(n(349));(Ws&30)!==0||Tc(g,d,N)}return N}function Tc(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=yr.updateQueue,d===null?(d={lastEffect:null,stores:null},yr.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function Sc(l,d,g,R){d.value=g,d.getSnapshot=R,Ac(d)&&Cc(l)}function Pc(l,d,g){return g(function(){Ac(d)&&Cc(l)})}function Ac(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!On(l,g)}catch{return!0}}function Cc(l){var d=fs(l,1);d!==null&&Un(d,l,1,-1)}function Ic(l){var d=rs();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},d.queue=l,l=l.dispatch=hd.bind(null,yr,l),[d.memoizedState,l]}function Qi(l,d,g,R){return l={tag:l,create:d,destroy:g,deps:R,next:null},d=yr.updateQueue,d===null?(d={lastEffect:null,stores:null},yr.updateQueue=d,d.lastEffect=l.next=l):(g=d.lastEffect,g===null?d.lastEffect=l.next=l:(R=g.next,g.next=l,l.next=R,d.lastEffect=l)),l}function kc(){return Cn().memoizedState}function Fo(l,d,g,R){var N=rs();yr.flags|=l,N.memoizedState=Qi(1|d,g,void 0,R===void 0?null:R)}function Bo(l,d,g,R){var N=Cn();R=R===void 0?null:R;var B=void 0;if(Pr!==null){var Q=Pr.memoizedState;if(B=Q.destroy,R!==null&&qa(R,Q.deps)){N.memoizedState=Qi(d,g,B,R);return}}yr.flags|=l,N.memoizedState=Qi(1|d,g,B,R)}function jc(l,d){return Fo(8390656,8,l,d)}function Ja(l,d){return Bo(2048,8,l,d)}function Nc(l,d){return Bo(4,2,l,d)}function Dc(l,d){return Bo(4,4,l,d)}function Mc(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function Vc(l,d,g){return g=g!=null?g.concat([l]):null,Bo(4,4,Mc.bind(null,d,l),g)}function Za(){}function Lc(l,d){var g=Cn();d=d===void 0?null:d;var R=g.memoizedState;return R!==null&&d!==null&&qa(d,R[1])?R[0]:(g.memoizedState=[l,d],l)}function Oc(l,d){var g=Cn();d=d===void 0?null:d;var R=g.memoizedState;return R!==null&&d!==null&&qa(d,R[1])?R[0]:(l=l(),g.memoizedState=[l,d],l)}function Fc(l,d,g){return(Ws&21)===0?(l.baseState&&(l.baseState=!1,ln=!0),l.memoizedState=g):(On(g,d)||(g=sr(),yr.lanes|=g,Gs|=g,l.baseState=!0),d)}function ud(l,d){var g=St;St=g!==0&&4>g?g:4,l(!0);var R=Ga.transition;Ga.transition={};try{l(!1),d()}finally{St=g,Ga.transition=R}}function Bc(){return Cn().memoizedState}function dd(l,d,g){var R=ks(l);if(g={lane:R,action:g,hasEagerState:!1,eagerState:null,next:null},$c(l))zc(d,g);else if(g=yc(l,d,g,R),g!==null){var N=en();Un(g,l,R,N),Uc(g,d,R)}}function hd(l,d,g){var R=ks(l),N={lane:R,action:g,hasEagerState:!1,eagerState:null,next:null};if($c(l))zc(d,N);else{var B=l.alternate;if(l.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var Q=d.lastRenderedState,ve=B(Q,g);if(N.hasEagerState=!0,N.eagerState=ve,On(ve,Q)){var Se=d.interleaved;Se===null?(N.next=N,Ba(d)):(N.next=Se.next,Se.next=N),d.interleaved=N;return}}catch{}finally{}g=yc(l,d,N,R),g!==null&&(N=en(),Un(g,l,R,N),Uc(g,d,R))}}function $c(l){var d=l.alternate;return l===yr||d!==null&&d===yr}function zc(l,d){Ki=Oo=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function Uc(l,d,g){if((g&4194240)!==0){var R=d.lanes;R&=l.pendingLanes,g|=R,d.lanes=g,_r(l,g)}}var $o={readContext:An,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},fd={readContext:An,useCallback:function(l,d){return rs().memoizedState=[l,d===void 0?null:d],l},useContext:An,useEffect:jc,useImperativeHandle:function(l,d,g){return g=g!=null?g.concat([l]):null,Fo(4194308,4,Mc.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Fo(4194308,4,l,d)},useInsertionEffect:function(l,d){return Fo(4,2,l,d)},useMemo:function(l,d){var g=rs();return d=d===void 0?null:d,l=l(),g.memoizedState=[l,d],l},useReducer:function(l,d,g){var R=rs();return d=g!==void 0?g(d):d,R.memoizedState=R.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},R.queue=l,l=l.dispatch=dd.bind(null,yr,l),[R.memoizedState,l]},useRef:function(l){var d=rs();return l={current:l},d.memoizedState=l},useState:Ic,useDebugValue:Za,useDeferredValue:function(l){return rs().memoizedState=l},useTransition:function(){var l=Ic(!1),d=l[0];return l=ud.bind(null,l[1]),rs().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,g){var R=yr,N=rs();if(mr){if(g===void 0)throw Error(n(407));g=g()}else{if(g=d(),kr===null)throw Error(n(349));(Ws&30)!==0||Tc(R,d,g)}N.memoizedState=g;var B={value:g,getSnapshot:d};return N.queue=B,jc(Pc.bind(null,R,B,l),[l]),R.flags|=2048,Qi(9,Sc.bind(null,R,B,g,d),void 0,null),g},useId:function(){var l=rs(),d=kr.identifierPrefix;if(mr){var g=hs,R=ds;g=(R&~(1<<32-st(R)-1)).toString(32)+g,d=":"+d+"R"+g,g=Yi++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=cd++,d=":"+d+"r"+g.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},pd={readContext:An,useCallback:Lc,useContext:An,useEffect:Ja,useImperativeHandle:Vc,useInsertionEffect:Nc,useLayoutEffect:Dc,useMemo:Oc,useReducer:Xa,useRef:kc,useState:function(){return Xa(Xi)},useDebugValue:Za,useDeferredValue:function(l){var d=Cn();return Fc(d,Pr.memoizedState,l)},useTransition:function(){var l=Xa(Xi)[0],d=Cn().memoizedState;return[l,d]},useMutableSource:Rc,useSyncExternalStore:wc,useId:Bc,unstable_isNewReconciler:!1},md={readContext:An,useCallback:Lc,useContext:An,useEffect:Ja,useImperativeHandle:Vc,useInsertionEffect:Nc,useLayoutEffect:Dc,useMemo:Oc,useReducer:Qa,useRef:kc,useState:function(){return Qa(Xi)},useDebugValue:Za,useDeferredValue:function(l){var d=Cn();return Pr===null?d.memoizedState=l:Fc(d,Pr.memoizedState,l)},useTransition:function(){var l=Qa(Xi)[0],d=Cn().memoizedState;return[l,d]},useMutableSource:Rc,useSyncExternalStore:wc,useId:Bc,unstable_isNewReconciler:!1};function Bn(l,d){if(l&&l.defaultProps){d=ee({},d),l=l.defaultProps;for(var g in l)d[g]===void 0&&(d[g]=l[g]);return d}return d}function el(l,d,g,R){d=l.memoizedState,g=g(R,d),g=g==null?d:ee({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var zo={isMounted:function(l){return(l=l._reactInternals)?hr(l)===l:!1},enqueueSetState:function(l,d,g){l=l._reactInternals;var R=en(),N=ks(l),B=ps(R,N);B.payload=d,g!=null&&(B.callback=g),d=Ps(l,B,N),d!==null&&(Un(d,l,N,R),Do(d,l,N))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var R=en(),N=ks(l),B=ps(R,N);B.tag=1,B.payload=d,g!=null&&(B.callback=g),d=Ps(l,B,N),d!==null&&(Un(d,l,N,R),Do(d,l,N))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=en(),R=ks(l),N=ps(g,R);N.tag=2,d!=null&&(N.callback=d),d=Ps(l,N,R),d!==null&&(Un(d,l,R,g),Do(d,l,R))}};function Hc(l,d,g,R,N,B,Q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(R,B,Q):d.prototype&&d.prototype.isPureReactComponent?!Li(g,R)||!Li(N,B):!0}function Wc(l,d,g){var R=!1,N=ws,B=d.contextType;return typeof B=="object"&&B!==null?B=An(B):(N=an(d)?Bs:Kr.current,R=d.contextTypes,B=(R=R!=null)?mi(l,N):ws),d=new d(g,B),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zo,l.stateNode=d,d._reactInternals=l,R&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=B),d}function Gc(l,d,g,R){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,R),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,R),d.state!==l&&zo.enqueueReplaceState(d,d.state,null)}function tl(l,d,g,R){var N=l.stateNode;N.props=g,N.state=l.memoizedState,N.refs={},$a(l);var B=d.contextType;typeof B=="object"&&B!==null?N.context=An(B):(B=an(d)?Bs:Kr.current,N.context=mi(l,B)),N.state=l.memoizedState,B=d.getDerivedStateFromProps,typeof B=="function"&&(el(l,d,B,g),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(d=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),d!==N.state&&zo.enqueueReplaceState(N,N.state,null),Mo(l,g,N,R),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function Ri(l,d){try{var g="",R=d;do g+=Ne(R),R=R.return;while(R);var N=g}catch(B){N=`
Error generating stack: `+B.message+`
`+B.stack}return{value:l,source:d,stack:N,digest:null}}function rl(l,d,g){return{value:l,source:null,stack:g??null,digest:d??null}}function nl(l,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var gd=typeof WeakMap=="function"?WeakMap:Map;function qc(l,d,g){g=ps(-1,g),g.tag=3,g.payload={element:null};var R=d.value;return g.callback=function(){Yo||(Yo=!0,yl=R),nl(l,d)},g}function Kc(l,d,g){g=ps(-1,g),g.tag=3;var R=l.type.getDerivedStateFromError;if(typeof R=="function"){var N=d.value;g.payload=function(){return R(N)},g.callback=function(){nl(l,d)}}var B=l.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(g.callback=function(){nl(l,d),typeof R!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var Q=d.stack;this.componentDidCatch(d.value,{componentStack:Q!==null?Q:""})}),g}function Yc(l,d,g){var R=l.pingCache;if(R===null){R=l.pingCache=new gd;var N=new Set;R.set(d,N)}else N=R.get(d),N===void 0&&(N=new Set,R.set(d,N));N.has(g)||(N.add(g),l=Id.bind(null,l,d,g),d.then(l,l))}function Xc(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Qc(l,d,g,R,N){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=ps(-1,1),d.tag=2,Ps(g,d,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=N,l)}var xd=j.ReactCurrentOwner,ln=!1;function Zr(l,d,g,R){d.child=l===null?xc(d,null,g,R):vi(d,l.child,g,R)}function Jc(l,d,g,R,N){g=g.render;var B=d.ref;return _i(d,N),R=Ka(l,d,g,R,B,N),g=Ya(),l!==null&&!ln?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~N,ms(l,d,N)):(mr&&g&&ka(d),d.flags|=1,Zr(l,d,R,N),d.child)}function Zc(l,d,g,R,N){if(l===null){var B=g.type;return typeof B=="function"&&!Tl(B)&&B.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=B,eu(l,d,B,R,N)):(l=ta(g.type,null,R,d,d.mode,N),l.ref=d.ref,l.return=d,d.child=l)}if(B=l.child,(l.lanes&N)===0){var Q=B.memoizedProps;if(g=g.compare,g=g!==null?g:Li,g(Q,R)&&l.ref===d.ref)return ms(l,d,N)}return d.flags|=1,l=Ns(B,R),l.ref=d.ref,l.return=d,d.child=l}function eu(l,d,g,R,N){if(l!==null){var B=l.memoizedProps;if(Li(B,R)&&l.ref===d.ref)if(ln=!1,d.pendingProps=R=B,(l.lanes&N)!==0)(l.flags&131072)!==0&&(ln=!0);else return d.lanes=l.lanes,ms(l,d,N)}return sl(l,d,g,R,N)}function tu(l,d,g){var R=d.pendingProps,N=R.children,B=l!==null?l.memoizedState:null;if(R.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ti,En),En|=g;else{if((g&1073741824)===0)return l=B!==null?B.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,ar(Ti,En),En|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=B!==null?B.baseLanes:g,ar(Ti,En),En|=R}else B!==null?(R=B.baseLanes|g,d.memoizedState=null):R=g,ar(Ti,En),En|=R;return Zr(l,d,N,g),d.child}function ru(l,d){var g=d.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function sl(l,d,g,R,N){var B=an(g)?Bs:Kr.current;return B=mi(d,B),_i(d,N),g=Ka(l,d,g,R,B,N),R=Ya(),l!==null&&!ln?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~N,ms(l,d,N)):(mr&&R&&ka(d),d.flags|=1,Zr(l,d,g,N),d.child)}function nu(l,d,g,R,N){if(an(g)){var B=!0;So(d)}else B=!1;if(_i(d,N),d.stateNode===null)Ho(l,d),Wc(d,g,R),tl(d,g,R,N),R=!0;else if(l===null){var Q=d.stateNode,ve=d.memoizedProps;Q.props=ve;var Se=Q.context,$e=g.contextType;typeof $e=="object"&&$e!==null?$e=An($e):($e=an(g)?Bs:Kr.current,$e=mi(d,$e));var Xe=g.getDerivedStateFromProps,Qe=typeof Xe=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Qe||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ve!==R||Se!==$e)&&Gc(d,Q,R,$e),Ss=!1;var Ye=d.memoizedState;Q.state=Ye,Mo(d,R,Q,N),Se=d.memoizedState,ve!==R||Ye!==Se||on.current||Ss?(typeof Xe=="function"&&(el(d,g,Xe,R),Se=d.memoizedState),(ve=Ss||Hc(d,g,ve,R,Ye,Se,$e))?(Qe||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=R,d.memoizedState=Se),Q.props=R,Q.state=Se,Q.context=$e,R=ve):(typeof Q.componentDidMount=="function"&&(d.flags|=4194308),R=!1)}else{Q=d.stateNode,vc(l,d),ve=d.memoizedProps,$e=d.type===d.elementType?ve:Bn(d.type,ve),Q.props=$e,Qe=d.pendingProps,Ye=Q.context,Se=g.contextType,typeof Se=="object"&&Se!==null?Se=An(Se):(Se=an(g)?Bs:Kr.current,Se=mi(d,Se));var ut=g.getDerivedStateFromProps;(Xe=typeof ut=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ve!==Qe||Ye!==Se)&&Gc(d,Q,R,Se),Ss=!1,Ye=d.memoizedState,Q.state=Ye,Mo(d,R,Q,N);var ft=d.memoizedState;ve!==Qe||Ye!==ft||on.current||Ss?(typeof ut=="function"&&(el(d,g,ut,R),ft=d.memoizedState),($e=Ss||Hc(d,g,$e,R,Ye,ft,Se)||!1)?(Xe||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(R,ft,Se),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(R,ft,Se)),typeof Q.componentDidUpdate=="function"&&(d.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ve===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=1024),d.memoizedProps=R,d.memoizedState=ft),Q.props=R,Q.state=ft,Q.context=Se,R=$e):(typeof Q.componentDidUpdate!="function"||ve===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===l.memoizedProps&&Ye===l.memoizedState||(d.flags|=1024),R=!1)}return il(l,d,g,R,B,N)}function il(l,d,g,R,N,B){ru(l,d);var Q=(d.flags&128)!==0;if(!R&&!Q)return N&&lc(d,g,!1),ms(l,d,B);R=d.stateNode,xd.current=d;var ve=Q&&typeof g.getDerivedStateFromError!="function"?null:R.render();return d.flags|=1,l!==null&&Q?(d.child=vi(d,l.child,null,B),d.child=vi(d,null,ve,B)):Zr(l,d,ve,B),d.memoizedState=R.state,N&&lc(d,g,!0),d.child}function su(l){var d=l.stateNode;d.pendingContext?oc(l,d.pendingContext,d.pendingContext!==d.context):d.context&&oc(l,d.context,!1),za(l,d.containerInfo)}function iu(l,d,g,R,N){return yi(),Ma(N),d.flags|=256,Zr(l,d,g,R),d.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function al(l){return{baseLanes:l,cachePool:null,transitions:null}}function ou(l,d,g){var R=d.pendingProps,N=xr.current,B=!1,Q=(d.flags&128)!==0,ve;if((ve=Q)||(ve=l!==null&&l.memoizedState===null?!1:(N&2)!==0),ve?(B=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),ar(xr,N&1),l===null)return Da(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(Q=R.children,l=R.fallback,B?(R=d.mode,B=d.child,Q={mode:"hidden",children:Q},(R&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=Q):B=ra(Q,R,0,null),l=Xs(l,R,g,null),B.return=d,l.return=d,B.sibling=l,d.child=B,d.child.memoizedState=al(g),d.memoizedState=ol,l):ll(d,Q));if(N=l.memoizedState,N!==null&&(ve=N.dehydrated,ve!==null))return yd(l,d,Q,R,ve,N,g);if(B){B=R.fallback,Q=d.mode,N=l.child,ve=N.sibling;var Se={mode:"hidden",children:R.children};return(Q&1)===0&&d.child!==N?(R=d.child,R.childLanes=0,R.pendingProps=Se,d.deletions=null):(R=Ns(N,Se),R.subtreeFlags=N.subtreeFlags&14680064),ve!==null?B=Ns(ve,B):(B=Xs(B,Q,g,null),B.flags|=2),B.return=d,R.return=d,R.sibling=B,d.child=R,R=B,B=d.child,Q=l.child.memoizedState,Q=Q===null?al(g):{baseLanes:Q.baseLanes|g,cachePool:null,transitions:Q.transitions},B.memoizedState=Q,B.childLanes=l.childLanes&~g,d.memoizedState=ol,R}return B=l.child,l=B.sibling,R=Ns(B,{mode:"visible",children:R.children}),(d.mode&1)===0&&(R.lanes=g),R.return=d,R.sibling=null,l!==null&&(g=d.deletions,g===null?(d.deletions=[l],d.flags|=16):g.push(l)),d.child=R,d.memoizedState=null,R}function ll(l,d){return d=ra({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Uo(l,d,g,R){return R!==null&&Ma(R),vi(d,l.child,null,g),l=ll(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function yd(l,d,g,R,N,B,Q){if(g)return d.flags&256?(d.flags&=-257,R=rl(Error(n(422))),Uo(l,d,Q,R)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(B=R.fallback,N=d.mode,R=ra({mode:"visible",children:R.children},N,0,null),B=Xs(B,N,Q,null),B.flags|=2,R.return=d,B.return=d,R.sibling=B,d.child=R,(d.mode&1)!==0&&vi(d,l.child,null,Q),d.child.memoizedState=al(Q),d.memoizedState=ol,B);if((d.mode&1)===0)return Uo(l,d,Q,null);if(N.data==="$!"){if(R=N.nextSibling&&N.nextSibling.dataset,R)var ve=R.dgst;return R=ve,B=Error(n(419)),R=rl(B,R,void 0),Uo(l,d,Q,R)}if(ve=(Q&l.childLanes)!==0,ln||ve){if(R=kr,R!==null){switch(Q&-Q){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(R.suspendedLanes|Q))!==0?0:N,N!==0&&N!==B.retryLane&&(B.retryLane=N,fs(l,N),Un(R,l,N,-1))}return wl(),R=rl(Error(n(421))),Uo(l,d,Q,R)}return N.data==="$?"?(d.flags|=128,d.child=l.child,d=kd.bind(null,l),N._reactRetry=d,null):(l=B.treeContext,vn=bs(N.nextSibling),yn=d,mr=!0,Fn=null,l!==null&&(Sn[Pn++]=ds,Sn[Pn++]=hs,Sn[Pn++]=$s,ds=l.id,hs=l.overflow,$s=d),d=ll(d,R.children),d.flags|=4096,d)}function au(l,d,g){l.lanes|=d;var R=l.alternate;R!==null&&(R.lanes|=d),Fa(l.return,d,g)}function cl(l,d,g,R,N){var B=l.memoizedState;B===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:R,tail:g,tailMode:N}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=R,B.tail=g,B.tailMode=N)}function lu(l,d,g){var R=d.pendingProps,N=R.revealOrder,B=R.tail;if(Zr(l,d,R.children,g),R=xr.current,(R&2)!==0)R=R&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&au(l,g,d);else if(l.tag===19)au(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}R&=1}if(ar(xr,R),(d.mode&1)===0)d.memoizedState=null;else switch(N){case"forwards":for(g=d.child,N=null;g!==null;)l=g.alternate,l!==null&&Vo(l)===null&&(N=g),g=g.sibling;g=N,g===null?(N=d.child,d.child=null):(N=g.sibling,g.sibling=null),cl(d,!1,N,g,B);break;case"backwards":for(g=null,N=d.child,d.child=null;N!==null;){if(l=N.alternate,l!==null&&Vo(l)===null){d.child=N;break}l=N.sibling,N.sibling=g,g=N,N=l}cl(d,!0,g,null,B);break;case"together":cl(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ho(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function ms(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),Gs|=d.lanes,(g&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,g=Ns(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=Ns(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function vd(l,d,g){switch(d.tag){case 3:su(d),yi();break;case 5:bc(d);break;case 1:an(d.type)&&So(d);break;case 4:za(d,d.stateNode.containerInfo);break;case 10:var R=d.type._context,N=d.memoizedProps.value;ar(jo,R._currentValue),R._currentValue=N;break;case 13:if(R=d.memoizedState,R!==null)return R.dehydrated!==null?(ar(xr,xr.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?ou(l,d,g):(ar(xr,xr.current&1),l=ms(l,d,g),l!==null?l.sibling:null);ar(xr,xr.current&1);break;case 19:if(R=(g&d.childLanes)!==0,(l.flags&128)!==0){if(R)return lu(l,d,g);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ar(xr,xr.current),R)break;return null;case 22:case 23:return d.lanes=0,tu(l,d,g)}return ms(l,d,g)}var cu,ul,uu,du;cu=function(l,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},ul=function(){},uu=function(l,d,g,R){var N=l.memoizedProps;if(N!==R){l=d.stateNode,Hs(ts.current);var B=null;switch(g){case"input":N=He(l,N),R=He(l,R),B=[];break;case"select":N=ee({},N,{value:void 0}),R=ee({},R,{value:void 0}),B=[];break;case"textarea":N=_t(l,N),R=_t(l,R),B=[];break;default:typeof N.onClick!="function"&&typeof R.onClick=="function"&&(l.onclick=Ro)}Ur(g,R);var Q;g=null;for($e in N)if(!R.hasOwnProperty($e)&&N.hasOwnProperty($e)&&N[$e]!=null)if($e==="style"){var ve=N[$e];for(Q in ve)ve.hasOwnProperty(Q)&&(g||(g={}),g[Q]="")}else $e!=="dangerouslySetInnerHTML"&&$e!=="children"&&$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&$e!=="autoFocus"&&(i.hasOwnProperty($e)?B||(B=[]):(B=B||[]).push($e,null));for($e in R){var Se=R[$e];if(ve=N?.[$e],R.hasOwnProperty($e)&&Se!==ve&&(Se!=null||ve!=null))if($e==="style")if(ve){for(Q in ve)!ve.hasOwnProperty(Q)||Se&&Se.hasOwnProperty(Q)||(g||(g={}),g[Q]="");for(Q in Se)Se.hasOwnProperty(Q)&&ve[Q]!==Se[Q]&&(g||(g={}),g[Q]=Se[Q])}else g||(B||(B=[]),B.push($e,g)),g=Se;else $e==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ve=ve?ve.__html:void 0,Se!=null&&ve!==Se&&(B=B||[]).push($e,Se)):$e==="children"?typeof Se!="string"&&typeof Se!="number"||(B=B||[]).push($e,""+Se):$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&(i.hasOwnProperty($e)?(Se!=null&&$e==="onScroll"&&cr("scroll",l),B||ve===Se||(B=[])):(B=B||[]).push($e,Se))}g&&(B=B||[]).push("style",g);var $e=B;(d.updateQueue=$e)&&(d.flags|=4)}},du=function(l,d,g,R){g!==R&&(d.flags|=4)};function Ji(l,d){if(!mr)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var R=null;g!==null;)g.alternate!==null&&(R=g),g=g.sibling;R===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:R.sibling=null}}function Xr(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,R=0;if(d)for(var N=l.child;N!==null;)g|=N.lanes|N.childLanes,R|=N.subtreeFlags&14680064,R|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)g|=N.lanes|N.childLanes,R|=N.subtreeFlags,R|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=R,l.childLanes=g,d}function Ed(l,d,g){var R=d.pendingProps;switch(ja(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(d),null;case 1:return an(d.type)&&To(),Xr(d),null;case 3:return R=d.stateNode,bi(),ur(on),ur(Kr),Wa(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(l===null||l.child===null)&&(Io(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Fn!==null&&(_l(Fn),Fn=null))),ul(l,d),Xr(d),null;case 5:Ua(d);var N=Hs(qi.current);if(g=d.type,l!==null&&d.stateNode!=null)uu(l,d,g,R,N),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!R){if(d.stateNode===null)throw Error(n(166));return Xr(d),null}if(l=Hs(ts.current),Io(d)){R=d.stateNode,g=d.type;var B=d.memoizedProps;switch(R[es]=d,R[zi]=B,l=(d.mode&1)!==0,g){case"dialog":cr("cancel",R),cr("close",R);break;case"iframe":case"object":case"embed":cr("load",R);break;case"video":case"audio":for(N=0;N<Fi.length;N++)cr(Fi[N],R);break;case"source":cr("error",R);break;case"img":case"image":case"link":cr("error",R),cr("load",R);break;case"details":cr("toggle",R);break;case"input":Ge(R,B),cr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!B.multiple},cr("invalid",R);break;case"textarea":Pt(R,B),cr("invalid",R)}Ur(g,B),N=null;for(var Q in B)if(B.hasOwnProperty(Q)){var ve=B[Q];Q==="children"?typeof ve=="string"?R.textContent!==ve&&(B.suppressHydrationWarning!==!0&&bo(R.textContent,ve,l),N=["children",ve]):typeof ve=="number"&&R.textContent!==""+ve&&(B.suppressHydrationWarning!==!0&&bo(R.textContent,ve,l),N=["children",""+ve]):i.hasOwnProperty(Q)&&ve!=null&&Q==="onScroll"&&cr("scroll",R)}switch(g){case"input":Ze(R),lt(R,B,!0);break;case"textarea":Ze(R),Jt(R);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(R.onclick=Ro)}R=N,d.updateQueue=R,R!==null&&(d.flags|=4)}else{Q=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ct(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=Q.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof R.is=="string"?l=Q.createElement(g,{is:R.is}):(l=Q.createElement(g),g==="select"&&(Q=l,R.multiple?Q.multiple=!0:R.size&&(Q.size=R.size))):l=Q.createElementNS(l,g),l[es]=d,l[zi]=R,cu(l,d,!1,!1),d.stateNode=l;e:{switch(Q=Nr(g,R),g){case"dialog":cr("cancel",l),cr("close",l),N=R;break;case"iframe":case"object":case"embed":cr("load",l),N=R;break;case"video":case"audio":for(N=0;N<Fi.length;N++)cr(Fi[N],l);N=R;break;case"source":cr("error",l),N=R;break;case"img":case"image":case"link":cr("error",l),cr("load",l),N=R;break;case"details":cr("toggle",l),N=R;break;case"input":Ge(l,R),N=He(l,R),cr("invalid",l);break;case"option":N=R;break;case"select":l._wrapperState={wasMultiple:!!R.multiple},N=ee({},R,{value:void 0}),cr("invalid",l);break;case"textarea":Pt(l,R),N=_t(l,R),cr("invalid",l);break;default:N=R}Ur(g,N),ve=N;for(B in ve)if(ve.hasOwnProperty(B)){var Se=ve[B];B==="style"?tn(l,Se):B==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&Zt(l,Se)):B==="children"?typeof Se=="string"?(g!=="textarea"||Se!=="")&&er(l,Se):typeof Se=="number"&&er(l,""+Se):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?Se!=null&&B==="onScroll"&&cr("scroll",l):Se!=null&&A(l,B,Se,Q))}switch(g){case"input":Ze(l),lt(l,R,!1);break;case"textarea":Ze(l),Jt(l);break;case"option":R.value!=null&&l.setAttribute("value",""+Be(R.value));break;case"select":l.multiple=!!R.multiple,B=R.value,B!=null?yt(l,!!R.multiple,B,!1):R.defaultValue!=null&&yt(l,!!R.multiple,R.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=Ro)}switch(g){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Xr(d),null;case 6:if(l&&d.stateNode!=null)du(l,d,l.memoizedProps,R);else{if(typeof R!="string"&&d.stateNode===null)throw Error(n(166));if(g=Hs(qi.current),Hs(ts.current),Io(d)){if(R=d.stateNode,g=d.memoizedProps,R[es]=d,(B=R.nodeValue!==g)&&(l=yn,l!==null))switch(l.tag){case 3:bo(R.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&bo(R.nodeValue,g,(l.mode&1)!==0)}B&&(d.flags|=4)}else R=(g.nodeType===9?g:g.ownerDocument).createTextNode(R),R[es]=d,d.stateNode=R}return Xr(d),null;case 13:if(ur(xr),R=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(mr&&vn!==null&&(d.mode&1)!==0&&(d.flags&128)===0)pc(),yi(),d.flags|=98560,B=!1;else if(B=Io(d),R!==null&&R.dehydrated!==null){if(l===null){if(!B)throw Error(n(318));if(B=d.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[es]=d}else yi(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xr(d),B=!1}else Fn!==null&&(_l(Fn),Fn=null),B=!0;if(!B)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(R=R!==null,R!==(l!==null&&l.memoizedState!==null)&&R&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(xr.current&1)!==0?Ar===0&&(Ar=3):wl())),d.updateQueue!==null&&(d.flags|=4),Xr(d),null);case 4:return bi(),ul(l,d),l===null&&Bi(d.stateNode.containerInfo),Xr(d),null;case 10:return Oa(d.type._context),Xr(d),null;case 17:return an(d.type)&&To(),Xr(d),null;case 19:if(ur(xr),B=d.memoizedState,B===null)return Xr(d),null;if(R=(d.flags&128)!==0,Q=B.rendering,Q===null)if(R)Ji(B,!1);else{if(Ar!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(Q=Vo(l),Q!==null){for(d.flags|=128,Ji(B,!1),R=Q.updateQueue,R!==null&&(d.updateQueue=R,d.flags|=4),d.subtreeFlags=0,R=g,g=d.child;g!==null;)B=g,l=R,B.flags&=14680066,Q=B.alternate,Q===null?(B.childLanes=0,B.lanes=l,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=Q.childLanes,B.lanes=Q.lanes,B.child=Q.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=Q.memoizedProps,B.memoizedState=Q.memoizedState,B.updateQueue=Q.updateQueue,B.type=Q.type,l=Q.dependencies,B.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return ar(xr,xr.current&1|2),d.child}l=l.sibling}B.tail!==null&&$t()>Si&&(d.flags|=128,R=!0,Ji(B,!1),d.lanes=4194304)}else{if(!R)if(l=Vo(Q),l!==null){if(d.flags|=128,R=!0,g=l.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Ji(B,!0),B.tail===null&&B.tailMode==="hidden"&&!Q.alternate&&!mr)return Xr(d),null}else 2*$t()-B.renderingStartTime>Si&&g!==1073741824&&(d.flags|=128,R=!0,Ji(B,!1),d.lanes=4194304);B.isBackwards?(Q.sibling=d.child,d.child=Q):(g=B.last,g!==null?g.sibling=Q:d.child=Q,B.last=Q)}return B.tail!==null?(d=B.tail,B.rendering=d,B.tail=d.sibling,B.renderingStartTime=$t(),d.sibling=null,g=xr.current,ar(xr,R?g&1|2:g&1),d):(Xr(d),null);case 22:case 23:return Rl(),R=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==R&&(d.flags|=8192),R&&(d.mode&1)!==0?(En&1073741824)!==0&&(Xr(d),d.subtreeFlags&6&&(d.flags|=8192)):Xr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function _d(l,d){switch(ja(d),d.tag){case 1:return an(d.type)&&To(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return bi(),ur(on),ur(Kr),Wa(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Ua(d),null;case 13:if(ur(xr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));yi()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return ur(xr),null;case 4:return bi(),null;case 10:return Oa(d.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var Wo=!1,Qr=!1,bd=typeof WeakSet=="function"?WeakSet:Set,dt=null;function wi(l,d){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(R){Er(l,d,R)}else g.current=null}function dl(l,d,g){try{g()}catch(R){Er(l,d,R)}}var hu=!1;function Rd(l,d){if(Ra=vs,l=Hl(),ma(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var R=g.getSelection&&g.getSelection();if(R&&R.rangeCount!==0){g=R.anchorNode;var N=R.anchorOffset,B=R.focusNode;R=R.focusOffset;try{g.nodeType,B.nodeType}catch{g=null;break e}var Q=0,ve=-1,Se=-1,$e=0,Xe=0,Qe=l,Ye=null;t:for(;;){for(var ut;Qe!==g||N!==0&&Qe.nodeType!==3||(ve=Q+N),Qe!==B||R!==0&&Qe.nodeType!==3||(Se=Q+R),Qe.nodeType===3&&(Q+=Qe.nodeValue.length),(ut=Qe.firstChild)!==null;)Ye=Qe,Qe=ut;for(;;){if(Qe===l)break t;if(Ye===g&&++$e===N&&(ve=Q),Ye===B&&++Xe===R&&(Se=Q),(ut=Qe.nextSibling)!==null)break;Qe=Ye,Ye=Qe.parentNode}Qe=ut}g=ve===-1||Se===-1?null:{start:ve,end:Se}}else g=null}g=g||{start:0,end:0}}else g=null;for(wa={focusedElem:l,selectionRange:g},vs=!1,dt=d;dt!==null;)if(d=dt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,dt=l;else for(;dt!==null;){d=dt;try{var ft=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var mt=ft.memoizedProps,br=ft.memoizedState,Ve=d.stateNode,Ce=Ve.getSnapshotBeforeUpdate(d.elementType===d.type?mt:Bn(d.type,mt),br);Ve.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Fe=d.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){Er(d,d.return,rt)}if(l=d.sibling,l!==null){l.return=d.return,dt=l;break}dt=d.return}return ft=hu,hu=!1,ft}function Zi(l,d,g){var R=d.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var N=R=R.next;do{if((N.tag&l)===l){var B=N.destroy;N.destroy=void 0,B!==void 0&&dl(d,g,B)}N=N.next}while(N!==R)}}function Go(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&l)===l){var R=g.create;g.destroy=R()}g=g.next}while(g!==d)}}function hl(l){var d=l.ref;if(d!==null){var g=l.stateNode;switch(l.tag){case 5:l=g;break;default:l=g}typeof d=="function"?d(l):d.current=l}}function fu(l){var d=l.alternate;d!==null&&(l.alternate=null,fu(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[es],delete d[zi],delete d[Aa],delete d[sd],delete d[od])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function pu(l){return l.tag===5||l.tag===3||l.tag===4}function mu(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pu(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function fl(l,d,g){var R=l.tag;if(R===5||R===6)l=l.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(l,d):g.insertBefore(l,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(l,g)):(d=g,d.appendChild(l)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Ro));else if(R!==4&&(l=l.child,l!==null))for(fl(l,d,g),l=l.sibling;l!==null;)fl(l,d,g),l=l.sibling}function pl(l,d,g){var R=l.tag;if(R===5||R===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(R!==4&&(l=l.child,l!==null))for(pl(l,d,g),l=l.sibling;l!==null;)pl(l,d,g),l=l.sibling}var Br=null,$n=!1;function As(l,d,g){for(g=g.child;g!==null;)gu(l,d,g),g=g.sibling}function gu(l,d,g){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(tt,g)}catch{}switch(g.tag){case 5:Qr||wi(g,d);case 6:var R=Br,N=$n;Br=null,As(l,d,g),Br=R,$n=N,Br!==null&&($n?(l=Br,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Br.removeChild(g.stateNode));break;case 18:Br!==null&&($n?(l=Br,g=g.stateNode,l.nodeType===8?Pa(l.parentNode,g):l.nodeType===1&&Pa(l,g),Vn(l)):Pa(Br,g.stateNode));break;case 4:R=Br,N=$n,Br=g.stateNode.containerInfo,$n=!0,As(l,d,g),Br=R,$n=N;break;case 0:case 11:case 14:case 15:if(!Qr&&(R=g.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){N=R=R.next;do{var B=N,Q=B.destroy;B=B.tag,Q!==void 0&&((B&2)!==0||(B&4)!==0)&&dl(g,d,Q),N=N.next}while(N!==R)}As(l,d,g);break;case 1:if(!Qr&&(wi(g,d),R=g.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=g.memoizedProps,R.state=g.memoizedState,R.componentWillUnmount()}catch(ve){Er(g,d,ve)}As(l,d,g);break;case 21:As(l,d,g);break;case 22:g.mode&1?(Qr=(R=Qr)||g.memoizedState!==null,As(l,d,g),Qr=R):As(l,d,g);break;default:As(l,d,g)}}function xu(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new bd),d.forEach(function(R){var N=jd.bind(null,l,R);g.has(R)||(g.add(R),R.then(N,N))})}}function zn(l,d){var g=d.deletions;if(g!==null)for(var R=0;R<g.length;R++){var N=g[R];try{var B=l,Q=d,ve=Q;e:for(;ve!==null;){switch(ve.tag){case 5:Br=ve.stateNode,$n=!1;break e;case 3:Br=ve.stateNode.containerInfo,$n=!0;break e;case 4:Br=ve.stateNode.containerInfo,$n=!0;break e}ve=ve.return}if(Br===null)throw Error(n(160));gu(B,Q,N),Br=null,$n=!1;var Se=N.alternate;Se!==null&&(Se.return=null),N.return=null}catch($e){Er(N,d,$e)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)yu(d,l),d=d.sibling}function yu(l,d){var g=l.alternate,R=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(zn(d,l),ns(l),R&4){try{Zi(3,l,l.return),Go(3,l)}catch(mt){Er(l,l.return,mt)}try{Zi(5,l,l.return)}catch(mt){Er(l,l.return,mt)}}break;case 1:zn(d,l),ns(l),R&512&&g!==null&&wi(g,g.return);break;case 5:if(zn(d,l),ns(l),R&512&&g!==null&&wi(g,g.return),l.flags&32){var N=l.stateNode;try{er(N,"")}catch(mt){Er(l,l.return,mt)}}if(R&4&&(N=l.stateNode,N!=null)){var B=l.memoizedProps,Q=g!==null?g.memoizedProps:B,ve=l.type,Se=l.updateQueue;if(l.updateQueue=null,Se!==null)try{ve==="input"&&B.type==="radio"&&B.name!=null&&at(N,B),Nr(ve,Q);var $e=Nr(ve,B);for(Q=0;Q<Se.length;Q+=2){var Xe=Se[Q],Qe=Se[Q+1];Xe==="style"?tn(N,Qe):Xe==="dangerouslySetInnerHTML"?Zt(N,Qe):Xe==="children"?er(N,Qe):A(N,Xe,Qe,$e)}switch(ve){case"input":et(N,B);break;case"textarea":Lt(N,B);break;case"select":var Ye=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!B.multiple;var ut=B.value;ut!=null?yt(N,!!B.multiple,ut,!1):Ye!==!!B.multiple&&(B.defaultValue!=null?yt(N,!!B.multiple,B.defaultValue,!0):yt(N,!!B.multiple,B.multiple?[]:"",!1))}N[zi]=B}catch(mt){Er(l,l.return,mt)}}break;case 6:if(zn(d,l),ns(l),R&4){if(l.stateNode===null)throw Error(n(162));N=l.stateNode,B=l.memoizedProps;try{N.nodeValue=B}catch(mt){Er(l,l.return,mt)}}break;case 3:if(zn(d,l),ns(l),R&4&&g!==null&&g.memoizedState.isDehydrated)try{Vn(d.containerInfo)}catch(mt){Er(l,l.return,mt)}break;case 4:zn(d,l),ns(l);break;case 13:zn(d,l),ns(l),N=l.child,N.flags&8192&&(B=N.memoizedState!==null,N.stateNode.isHidden=B,!B||N.alternate!==null&&N.alternate.memoizedState!==null||(xl=$t())),R&4&&xu(l);break;case 22:if(Xe=g!==null&&g.memoizedState!==null,l.mode&1?(Qr=($e=Qr)||Xe,zn(d,l),Qr=$e):zn(d,l),ns(l),R&8192){if($e=l.memoizedState!==null,(l.stateNode.isHidden=$e)&&!Xe&&(l.mode&1)!==0)for(dt=l,Xe=l.child;Xe!==null;){for(Qe=dt=Xe;dt!==null;){switch(Ye=dt,ut=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:Zi(4,Ye,Ye.return);break;case 1:wi(Ye,Ye.return);var ft=Ye.stateNode;if(typeof ft.componentWillUnmount=="function"){R=Ye,g=Ye.return;try{d=R,ft.props=d.memoizedProps,ft.state=d.memoizedState,ft.componentWillUnmount()}catch(mt){Er(R,g,mt)}}break;case 5:wi(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){_u(Qe);continue}}ut!==null?(ut.return=Ye,dt=ut):_u(Qe)}Xe=Xe.sibling}e:for(Xe=null,Qe=l;;){if(Qe.tag===5){if(Xe===null){Xe=Qe;try{N=Qe.stateNode,$e?(B=N.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(ve=Qe.stateNode,Se=Qe.memoizedProps.style,Q=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ve.style.display=qe("display",Q))}catch(mt){Er(l,l.return,mt)}}}else if(Qe.tag===6){if(Xe===null)try{Qe.stateNode.nodeValue=$e?"":Qe.memoizedProps}catch(mt){Er(l,l.return,mt)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===l)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===l)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===l)break e;Xe===Qe&&(Xe=null),Qe=Qe.return}Xe===Qe&&(Xe=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:zn(d,l),ns(l),R&4&&xu(l);break;case 21:break;default:zn(d,l),ns(l)}}function ns(l){var d=l.flags;if(d&2){try{e:{for(var g=l.return;g!==null;){if(pu(g)){var R=g;break e}g=g.return}throw Error(n(160))}switch(R.tag){case 5:var N=R.stateNode;R.flags&32&&(er(N,""),R.flags&=-33);var B=mu(l);pl(l,B,N);break;case 3:case 4:var Q=R.stateNode.containerInfo,ve=mu(l);fl(l,ve,Q);break;default:throw Error(n(161))}}catch(Se){Er(l,l.return,Se)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function wd(l,d,g){dt=l,vu(l)}function vu(l,d,g){for(var R=(l.mode&1)!==0;dt!==null;){var N=dt,B=N.child;if(N.tag===22&&R){var Q=N.memoizedState!==null||Wo;if(!Q){var ve=N.alternate,Se=ve!==null&&ve.memoizedState!==null||Qr;ve=Wo;var $e=Qr;if(Wo=Q,(Qr=Se)&&!$e)for(dt=N;dt!==null;)Q=dt,Se=Q.child,Q.tag===22&&Q.memoizedState!==null?bu(N):Se!==null?(Se.return=Q,dt=Se):bu(N);for(;B!==null;)dt=B,vu(B),B=B.sibling;dt=N,Wo=ve,Qr=$e}Eu(l)}else(N.subtreeFlags&8772)!==0&&B!==null?(B.return=N,dt=B):Eu(l)}}function Eu(l){for(;dt!==null;){var d=dt;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Qr||Go(5,d);break;case 1:var R=d.stateNode;if(d.flags&4&&!Qr)if(g===null)R.componentDidMount();else{var N=d.elementType===d.type?g.memoizedProps:Bn(d.type,g.memoizedProps);R.componentDidUpdate(N,g.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var B=d.updateQueue;B!==null&&_c(d,B,R);break;case 3:var Q=d.updateQueue;if(Q!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}_c(d,Q,g)}break;case 5:var ve=d.stateNode;if(g===null&&d.flags&4){g=ve;var Se=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&g.focus();break;case"img":Se.src&&(g.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var $e=d.alternate;if($e!==null){var Xe=$e.memoizedState;if(Xe!==null){var Qe=Xe.dehydrated;Qe!==null&&Vn(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qr||d.flags&512&&hl(d)}catch(Ye){Er(d,d.return,Ye)}}if(d===l){dt=null;break}if(g=d.sibling,g!==null){g.return=d.return,dt=g;break}dt=d.return}}function _u(l){for(;dt!==null;){var d=dt;if(d===l){dt=null;break}var g=d.sibling;if(g!==null){g.return=d.return,dt=g;break}dt=d.return}}function bu(l){for(;dt!==null;){var d=dt;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{Go(4,d)}catch(Se){Er(d,g,Se)}break;case 1:var R=d.stateNode;if(typeof R.componentDidMount=="function"){var N=d.return;try{R.componentDidMount()}catch(Se){Er(d,N,Se)}}var B=d.return;try{hl(d)}catch(Se){Er(d,B,Se)}break;case 5:var Q=d.return;try{hl(d)}catch(Se){Er(d,Q,Se)}}}catch(Se){Er(d,d.return,Se)}if(d===l){dt=null;break}var ve=d.sibling;if(ve!==null){ve.return=d.return,dt=ve;break}dt=d.return}}var Td=Math.ceil,qo=j.ReactCurrentDispatcher,ml=j.ReactCurrentOwner,In=j.ReactCurrentBatchConfig,Ht=0,kr=null,Tr=null,$r=0,En=0,Ti=Rs(0),Ar=0,eo=null,Gs=0,Ko=0,gl=0,to=null,un=null,xl=0,Si=1/0,gs=null,Yo=!1,yl=null,Cs=null,Xo=!1,Is=null,Qo=0,ro=0,vl=null,Jo=-1,Zo=0;function en(){return(Ht&6)!==0?$t():Jo!==-1?Jo:Jo=$t()}function ks(l){return(l.mode&1)===0?1:(Ht&2)!==0&&$r!==0?$r&-$r:ld.transition!==null?(Zo===0&&(Zo=sr()),Zo):(l=St,l!==0||(l=window.event,l=l===void 0?16:Ii(l.type)),l)}function Un(l,d,g,R){if(50<ro)throw ro=0,vl=null,Error(n(185));Rr(l,g,R),((Ht&2)===0||l!==kr)&&(l===kr&&((Ht&2)===0&&(Ko|=g),Ar===4&&js(l,$r)),dn(l,R),g===1&&Ht===0&&(d.mode&1)===0&&(Si=$t()+500,Po&&Ts()))}function dn(l,d){var g=l.callbackNode;xt(l,d);var R=Ae(l,l===kr?$r:0);if(R===0)g!==null&&qn(g),l.callbackNode=null,l.callbackPriority=0;else if(d=R&-R,l.callbackPriority!==d){if(g!=null&&qn(g),d===1)l.tag===0?ad(wu.bind(null,l)):cc(wu.bind(null,l)),rd(function(){(Ht&6)===0&&Ts()}),g=null;else{switch(Lr(R)){case 1:g=Rn;break;case 4:g=pn;break;case 16:g=Vr;break;case 536870912:g=Le;break;default:g=Vr}g=ju(g,Ru.bind(null,l))}l.callbackPriority=d,l.callbackNode=g}}function Ru(l,d){if(Jo=-1,Zo=0,(Ht&6)!==0)throw Error(n(327));var g=l.callbackNode;if(Pi()&&l.callbackNode!==g)return null;var R=Ae(l,l===kr?$r:0);if(R===0)return null;if((R&30)!==0||(R&l.expiredLanes)!==0||d)d=ea(l,R);else{d=R;var N=Ht;Ht|=2;var B=Su();(kr!==l||$r!==d)&&(gs=null,Si=$t()+500,Ks(l,d));do try{Ad();break}catch(ve){Tu(l,ve)}while(!0);La(),qo.current=B,Ht=N,Tr!==null?d=0:(kr=null,$r=0,d=Ar)}if(d!==0){if(d===2&&(N=zt(l),N!==0&&(R=N,d=El(l,N))),d===1)throw g=eo,Ks(l,0),js(l,R),dn(l,$t()),g;if(d===6)js(l,R);else{if(N=l.current.alternate,(R&30)===0&&!Sd(N)&&(d=ea(l,R),d===2&&(B=zt(l),B!==0&&(R=B,d=El(l,B))),d===1))throw g=eo,Ks(l,0),js(l,R),dn(l,$t()),g;switch(l.finishedWork=N,l.finishedLanes=R,d){case 0:case 1:throw Error(n(345));case 2:Ys(l,un,gs);break;case 3:if(js(l,R),(R&130023424)===R&&(d=xl+500-$t(),10<d)){if(Ae(l,0)!==0)break;if(N=l.suspendedLanes,(N&R)!==R){en(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=Sa(Ys.bind(null,l,un,gs),d);break}Ys(l,un,gs);break;case 4:if(js(l,R),(R&4194240)===R)break;for(d=l.eventTimes,N=-1;0<R;){var Q=31-st(R);B=1<<Q,Q=d[Q],Q>N&&(N=Q),R&=~B}if(R=N,R=$t()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Td(R/1960))-R,10<R){l.timeoutHandle=Sa(Ys.bind(null,l,un,gs),R);break}Ys(l,un,gs);break;case 5:Ys(l,un,gs);break;default:throw Error(n(329))}}}return dn(l,$t()),l.callbackNode===g?Ru.bind(null,l):null}function El(l,d){var g=to;return l.current.memoizedState.isDehydrated&&(Ks(l,d).flags|=256),l=ea(l,d),l!==2&&(d=un,un=g,d!==null&&_l(d)),l}function _l(l){un===null?un=l:un.push.apply(un,l)}function Sd(l){for(var d=l;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var R=0;R<g.length;R++){var N=g[R],B=N.getSnapshot;N=N.value;try{if(!On(B(),N))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function js(l,d){for(d&=~gl,d&=~Ko,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var g=31-st(d),R=1<<g;l[g]=-1,d&=~R}}function wu(l){if((Ht&6)!==0)throw Error(n(327));Pi();var d=Ae(l,0);if((d&1)===0)return dn(l,$t()),null;var g=ea(l,d);if(l.tag!==0&&g===2){var R=zt(l);R!==0&&(d=R,g=El(l,R))}if(g===1)throw g=eo,Ks(l,0),js(l,d),dn(l,$t()),g;if(g===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ys(l,un,gs),dn(l,$t()),null}function bl(l,d){var g=Ht;Ht|=1;try{return l(d)}finally{Ht=g,Ht===0&&(Si=$t()+500,Po&&Ts())}}function qs(l){Is!==null&&Is.tag===0&&(Ht&6)===0&&Pi();var d=Ht;Ht|=1;var g=In.transition,R=St;try{if(In.transition=null,St=1,l)return l()}finally{St=R,In.transition=g,Ht=d,(Ht&6)===0&&Ts()}}function Rl(){En=Ti.current,ur(Ti)}function Ks(l,d){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,td(g)),Tr!==null)for(g=Tr.return;g!==null;){var R=g;switch(ja(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&To();break;case 3:bi(),ur(on),ur(Kr),Wa();break;case 5:Ua(R);break;case 4:bi();break;case 13:ur(xr);break;case 19:ur(xr);break;case 10:Oa(R.type._context);break;case 22:case 23:Rl()}g=g.return}if(kr=l,Tr=l=Ns(l.current,null),$r=En=d,Ar=0,eo=null,gl=Ko=Gs=0,un=to=null,Us!==null){for(d=0;d<Us.length;d++)if(g=Us[d],R=g.interleaved,R!==null){g.interleaved=null;var N=R.next,B=g.pending;if(B!==null){var Q=B.next;B.next=N,R.next=Q}g.pending=R}Us=null}return l}function Tu(l,d){do{var g=Tr;try{if(La(),Lo.current=$o,Oo){for(var R=yr.memoizedState;R!==null;){var N=R.queue;N!==null&&(N.pending=null),R=R.next}Oo=!1}if(Ws=0,Ir=Pr=yr=null,Ki=!1,Yi=0,ml.current=null,g===null||g.return===null){Ar=1,eo=d,Tr=null;break}e:{var B=l,Q=g.return,ve=g,Se=d;if(d=$r,ve.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var $e=Se,Xe=ve,Qe=Xe.tag;if((Xe.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ye=Xe.alternate;Ye?(Xe.updateQueue=Ye.updateQueue,Xe.memoizedState=Ye.memoizedState,Xe.lanes=Ye.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var ut=Xc(Q);if(ut!==null){ut.flags&=-257,Qc(ut,Q,ve,B,d),ut.mode&1&&Yc(B,$e,d),d=ut,Se=$e;var ft=d.updateQueue;if(ft===null){var mt=new Set;mt.add(Se),d.updateQueue=mt}else ft.add(Se);break e}else{if((d&1)===0){Yc(B,$e,d),wl();break e}Se=Error(n(426))}}else if(mr&&ve.mode&1){var br=Xc(Q);if(br!==null){(br.flags&65536)===0&&(br.flags|=256),Qc(br,Q,ve,B,d),Ma(Ri(Se,ve));break e}}B=Se=Ri(Se,ve),Ar!==4&&(Ar=2),to===null?to=[B]:to.push(B),B=Q;do{switch(B.tag){case 3:B.flags|=65536,d&=-d,B.lanes|=d;var Ve=qc(B,Se,d);Ec(B,Ve);break e;case 1:ve=Se;var Ce=B.type,Fe=B.stateNode;if((B.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Cs===null||!Cs.has(Fe)))){B.flags|=65536,d&=-d,B.lanes|=d;var rt=Kc(B,ve,d);Ec(B,rt);break e}}B=B.return}while(B!==null)}Au(g)}catch(gt){d=gt,Tr===g&&g!==null&&(Tr=g=g.return);continue}break}while(!0)}function Su(){var l=qo.current;return qo.current=$o,l===null?$o:l}function wl(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),kr===null||(Gs&268435455)===0&&(Ko&268435455)===0||js(kr,$r)}function ea(l,d){var g=Ht;Ht|=2;var R=Su();(kr!==l||$r!==d)&&(gs=null,Ks(l,d));do try{Pd();break}catch(N){Tu(l,N)}while(!0);if(La(),Ht=g,qo.current=R,Tr!==null)throw Error(n(261));return kr=null,$r=0,Ar}function Pd(){for(;Tr!==null;)Pu(Tr)}function Ad(){for(;Tr!==null&&!ss();)Pu(Tr)}function Pu(l){var d=ku(l.alternate,l,En);l.memoizedProps=l.pendingProps,d===null?Au(l):Tr=d,ml.current=null}function Au(l){var d=l;do{var g=d.alternate;if(l=d.return,(d.flags&32768)===0){if(g=Ed(g,d,En),g!==null){Tr=g;return}}else{if(g=_d(g,d),g!==null){g.flags&=32767,Tr=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Ar=6,Tr=null;return}}if(d=d.sibling,d!==null){Tr=d;return}Tr=d=l}while(d!==null);Ar===0&&(Ar=5)}function Ys(l,d,g){var R=St,N=In.transition;try{In.transition=null,St=1,Cd(l,d,g,R)}finally{In.transition=N,St=R}return null}function Cd(l,d,g,R){do Pi();while(Is!==null);if((Ht&6)!==0)throw Error(n(327));g=l.finishedWork;var N=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var B=g.lanes|g.childLanes;if(Ut(l,B),l===kr&&(Tr=kr=null,$r=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Xo||(Xo=!0,ju(Vr,function(){return Pi(),null})),B=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||B){B=In.transition,In.transition=null;var Q=St;St=1;var ve=Ht;Ht|=4,ml.current=null,Rd(l,g),yu(g,l),Ku(wa),vs=!!Ra,wa=Ra=null,l.current=g,wd(g),jn(),Ht=ve,St=Q,In.transition=B}else l.current=g;if(Xo&&(Xo=!1,Is=l,Qo=N),B=l.pendingLanes,B===0&&(Cs=null),ht(g.stateNode),dn(l,$t()),d!==null)for(R=l.onRecoverableError,g=0;g<d.length;g++)N=d[g],R(N.value,{componentStack:N.stack,digest:N.digest});if(Yo)throw Yo=!1,l=yl,yl=null,l;return(Qo&1)!==0&&l.tag!==0&&Pi(),B=l.pendingLanes,(B&1)!==0?l===vl?ro++:(ro=0,vl=l):ro=0,Ts(),null}function Pi(){if(Is!==null){var l=Lr(Qo),d=In.transition,g=St;try{if(In.transition=null,St=16>l?16:l,Is===null)var R=!1;else{if(l=Is,Is=null,Qo=0,(Ht&6)!==0)throw Error(n(331));var N=Ht;for(Ht|=4,dt=l.current;dt!==null;){var B=dt,Q=B.child;if((dt.flags&16)!==0){var ve=B.deletions;if(ve!==null){for(var Se=0;Se<ve.length;Se++){var $e=ve[Se];for(dt=$e;dt!==null;){var Xe=dt;switch(Xe.tag){case 0:case 11:case 15:Zi(8,Xe,B)}var Qe=Xe.child;if(Qe!==null)Qe.return=Xe,dt=Qe;else for(;dt!==null;){Xe=dt;var Ye=Xe.sibling,ut=Xe.return;if(fu(Xe),Xe===$e){dt=null;break}if(Ye!==null){Ye.return=ut,dt=Ye;break}dt=ut}}}var ft=B.alternate;if(ft!==null){var mt=ft.child;if(mt!==null){ft.child=null;do{var br=mt.sibling;mt.sibling=null,mt=br}while(mt!==null)}}dt=B}}if((B.subtreeFlags&2064)!==0&&Q!==null)Q.return=B,dt=Q;else e:for(;dt!==null;){if(B=dt,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:Zi(9,B,B.return)}var Ve=B.sibling;if(Ve!==null){Ve.return=B.return,dt=Ve;break e}dt=B.return}}var Ce=l.current;for(dt=Ce;dt!==null;){Q=dt;var Fe=Q.child;if((Q.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=Q,dt=Fe;else e:for(Q=Ce;dt!==null;){if(ve=dt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:Go(9,ve)}}catch(gt){Er(ve,ve.return,gt)}if(ve===Q){dt=null;break e}var rt=ve.sibling;if(rt!==null){rt.return=ve.return,dt=rt;break e}dt=ve.return}}if(Ht=N,Ts(),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(tt,l)}catch{}R=!0}return R}finally{St=g,In.transition=d}}return!1}function Cu(l,d,g){d=Ri(g,d),d=qc(l,d,1),l=Ps(l,d,1),d=en(),l!==null&&(Rr(l,1,d),dn(l,d))}function Er(l,d,g){if(l.tag===3)Cu(l,l,g);else for(;d!==null;){if(d.tag===3){Cu(d,l,g);break}else if(d.tag===1){var R=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Cs===null||!Cs.has(R))){l=Ri(g,l),l=Kc(d,l,1),d=Ps(d,l,1),l=en(),d!==null&&(Rr(d,1,l),dn(d,l));break}}d=d.return}}function Id(l,d,g){var R=l.pingCache;R!==null&&R.delete(d),d=en(),l.pingedLanes|=l.suspendedLanes&g,kr===l&&($r&g)===g&&(Ar===4||Ar===3&&($r&130023424)===$r&&500>$t()-xl?Ks(l,0):gl|=g),dn(l,d)}function Iu(l,d){d===0&&((l.mode&1)===0?d=1:(d=Gr,Gr<<=1,(Gr&130023424)===0&&(Gr=4194304)));var g=en();l=fs(l,d),l!==null&&(Rr(l,d,g),dn(l,g))}function kd(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),Iu(l,g)}function jd(l,d){var g=0;switch(l.tag){case 13:var R=l.stateNode,N=l.memoizedState;N!==null&&(g=N.retryLane);break;case 19:R=l.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(d),Iu(l,g)}var ku;ku=function(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps||on.current)ln=!0;else{if((l.lanes&g)===0&&(d.flags&128)===0)return ln=!1,vd(l,d,g);ln=(l.flags&131072)!==0}else ln=!1,mr&&(d.flags&1048576)!==0&&uc(d,Co,d.index);switch(d.lanes=0,d.tag){case 2:var R=d.type;Ho(l,d),l=d.pendingProps;var N=mi(d,Kr.current);_i(d,g),N=Ka(null,d,R,l,N,g);var B=Ya();return d.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,an(R)?(B=!0,So(d)):B=!1,d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,$a(d),N.updater=zo,d.stateNode=N,N._reactInternals=d,tl(d,R,l,g),d=il(null,d,R,!0,B,g)):(d.tag=0,mr&&B&&ka(d),Zr(null,d,N,g),d=d.child),d;case 16:R=d.elementType;e:{switch(Ho(l,d),l=d.pendingProps,N=R._init,R=N(R._payload),d.type=R,N=d.tag=Dd(R),l=Bn(R,l),N){case 0:d=sl(null,d,R,l,g);break e;case 1:d=nu(null,d,R,l,g);break e;case 11:d=Jc(null,d,R,l,g);break e;case 14:d=Zc(null,d,R,Bn(R.type,l),g);break e}throw Error(n(306,R,""))}return d;case 0:return R=d.type,N=d.pendingProps,N=d.elementType===R?N:Bn(R,N),sl(l,d,R,N,g);case 1:return R=d.type,N=d.pendingProps,N=d.elementType===R?N:Bn(R,N),nu(l,d,R,N,g);case 3:e:{if(su(d),l===null)throw Error(n(387));R=d.pendingProps,B=d.memoizedState,N=B.element,vc(l,d),Mo(d,R,null,g);var Q=d.memoizedState;if(R=Q.element,B.isDehydrated)if(B={element:R,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){N=Ri(Error(n(423)),d),d=iu(l,d,R,g,N);break e}else if(R!==N){N=Ri(Error(n(424)),d),d=iu(l,d,R,g,N);break e}else for(vn=bs(d.stateNode.containerInfo.firstChild),yn=d,mr=!0,Fn=null,g=xc(d,null,R,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(yi(),R===N){d=ms(l,d,g);break e}Zr(l,d,R,g)}d=d.child}return d;case 5:return bc(d),l===null&&Da(d),R=d.type,N=d.pendingProps,B=l!==null?l.memoizedProps:null,Q=N.children,Ta(R,N)?Q=null:B!==null&&Ta(R,B)&&(d.flags|=32),ru(l,d),Zr(l,d,Q,g),d.child;case 6:return l===null&&Da(d),null;case 13:return ou(l,d,g);case 4:return za(d,d.stateNode.containerInfo),R=d.pendingProps,l===null?d.child=vi(d,null,R,g):Zr(l,d,R,g),d.child;case 11:return R=d.type,N=d.pendingProps,N=d.elementType===R?N:Bn(R,N),Jc(l,d,R,N,g);case 7:return Zr(l,d,d.pendingProps,g),d.child;case 8:return Zr(l,d,d.pendingProps.children,g),d.child;case 12:return Zr(l,d,d.pendingProps.children,g),d.child;case 10:e:{if(R=d.type._context,N=d.pendingProps,B=d.memoizedProps,Q=N.value,ar(jo,R._currentValue),R._currentValue=Q,B!==null)if(On(B.value,Q)){if(B.children===N.children&&!on.current){d=ms(l,d,g);break e}}else for(B=d.child,B!==null&&(B.return=d);B!==null;){var ve=B.dependencies;if(ve!==null){Q=B.child;for(var Se=ve.firstContext;Se!==null;){if(Se.context===R){if(B.tag===1){Se=ps(-1,g&-g),Se.tag=2;var $e=B.updateQueue;if($e!==null){$e=$e.shared;var Xe=$e.pending;Xe===null?Se.next=Se:(Se.next=Xe.next,Xe.next=Se),$e.pending=Se}}B.lanes|=g,Se=B.alternate,Se!==null&&(Se.lanes|=g),Fa(B.return,g,d),ve.lanes|=g;break}Se=Se.next}}else if(B.tag===10)Q=B.type===d.type?null:B.child;else if(B.tag===18){if(Q=B.return,Q===null)throw Error(n(341));Q.lanes|=g,ve=Q.alternate,ve!==null&&(ve.lanes|=g),Fa(Q,g,d),Q=B.sibling}else Q=B.child;if(Q!==null)Q.return=B;else for(Q=B;Q!==null;){if(Q===d){Q=null;break}if(B=Q.sibling,B!==null){B.return=Q.return,Q=B;break}Q=Q.return}B=Q}Zr(l,d,N.children,g),d=d.child}return d;case 9:return N=d.type,R=d.pendingProps.children,_i(d,g),N=An(N),R=R(N),d.flags|=1,Zr(l,d,R,g),d.child;case 14:return R=d.type,N=Bn(R,d.pendingProps),N=Bn(R.type,N),Zc(l,d,R,N,g);case 15:return eu(l,d,d.type,d.pendingProps,g);case 17:return R=d.type,N=d.pendingProps,N=d.elementType===R?N:Bn(R,N),Ho(l,d),d.tag=1,an(R)?(l=!0,So(d)):l=!1,_i(d,g),Wc(d,R,N),tl(d,R,N,g),il(null,d,R,!0,l,g);case 19:return lu(l,d,g);case 22:return tu(l,d,g)}throw Error(n(156,d.tag))};function ju(l,d){return Gn(l,d)}function Nd(l,d,g,R){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(l,d,g,R){return new Nd(l,d,g,R)}function Tl(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Dd(l){if(typeof l=="function")return Tl(l)?1:0;if(l!=null){if(l=l.$$typeof,l===Y)return 11;if(l===Re)return 14}return 2}function Ns(l,d){var g=l.alternate;return g===null?(g=kn(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function ta(l,d,g,R,N,B){var Q=2;if(R=l,typeof l=="function")Tl(l)&&(Q=1);else if(typeof l=="string")Q=5;else e:switch(l){case V:return Xs(g.children,N,B,d);case L:Q=8,N|=8;break;case U:return l=kn(12,g,d,N|2),l.elementType=U,l.lanes=B,l;case K:return l=kn(13,g,d,N),l.elementType=K,l.lanes=B,l;case ke:return l=kn(19,g,d,N),l.elementType=ke,l.lanes=B,l;case q:return ra(g,N,B,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case J:Q=10;break e;case Z:Q=9;break e;case Y:Q=11;break e;case Re:Q=14;break e;case G:Q=16,R=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=kn(Q,g,d,N),d.elementType=l,d.type=R,d.lanes=B,d}function Xs(l,d,g,R){return l=kn(7,l,R,d),l.lanes=g,l}function ra(l,d,g,R){return l=kn(22,l,R,d),l.elementType=q,l.lanes=g,l.stateNode={isHidden:!1},l}function Sl(l,d,g){return l=kn(6,l,null,d),l.lanes=g,l}function Pl(l,d,g){return d=kn(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function Md(l,d,g,R,N){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=R,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Al(l,d,g,R,N,B,Q,ve,Se){return l=new Md(l,d,g,ve,Se),d===1?(d=1,B===!0&&(d|=8)):d=0,B=kn(3,null,null,d),l.current=B,B.stateNode=l,B.memoizedState={element:R,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(B),l}function Vd(l,d,g){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:R==null?null:""+R,children:l,containerInfo:d,implementation:g}}function Nu(l){if(!l)return ws;l=l._reactInternals;e:{if(hr(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(an(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var g=l.type;if(an(g))return ac(l,g,d)}return d}function Du(l,d,g,R,N,B,Q,ve,Se){return l=Al(g,R,!0,l,N,B,Q,ve,Se),l.context=Nu(null),g=l.current,R=en(),N=ks(g),B=ps(R,N),B.callback=d??null,Ps(g,B,N),l.current.lanes=N,Rr(l,N,R),dn(l,R),l}function na(l,d,g,R){var N=d.current,B=en(),Q=ks(N);return g=Nu(g),d.context===null?d.context=g:d.pendingContext=g,d=ps(B,Q),d.payload={element:l},R=R===void 0?null:R,R!==null&&(d.callback=R),l=Ps(N,d,Q),l!==null&&(Un(l,N,Q,B),Do(l,N,Q)),Q}function sa(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Mu(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function Cl(l,d){Mu(l,d),(l=l.alternate)&&Mu(l,d)}function Ld(){return null}var Vu=typeof reportError=="function"?reportError:function(l){console.error(l)};function Il(l){this._internalRoot=l}ia.prototype.render=Il.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));na(l,d,null,null)},ia.prototype.unmount=Il.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;qs(function(){na(null,l,null,null)}),d[cs]=null}};function ia(l){this._internalRoot=l}ia.prototype.unstable_scheduleHydration=function(l){if(l){var d=so();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Xn.length&&d!==0&&d<Xn[g].priority;g++);Xn.splice(g,0,l),g===0&&ao(l)}};function kl(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function oa(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function Od(l,d,g,R,N){if(N){if(typeof R=="function"){var B=R;R=function(){var $e=sa(Q);B.call($e)}}var Q=Du(d,R,l,0,null,!1,!1,"",Lu);return l._reactRootContainer=Q,l[cs]=Q.current,Bi(l.nodeType===8?l.parentNode:l),qs(),Q}for(;N=l.lastChild;)l.removeChild(N);if(typeof R=="function"){var ve=R;R=function(){var $e=sa(Se);ve.call($e)}}var Se=Al(l,0,!1,null,null,!1,!1,"",Lu);return l._reactRootContainer=Se,l[cs]=Se.current,Bi(l.nodeType===8?l.parentNode:l),qs(function(){na(d,Se,g,R)}),Se}function aa(l,d,g,R,N){var B=g._reactRootContainer;if(B){var Q=B;if(typeof N=="function"){var ve=N;N=function(){var Se=sa(Q);ve.call(Se)}}na(d,Q,l,N)}else Q=Od(g,d,l,N,R);return sa(Q)}ir=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var g=Kn(d.pendingLanes);g!==0&&(_r(d,g|1),dn(d,$t()),(Ht&6)===0&&(Si=$t()+500,Ts()))}break;case 13:qs(function(){var R=fs(l,1);if(R!==null){var N=en();Un(R,l,1,N)}}),Cl(l,1)}},mn=function(l){if(l.tag===13){var d=fs(l,134217728);if(d!==null){var g=en();Un(d,l,134217728,g)}Cl(l,134217728)}},Qs=function(l){if(l.tag===13){var d=ks(l),g=fs(l,d);if(g!==null){var R=en();Un(g,l,d,R)}Cl(l,d)}},so=function(){return St},io=function(l,d){var g=St;try{return St=l,d()}finally{St=g}},rn=function(l,d,g){switch(d){case"input":if(et(l,g),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var R=g[d];if(R!==l&&R.form===l.form){var N=wo(R);if(!N)throw Error(n(90));ot(R),et(R,N)}}}break;case"textarea":Lt(l,g);break;case"select":d=g.value,d!=null&&yt(l,!!g.multiple,d,!1)}},kt=bl,Mt=qs;var Fd={usingClientEntryPoint:!1,Events:[Ui,fi,wo,ct,Dt,bl]},no={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bd={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=fn(l),l===null?null:l.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||Ld,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{tt=la.inject(Bd),Ke=la}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fd,reactDom_production_min.createPortal=function(l,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kl(d))throw Error(n(200));return Vd(l,d,null,g)},reactDom_production_min.createRoot=function(l,d){if(!kl(l))throw Error(n(299));var g=!1,R="",N=Vu;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(R=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),d=Al(l,1,!1,null,null,g,!1,R,N),l[cs]=d.current,Bi(l.nodeType===8?l.parentNode:l),new Il(d)},reactDom_production_min.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=fn(d),l=l===null?null:l.stateNode,l},reactDom_production_min.flushSync=function(l){return qs(l)},reactDom_production_min.hydrate=function(l,d,g){if(!oa(d))throw Error(n(200));return aa(null,l,d,!0,g)},reactDom_production_min.hydrateRoot=function(l,d,g){if(!kl(l))throw Error(n(405));var R=g!=null&&g.hydratedSources||null,N=!1,B="",Q=Vu;if(g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(B=g.identifierPrefix),g.onRecoverableError!==void 0&&(Q=g.onRecoverableError)),d=Du(d,null,l,1,g??null,N,!1,B,Q),l[cs]=d.current,Bi(l),R)for(l=0;l<R.length;l++)g=R[l],N=g._getVersion,N=N(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,N]:d.mutableSourceEagerHydrationData.push(g,N);return new ia(d)},reactDom_production_min.render=function(l,d,g){if(!oa(d))throw Error(n(200));return aa(null,l,d,!1,g)},reactDom_production_min.unmountComponentAtNode=function(l){if(!oa(l))throw Error(n(40));return l._reactRootContainer?(qs(function(){aa(null,null,l,!1,function(){l._reactRootContainer=null,l[cs]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=bl,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(l,d,g,R){if(!oa(g))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return aa(l,d,g,!1,R)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,p=o>>2,m=(o&3)<<4|c>>4;let x=(c&15)<<2|f>>6,E=f&63;u||(E=64,a||(x=64)),s.push(n[p],n[m],n[x],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||m==null)throw new DecodeBase64StringError;const x=o<<2|c>>4;if(s.push(x),f!==64){const E=c<<4&240|f>>2;if(s.push(E),m!==64){const T=f<<6&192|m;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$2(){var t;const e=(t=getDefaults())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isSafari(){return!isNode$2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?replaceTemplate(o,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new FirebaseError(i,c,s)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function deepEqual$1(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const o=t[i],a=e[i];if(isObject$1(o)&&isObject$1(a)){if(!deepEqual$1(o,a))return!1}else if(o!==a)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,o]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=noop$3),i.error===void 0&&(i.error=noop$3),i.complete===void 0&&(i.complete=noop$3);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Deferred;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);s===c&&a.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider$1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=ConsoleMethod[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(wrap(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(s,e.sort?e.sort():[e]),wrap(s)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),c=wrap(a);return s&&a.addEventListener("upgradeneeded",u=>{s(wrap(a.result),u.oldVersion,u.newVersion,wrap(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=writeMethods.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||readMethods.includes(n)))return;const o=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&u.done]))[0]};return cachedMethods.set(e,o),o}replaceTraps(t=>({...t,get:(e,n,s)=>getMethod(e,n)||t.get(e,n,s),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return e?.type==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);for(const n of _serverApps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _isFirebaseServerApp(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw ERROR_FACTORY.create("bad-app-name",{appName:String(i)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const o=_apps.get(i);if(o){if(deepEqual$1(n,o.options)&&deepEqual$1(s,o.config))return o;throw ERROR_FACTORY.create("duplicate-app",{appName:i})}const a=new ComponentContainer(i);for(const u of _components.values())a.addComponent(u);const c=new FirebaseAppImpl(n,s,a);return _apps.set(i,c),c}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var s;let i=(s=PLATFORM_LOG_STRING[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(c.join(" "));return}_registerComponent(new Component(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(STORE_NAME)}catch(n){console.warn(n)}}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{const n=(await getDbPromise()).transaction(STORE_NAME),s=await n.objectStore(STORE_NAME).get(computeKey(t));return await n.done,s}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e?.message});logger.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const s=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await s.objectStore(STORE_NAME).put(e,computeKey(t)),await s.done}catch(n){if(n instanceof FirebaseError)logger.warn(n.message);else{const s=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n?.message});logger.warn(s.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=720*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){logger.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:i}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return logger.warn(n),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let s=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),countBytes(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),countBytes(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await readHeartbeatsFromIndexedDB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$3="firebase",version$3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$3,"app");var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},__assign$1.apply(this,arguments)};function __rest$1(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function __spreadArray$1(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,o;s<i;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(t,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${t}`,...e)}function _logError(t,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const s=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",s).create(e,{appName:t.name})}function _serverAppCurrentUserOperationNotSupportedError(t){return _errorWithCustomMessage(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&_fail(t,"argument-error"),_errorWithCustomMessage(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,s,i={}){return _performFetchWithErrorHandling(t,i,async()=>{let o={},a={};s&&(e==="GET"?a=s:o={body:JSON.stringify(s)});const c=querystring(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},o);return isCloudflareWorker()||(f.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(t,t.config.apiHost,n,c),f)})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const i=new NetworkTimeout(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw _makeTaggedError(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",a);const p=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _errorWithCustomMessage(t,p,f);_fail(t,p)}}catch(i){if(i instanceof FirebaseError)throw i;_fail(t,"network-request-failed",{message:String(i)})}}async function _performSignInRequest(t,e,n,s,i={}){const o=await _performApiRequest(t,e,n,s,i);return"mfaPendingCredential"in o&&_fail(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _getFinalTarget(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?_emulatorUrl(t.config,i):`${t.config.apiScheme}://${i}`}function _parseEnforcementState(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=_createError(t,e,s);return i.customData._tokenResponse=n,i}function isEnterprise(t){return t!==void 0&&t.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _parseEnforcementState(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function getRecaptchaConfig(t,e){return _performApiRequest(t,"GET","/v2/recaptchaConfig",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),s=await n.getIdToken(e),i=_parseToken(s);_assert(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:s,authTime:utcTimestampToDateString(secondsStringToMilliseconds(i.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(i.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const i=base64Decode(n);return i?JSON.parse(i):(_logError("Failed to decode base64 JWT payload"),null)}catch(i){return _logError("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof FirebaseError&&isUserInvalidated(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const n=t.auth,s=await t.getIdToken(),i=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:s}));_assert(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(o.providerUserInfo):[],c=mergeProviderData(t.providerData,a),u=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,p=u?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,s=__rest$1(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const s=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=_getFinalTarget(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(a,{method:"POST",headers:c,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function revokeToken(t,e){return _performApiRequest(t,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const n=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:o}=await requestStsToken(e,n);this.updateTokensAndExpiration(s,i,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:o}=n,a=new StsTokenManager;return s&&(_assert(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(_assert(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_assert(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,o=__rest$1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UserMetadata(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,o,a,c,u,f,p;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:j,isAnonymous:O,providerData:$,stsTokenManager:V}=n;_assert(A&&V,e,"internal-error");const L=StsTokenManager.fromJSON(this.name,V);_assert(typeof A=="string",e,"internal-error"),assertStringOrUndefined(m,e.name),assertStringOrUndefined(x,e.name),_assert(typeof j=="boolean",e,"internal-error"),_assert(typeof O=="boolean",e,"internal-error"),assertStringOrUndefined(E,e.name),assertStringOrUndefined(T,e.name),assertStringOrUndefined(_,e.name),assertStringOrUndefined(k,e.name),assertStringOrUndefined(I,e.name),assertStringOrUndefined(P,e.name);const U=new UserImpl({uid:A,auth:e,email:x,emailVerified:j,displayName:m,isAnonymous:O,photoURL:T,phoneNumber:E,tenantId:_,stsTokenManager:L,createdAt:I,lastLoginAt:P});return $&&Array.isArray($)&&(U.providerData=$.map(J=>Object.assign({},J))),k&&(U._redirectEventId=k),U}static async _fromIdTokenResponse(e,n,s=!1){const i=new StsTokenManager;i.updateFromServerResponse(n);const o=new UserImpl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await _reloadWithoutSaving(o),o}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];_assert(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?extractProviderData(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new StsTokenManager;c.updateFromIdToken(s);const u=new UserImpl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new UserMetadata(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:o}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,i.apiKey,o),this.fullPersistenceKey=_persistenceKeyName("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,s);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||_getInstance(inMemoryPersistence);const a=_persistenceKeyName(s,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(a);if(p){const m=UserImpl._fromJSON(e,p);f!==o&&(c=m),o=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new PersistenceUserManager(o,e,s):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new PersistenceUserManager(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((a,c)=>{try{const u=e(o);a(u)}catch(u){c(u)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(t,e={}){return _performApiRequest(t,"GET","/v2/passwordPolicy",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var n,s,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:MINIMUM_MIN_PASSWORD_LENGTH,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,o,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(s=u.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await getAccountInfo(this,{idToken:e}),s=await UserImpl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_isFirebaseServerApp(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const n=e?getModularInstance(e):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),n=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await revokeToken(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(t){externalJSProvider=t}function _loadJS(t){return externalJSProvider.loadJS(t)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{getRecaptchaConfig(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new RecaptchaConfig(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(u=>{c(u)})})}function i(o,a,c){const u=window.grecaptcha;isEnterprise(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(FAKE_TOKEN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{s(this.auth).then(c=>{if(!n&&isEnterprise(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_recaptchaEnterpriseScriptUrl();u.length!==0&&(u+=c),_loadJS(u).then(()=>{i(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function injectRecaptchaFields(t,e,n,s=!1){const i=new RecaptchaEnterpriseVerifier(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function handleRecaptchaFlow(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await injectRecaptchaFields(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await injectRecaptchaFields(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(deepEqual$1(o,e??{}))return i;_fail(i,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_getInstance);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function connectAuthEmulator(t,e,n){const s=_castAuth(t);_assert(s._canInitEmulator,s,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,o=extractProtocol(e),{host:a,port:c}=extractHostAndPort(e),u=c===null?"":`:${c}`;s.config.emulator={url:`${o}//${a}${u}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const o=i[1];return{host:o,port:parsePort(s.substr(o.length+1))}}else{const[o,a]=s.split(":");return{host:o,port:parsePort(a)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function updateEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:update",e)}async function linkEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}async function sendOobCode(t,e){return _performApiRequest(t,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(t,e))}async function sendEmailVerification$1(t,e){return sendOobCode(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new EmailAuthCredential(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,n,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,s,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,o=__rest$1(n,["providerId","signInMethod"]);if(!s||!i)return null;const a=new OAuthCredential(s,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,signInWithIdp(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,s=querystringDecode(extractQuerystring(t)).deep_link_id;return(s?querystringDecode(extractQuerystring(s)).link:null)||s||n||e||t}class ActionCodeURL{constructor(e){var n,s,i,o,a,c;const u=querystringDecode(extractQuerystring(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(s=u.oobCode)!==null&&s!==void 0?s:null,m=parseMode((i=u.mode)!==null&&i!==void 0?i:null);_assert(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ActionCodeURL.parseLink(n);return _assert(s,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,s.code,s.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return GoogleAuthProvider.credential(n,s)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return TwitterAuthProvider.credential(n,s)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const o=await UserImpl._fromIdTokenResponse(e,s,i),a=providerIdForResponse(s);return new UserCredentialImpl({user:o,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=providerIdForResponse(s);return new UserCredentialImpl({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,n,s,i){var o;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new MultiFactorError(e,n,s,i)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,o,e,s):o})}async function _link$1(t,e,n=!1){const s=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,n=!1){const{auth:s}=t;if(_isFirebaseServerApp(s.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(s));const i="reauthenticate";try{const o=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(s,i,e,t),n);_assert(o.idToken,s,"internal-error");const a=_parseToken(o.idToken);_assert(a,s,"internal-error");const{sub:c}=a;return _assert(t.uid===c,s,"user-mismatch"),UserCredentialImpl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_fail(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const s="signIn",i=await _processCredentialSavingMfaContextIfNecessary(t,s,e),o=await UserCredentialImpl._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(o.user),o}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}async function reauthenticateWithCredential(t,e){return _reauthenticate(getModularInstance(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(t){const e=_castAuth(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const s=_castAuth(t),a=await handleRecaptchaFlow(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),u}),c=await UserCredentialImpl._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(c.user),c}function signInWithEmailAndPassword(t,e,n){return _isFirebaseServerApp(t.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t)):signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),s})}async function sendEmailVerification(t,e){const n=getModularInstance(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await sendEmailVerification$1(n.auth,i);o!==t.email&&await t.reload()}function updatePassword(t,e){return updateEmailOrPassword(getModularInstance(t),null,e)}async function updateEmailOrPassword(t,e,n){const{auth:s}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await _logoutIfInvalidated(t,updateEmailPassword(s,o));await t._updateTokensIfNecessary(a,!0)}function onIdTokenChanged(t,e,n,s){return getModularInstance(t).onIdTokenChanged(e,n,s)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}function onAuthStateChanged(t,e,n,s){return getModularInstance(t).onAuthStateChanged(e,n,s)}function signOut(t){return getModularInstance(t).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},o=this.storage.getItem(s);_isIE10()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IE10_LOCAL_STORAGE_SYNC_DELAY):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Receiver(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(a).map(async f=>f(n.origin,o)),u=await _allSettled(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const f=_generateEventId("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(m){const x=m;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(s):(s.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const s=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(s).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),s=await new DBPromise(n).toPromise();return s===void 0?null:s.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_TRANSACTION_RETRY_COUNT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_putObject(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>getObject(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=getObjectStore(i,!1).getAll();return new DBPromise(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,n,s,i,o=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_createError(t,"operation-not-supported-in-this-environment"));const s=_castAuth(t);_assertInstanceOf(t,e,FederatedAuthProvider);const i=_withDefaultResolver(s,n);return new PopupOperation(s,"signInViaPopup",e,i).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,s,i,o){super(e,n,i,o),this.provider=s,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const s=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),s=resolverPersistence(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const s=_castAuth(t),i=_withDefaultResolver(s,e),a=await new RedirectAction(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!isNullRedirectEvent(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var s,i,o;function a(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((i=(s=_window().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_window().gapi)===null||o===void 0)&&o.load)a();else{const c=_generateCallbackName("iframefcb");return _window()[c]=()=>{gapi.load?a():n(_createError(t,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,s={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION},i=EID_FROM_APIHOST.get(t.config.apiHost);i&&(s.eid=i);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${querystring(s).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},s=>new Promise(async(i,o)=>{await s.restyle({setHideOnLeave:!1});const a=_createError(t,"network-request-failed"),c=_window().setTimeout(()=>{o(a)},PING_TIMEOUT.get());function u(){_window().clearTimeout(c),i(s)}s.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,s=DEFAULT_WIDTH,i=DEFAULT_HEIGHT){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const u=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:s.toString(),height:i.toString(),top:o,left:a}),f=getUA().toLowerCase();n&&(c=_isChromeIOS(f)?TARGET_BLANK:n),_isFirefox(f)&&(e=e||FIREFOX_EMPTY_URL,u.scrollbars="yes");const p=Object.entries(u).reduce((x,[E,T])=>`${x}${E}=${T},`,"");if(_isIOSStandalone(f)&&c!=="_self")return openAsNewWindowIOS(e||"",c),new AuthPopup(null);const m=window.open(e||"",c,p);_assert(m,t,"popup-blocked");try{m.focus()}catch{}return new AuthPopup(m)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(t,e,n,s,i,o){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:SDK_VERSION,eventId:i};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof BaseOAuthProvider){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),f=u?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(u)}`:"";return`${getHandlerBase(t)}?${querystring(c).slice(1)}${f}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,s,i){var o;debugAssert((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await _getRedirectUrl(e,n,s,_getCurrentUrl(),i);return _open(e,a,_generateEventId())}async _openRedirect(e,n,s,i){await this._originValidation(e);const o=await _getRedirectUrl(e,n,s,_getCurrentUrl(),i);return _setWindowLocation(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(debugAssert(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _openIframe(e),s=new AuthEventManager(e);return n.register("authEvent",i=>(_assert(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},i=>{var o;const a=(o=i?.[0])===null||o===void 0?void 0:o[WEB_STORAGE_SUPPORT_KEY];a!==void 0&&n(!!a),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=s.options;_assert(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},f=new AuthImpl(s,i,o,u);return _initializeAuthInstance(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(s=>new AuthInterop(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(t)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>authIdTokenMaxAge)return;const i=n?.token;lastPostedIdToken!==i&&(lastPostedIdToken=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),s=getExperimentalSetting("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const a=mintCookieFactory(o.toString());beforeAuthStateChanged(n,a,()=>a(n.currentUser)),onIdTokenChanged(n,c=>a(c))}}const i=getDefaultEmulatorHost("auth");return i&&connectAuthEmulator(n,`http://${i}`),n}function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const o=_createError("internal-error");o.customData=i,n(o)},s.type="text/javascript",s.charset="UTF-8",getScriptParentElement().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,L){function U(){}U.prototype=L.prototype,V.D=L.prototype,V.prototype=new U,V.prototype.constructor=V,V.C=function(J,Z,Y){for(var K=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)K[ke-2]=arguments[ke];return L.prototype[Z].apply(J,K)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,L,U){U||(U=0);var J=Array(16);if(typeof L=="string")for(var Z=0;16>Z;++Z)J[Z]=L.charCodeAt(U++)|L.charCodeAt(U++)<<8|L.charCodeAt(U++)<<16|L.charCodeAt(U++)<<24;else for(Z=0;16>Z;++Z)J[Z]=L[U++]|L[U++]<<8|L[U++]<<16|L[U++]<<24;L=V.g[0],U=V.g[1],Z=V.g[2];var Y=V.g[3],K=L+(Y^U&(Z^Y))+J[0]+3614090360&4294967295;L=U+(K<<7&4294967295|K>>>25),K=Y+(Z^L&(U^Z))+J[1]+3905402710&4294967295,Y=L+(K<<12&4294967295|K>>>20),K=Z+(U^Y&(L^U))+J[2]+606105819&4294967295,Z=Y+(K<<17&4294967295|K>>>15),K=U+(L^Z&(Y^L))+J[3]+3250441966&4294967295,U=Z+(K<<22&4294967295|K>>>10),K=L+(Y^U&(Z^Y))+J[4]+4118548399&4294967295,L=U+(K<<7&4294967295|K>>>25),K=Y+(Z^L&(U^Z))+J[5]+1200080426&4294967295,Y=L+(K<<12&4294967295|K>>>20),K=Z+(U^Y&(L^U))+J[6]+2821735955&4294967295,Z=Y+(K<<17&4294967295|K>>>15),K=U+(L^Z&(Y^L))+J[7]+4249261313&4294967295,U=Z+(K<<22&4294967295|K>>>10),K=L+(Y^U&(Z^Y))+J[8]+1770035416&4294967295,L=U+(K<<7&4294967295|K>>>25),K=Y+(Z^L&(U^Z))+J[9]+2336552879&4294967295,Y=L+(K<<12&4294967295|K>>>20),K=Z+(U^Y&(L^U))+J[10]+4294925233&4294967295,Z=Y+(K<<17&4294967295|K>>>15),K=U+(L^Z&(Y^L))+J[11]+2304563134&4294967295,U=Z+(K<<22&4294967295|K>>>10),K=L+(Y^U&(Z^Y))+J[12]+1804603682&4294967295,L=U+(K<<7&4294967295|K>>>25),K=Y+(Z^L&(U^Z))+J[13]+4254626195&4294967295,Y=L+(K<<12&4294967295|K>>>20),K=Z+(U^Y&(L^U))+J[14]+2792965006&4294967295,Z=Y+(K<<17&4294967295|K>>>15),K=U+(L^Z&(Y^L))+J[15]+1236535329&4294967295,U=Z+(K<<22&4294967295|K>>>10),K=L+(Z^Y&(U^Z))+J[1]+4129170786&4294967295,L=U+(K<<5&4294967295|K>>>27),K=Y+(U^Z&(L^U))+J[6]+3225465664&4294967295,Y=L+(K<<9&4294967295|K>>>23),K=Z+(L^U&(Y^L))+J[11]+643717713&4294967295,Z=Y+(K<<14&4294967295|K>>>18),K=U+(Y^L&(Z^Y))+J[0]+3921069994&4294967295,U=Z+(K<<20&4294967295|K>>>12),K=L+(Z^Y&(U^Z))+J[5]+3593408605&4294967295,L=U+(K<<5&4294967295|K>>>27),K=Y+(U^Z&(L^U))+J[10]+38016083&4294967295,Y=L+(K<<9&4294967295|K>>>23),K=Z+(L^U&(Y^L))+J[15]+3634488961&4294967295,Z=Y+(K<<14&4294967295|K>>>18),K=U+(Y^L&(Z^Y))+J[4]+3889429448&4294967295,U=Z+(K<<20&4294967295|K>>>12),K=L+(Z^Y&(U^Z))+J[9]+568446438&4294967295,L=U+(K<<5&4294967295|K>>>27),K=Y+(U^Z&(L^U))+J[14]+3275163606&4294967295,Y=L+(K<<9&4294967295|K>>>23),K=Z+(L^U&(Y^L))+J[3]+4107603335&4294967295,Z=Y+(K<<14&4294967295|K>>>18),K=U+(Y^L&(Z^Y))+J[8]+1163531501&4294967295,U=Z+(K<<20&4294967295|K>>>12),K=L+(Z^Y&(U^Z))+J[13]+2850285829&4294967295,L=U+(K<<5&4294967295|K>>>27),K=Y+(U^Z&(L^U))+J[2]+4243563512&4294967295,Y=L+(K<<9&4294967295|K>>>23),K=Z+(L^U&(Y^L))+J[7]+1735328473&4294967295,Z=Y+(K<<14&4294967295|K>>>18),K=U+(Y^L&(Z^Y))+J[12]+2368359562&4294967295,U=Z+(K<<20&4294967295|K>>>12),K=L+(U^Z^Y)+J[5]+4294588738&4294967295,L=U+(K<<4&4294967295|K>>>28),K=Y+(L^U^Z)+J[8]+2272392833&4294967295,Y=L+(K<<11&4294967295|K>>>21),K=Z+(Y^L^U)+J[11]+1839030562&4294967295,Z=Y+(K<<16&4294967295|K>>>16),K=U+(Z^Y^L)+J[14]+4259657740&4294967295,U=Z+(K<<23&4294967295|K>>>9),K=L+(U^Z^Y)+J[1]+2763975236&4294967295,L=U+(K<<4&4294967295|K>>>28),K=Y+(L^U^Z)+J[4]+1272893353&4294967295,Y=L+(K<<11&4294967295|K>>>21),K=Z+(Y^L^U)+J[7]+4139469664&4294967295,Z=Y+(K<<16&4294967295|K>>>16),K=U+(Z^Y^L)+J[10]+3200236656&4294967295,U=Z+(K<<23&4294967295|K>>>9),K=L+(U^Z^Y)+J[13]+681279174&4294967295,L=U+(K<<4&4294967295|K>>>28),K=Y+(L^U^Z)+J[0]+3936430074&4294967295,Y=L+(K<<11&4294967295|K>>>21),K=Z+(Y^L^U)+J[3]+3572445317&4294967295,Z=Y+(K<<16&4294967295|K>>>16),K=U+(Z^Y^L)+J[6]+76029189&4294967295,U=Z+(K<<23&4294967295|K>>>9),K=L+(U^Z^Y)+J[9]+3654602809&4294967295,L=U+(K<<4&4294967295|K>>>28),K=Y+(L^U^Z)+J[12]+3873151461&4294967295,Y=L+(K<<11&4294967295|K>>>21),K=Z+(Y^L^U)+J[15]+530742520&4294967295,Z=Y+(K<<16&4294967295|K>>>16),K=U+(Z^Y^L)+J[2]+3299628645&4294967295,U=Z+(K<<23&4294967295|K>>>9),K=L+(Z^(U|~Y))+J[0]+4096336452&4294967295,L=U+(K<<6&4294967295|K>>>26),K=Y+(U^(L|~Z))+J[7]+1126891415&4294967295,Y=L+(K<<10&4294967295|K>>>22),K=Z+(L^(Y|~U))+J[14]+2878612391&4294967295,Z=Y+(K<<15&4294967295|K>>>17),K=U+(Y^(Z|~L))+J[5]+4237533241&4294967295,U=Z+(K<<21&4294967295|K>>>11),K=L+(Z^(U|~Y))+J[12]+1700485571&4294967295,L=U+(K<<6&4294967295|K>>>26),K=Y+(U^(L|~Z))+J[3]+2399980690&4294967295,Y=L+(K<<10&4294967295|K>>>22),K=Z+(L^(Y|~U))+J[10]+4293915773&4294967295,Z=Y+(K<<15&4294967295|K>>>17),K=U+(Y^(Z|~L))+J[1]+2240044497&4294967295,U=Z+(K<<21&4294967295|K>>>11),K=L+(Z^(U|~Y))+J[8]+1873313359&4294967295,L=U+(K<<6&4294967295|K>>>26),K=Y+(U^(L|~Z))+J[15]+4264355552&4294967295,Y=L+(K<<10&4294967295|K>>>22),K=Z+(L^(Y|~U))+J[6]+2734768916&4294967295,Z=Y+(K<<15&4294967295|K>>>17),K=U+(Y^(Z|~L))+J[13]+1309151649&4294967295,U=Z+(K<<21&4294967295|K>>>11),K=L+(Z^(U|~Y))+J[4]+4149444226&4294967295,L=U+(K<<6&4294967295|K>>>26),K=Y+(U^(L|~Z))+J[11]+3174756917&4294967295,Y=L+(K<<10&4294967295|K>>>22),K=Z+(L^(Y|~U))+J[2]+718787259&4294967295,Z=Y+(K<<15&4294967295|K>>>17),K=U+(Y^(Z|~L))+J[9]+3951481745&4294967295,V.g[0]=V.g[0]+L&4294967295,V.g[1]=V.g[1]+(Z+(K<<21&4294967295|K>>>11))&4294967295,V.g[2]=V.g[2]+Z&4294967295,V.g[3]=V.g[3]+Y&4294967295}s.prototype.u=function(V,L){L===void 0&&(L=V.length);for(var U=L-this.blockSize,J=this.B,Z=this.h,Y=0;Y<L;){if(Z==0)for(;Y<=U;)i(this,V,Y),Y+=this.blockSize;if(typeof V=="string"){for(;Y<L;)if(J[Z++]=V.charCodeAt(Y++),Z==this.blockSize){i(this,J),Z=0;break}}else for(;Y<L;)if(J[Z++]=V[Y++],Z==this.blockSize){i(this,J),Z=0;break}}this.h=Z,this.o+=L},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var L=1;L<V.length-8;++L)V[L]=0;var U=8*this.o;for(L=V.length-8;L<V.length;++L)V[L]=U&255,U/=256;for(this.u(V),V=Array(16),L=U=0;4>L;++L)for(var J=0;32>J;J+=8)V[U++]=this.g[L]>>>J&255;return V};function o(V,L){var U=c;return Object.prototype.hasOwnProperty.call(U,V)?U[V]:U[V]=L(V)}function a(V,L){this.h=L;for(var U=[],J=!0,Z=V.length-1;0<=Z;Z--){var Y=V[Z]|0;J&&Y==L||(U[Z]=Y,J=!1)}this.g=U}var c={};function u(V){return-128<=V&&128>V?o(V,function(L){return new a([L|0],0>L?-1:0)}):new a([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return k(f(-V));for(var L=[],U=1,J=0;V>=U;J++)L[J]=V/U|0,U*=4294967296;return new a(L,0)}function p(V,L){if(V.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(V.charAt(0)=="-")return k(p(V.substring(1),L));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=f(Math.pow(L,8)),J=m,Z=0;Z<V.length;Z+=8){var Y=Math.min(8,V.length-Z),K=parseInt(V.substring(Z,Z+Y),L);8>Y?(Y=f(Math.pow(L,Y)),J=J.j(Y).add(f(K))):(J=J.j(U),J=J.add(f(K)))}return J}var m=u(0),x=u(1),E=u(16777216);t=a.prototype,t.m=function(){if(_(this))return-k(this).m();for(var V=0,L=1,U=0;U<this.g.length;U++){var J=this.i(U);V+=(0<=J?J:4294967296+J)*L,L*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(T(this))return"0";if(_(this))return"-"+k(this).toString(V);for(var L=f(Math.pow(V,6)),U=this,J="";;){var Z=j(U,L).g;U=I(U,Z.j(L));var Y=((0<U.g.length?U.g[0]:U.h)>>>0).toString(V);if(U=Z,T(U))return Y+J;for(;6>Y.length;)Y="0"+Y;J=Y+J}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function T(V){if(V.h!=0)return!1;for(var L=0;L<V.g.length;L++)if(V.g[L]!=0)return!1;return!0}function _(V){return V.h==-1}t.l=function(V){return V=I(this,V),_(V)?-1:T(V)?0:1};function k(V){for(var L=V.g.length,U=[],J=0;J<L;J++)U[J]=~V.g[J];return new a(U,~V.h).add(x)}t.abs=function(){return _(this)?k(this):this},t.add=function(V){for(var L=Math.max(this.g.length,V.g.length),U=[],J=0,Z=0;Z<=L;Z++){var Y=J+(this.i(Z)&65535)+(V.i(Z)&65535),K=(Y>>>16)+(this.i(Z)>>>16)+(V.i(Z)>>>16);J=K>>>16,Y&=65535,K&=65535,U[Z]=K<<16|Y}return new a(U,U[U.length-1]&-2147483648?-1:0)};function I(V,L){return V.add(k(L))}t.j=function(V){if(T(this)||T(V))return m;if(_(this))return _(V)?k(this).j(k(V)):k(k(this).j(V));if(_(V))return k(this.j(k(V)));if(0>this.l(E)&&0>V.l(E))return f(this.m()*V.m());for(var L=this.g.length+V.g.length,U=[],J=0;J<2*L;J++)U[J]=0;for(J=0;J<this.g.length;J++)for(var Z=0;Z<V.g.length;Z++){var Y=this.i(J)>>>16,K=this.i(J)&65535,ke=V.i(Z)>>>16,Re=V.i(Z)&65535;U[2*J+2*Z]+=K*Re,P(U,2*J+2*Z),U[2*J+2*Z+1]+=Y*Re,P(U,2*J+2*Z+1),U[2*J+2*Z+1]+=K*ke,P(U,2*J+2*Z+1),U[2*J+2*Z+2]+=Y*ke,P(U,2*J+2*Z+2)}for(J=0;J<L;J++)U[J]=U[2*J+1]<<16|U[2*J];for(J=L;J<2*L;J++)U[J]=0;return new a(U,0)};function P(V,L){for(;(V[L]&65535)!=V[L];)V[L+1]+=V[L]>>>16,V[L]&=65535,L++}function A(V,L){this.g=V,this.h=L}function j(V,L){if(T(L))throw Error("division by zero");if(T(V))return new A(m,m);if(_(V))return L=j(k(V),L),new A(k(L.g),k(L.h));if(_(L))return L=j(V,k(L)),new A(k(L.g),L.h);if(30<V.g.length){if(_(V)||_(L))throw Error("slowDivide_ only works with positive integers.");for(var U=x,J=L;0>=J.l(V);)U=O(U),J=O(J);var Z=$(U,1),Y=$(J,1);for(J=$(J,2),U=$(U,2);!T(J);){var K=Y.add(J);0>=K.l(V)&&(Z=Z.add(U),Y=K),J=$(J,1),U=$(U,1)}return L=I(V,Z.j(L)),new A(Z,L)}for(Z=m;0<=V.l(L);){for(U=Math.max(1,Math.floor(V.m()/L.m())),J=Math.ceil(Math.log(U)/Math.LN2),J=48>=J?1:Math.pow(2,J-48),Y=f(U),K=Y.j(L);_(K)||0<K.l(V);)U-=J,Y=f(U),K=Y.j(L);T(Y)&&(Y=x),Z=Z.add(Y),V=I(V,K)}return new A(Z,V)}t.A=function(V){return j(this,V).h},t.and=function(V){for(var L=Math.max(this.g.length,V.g.length),U=[],J=0;J<L;J++)U[J]=this.i(J)&V.i(J);return new a(U,this.h&V.h)},t.or=function(V){for(var L=Math.max(this.g.length,V.g.length),U=[],J=0;J<L;J++)U[J]=this.i(J)|V.i(J);return new a(U,this.h|V.h)},t.xor=function(V){for(var L=Math.max(this.g.length,V.g.length),U=[],J=0;J<L;J++)U[J]=this.i(J)^V.i(J);return new a(U,this.h^V.h)};function O(V){for(var L=V.g.length+1,U=[],J=0;J<L;J++)U[J]=V.i(J)<<1|V.i(J-1)>>>31;return new a(U,V.h)}function $(V,L){var U=L>>5;L%=32;for(var J=V.g.length-U,Z=[],Y=0;Y<J;Y++)Z[Y]=0<L?V.i(Y+U)>>>L|V.i(Y+U+1)<<32-L:V.i(Y+U);return new a(Z,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Md5=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,Integer=a}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,F,H){return y==Array.prototype||y==Object.prototype||(y[F]=H.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var F=0;F<y.length;++F){var H=y[F];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var s=n(this);function i(y,F){if(F)e:{var H=s;y=y.split(".");for(var te=0;te<y.length-1;te++){var Me=y[te];if(!(Me in H))break e;H=H[Me]}y=y[y.length-1],te=H[y],F=F(te),F!=te&&F!=null&&e(H,y,{configurable:!0,writable:!0,value:F})}}function o(y,F){y instanceof String&&(y+="");var H=0,te=!1,Me={next:function(){if(!te&&H<y.length){var ze=H++;return{value:F(ze,y[ze]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}i("Array.prototype.values",function(y){return y||function(){return o(this,function(F,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(y){var F=typeof y;return F=F!="object"?F:y?Array.isArray(y)?"array":F:"null",F=="array"||F=="object"&&typeof y.length=="number"}function f(y){var F=typeof y;return F=="object"&&y!=null||F=="function"}function p(y,F,H){return y.call.apply(y.bind,arguments)}function m(y,F,H){if(!y)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,te),y.apply(F,Me)}}return function(){return y.apply(F,arguments)}}function x(y,F,H){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,x.apply(null,arguments)}function E(y,F){var H=Array.prototype.slice.call(arguments,1);return function(){var te=H.slice();return te.push.apply(te,arguments),y.apply(this,te)}}function T(y,F){function H(){}H.prototype=F.prototype,y.aa=F.prototype,y.prototype=new H,y.prototype.constructor=y,y.Qb=function(te,Me,ze){for(var it=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)it[Qt-2]=arguments[Qt];return F.prototype[Me].apply(te,it)}}function _(y){const F=y.length;if(0<F){const H=Array(F);for(let te=0;te<F;te++)H[te]=y[te];return H}return[]}function k(y,F){for(let H=1;H<arguments.length;H++){const te=arguments[H];if(u(te)){const Me=y.length||0,ze=te.length||0;y.length=Me+ze;for(let it=0;it<ze;it++)y[Me+it]=te[it]}else y.push(te)}}class I{constructor(F,H){this.i=F,this.j=H,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function P(y){return/^[\s\xa0]*$/.test(y)}function A(){var y=c.navigator;return y&&(y=y.userAgent)?y:""}function j(y){return j[" "](y),y}j[" "]=function(){};var O=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function $(y,F,H){for(const te in y)F.call(H,y[te],te,y)}function V(y,F){for(const H in y)F.call(void 0,y[H],H,y)}function L(y){const F={};for(const H in y)F[H]=y[H];return F}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(y,F){let H,te;for(let Me=1;Me<arguments.length;Me++){te=arguments[Me];for(H in te)y[H]=te[H];for(let ze=0;ze<U.length;ze++)H=U[ze],Object.prototype.hasOwnProperty.call(te,H)&&(y[H]=te[H])}}function Z(y){var F=1;y=y.split(":");const H=[];for(;0<F&&y.length;)H.push(y.shift()),F--;return y.length&&H.push(y.join(":")),H}function Y(y){c.setTimeout(()=>{throw y},0)}function K(){var y=z;let F=null;return y.g&&(F=y.g,y.g=y.g.next,y.g||(y.h=null),F.next=null),F}class ke{constructor(){this.h=this.g=null}add(F,H){const te=Re.get();te.set(F,H),this.h?this.h.next=te:this.g=te,this.h=te}}var Re=new I(()=>new G,y=>y.reset());class G{constructor(){this.next=this.g=this.h=null}set(F,H){this.h=F,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let q,M=!1,z=new ke,ee=()=>{const y=c.Promise.resolve(void 0);q=()=>{y.then(W)}};var W=()=>{for(var y;y=K();){try{y.h.call(y.g)}catch(H){Y(H)}var F=Re;F.j(y),100>F.h&&(F.h++,y.next=F.g,F.g=y)}M=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(y,F){this.type=y,this.g=this.target=F,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,F=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const H=()=>{};c.addEventListener("test",H,F),c.removeEventListener("test",H,F)}catch{}return y})();function Ne(y,F){if(se.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var H=this.type=y.type,te=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=F,F=y.relatedTarget){if(O){e:{try{j(F.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(F=null)}}else H=="mouseover"?F=y.fromElement:H=="mouseout"&&(F=y.toElement);this.relatedTarget=F,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Oe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Ne.aa.h.call(this)}}T(Ne,se);var Oe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function We(y,F,H,te,Me){this.listener=y,this.proxy=null,this.src=F,this.type=H,this.capture=!!te,this.ha=Me,this.key=++Be,this.da=this.fa=!1}function Ue(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ze(y){this.src=y,this.g={},this.h=0}Ze.prototype.add=function(y,F,H,te,Me){var ze=y.toString();y=this.g[ze],y||(y=this.g[ze]=[],this.h++);var it=Je(y,F,te,Me);return-1<it?(F=y[it],H||(F.fa=!1)):(F=new We(F,this.src,ze,!!te,Me),F.fa=H,y.push(F)),F};function ot(y,F){var H=F.type;if(H in y.g){var te=y.g[H],Me=Array.prototype.indexOf.call(te,F,void 0),ze;(ze=0<=Me)&&Array.prototype.splice.call(te,Me,1),ze&&(Ue(F),y.g[H].length==0&&(delete y.g[H],y.h--))}}function Je(y,F,H,te){for(var Me=0;Me<y.length;++Me){var ze=y[Me];if(!ze.da&&ze.listener==F&&ze.capture==!!H&&ze.ha==te)return Me}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Ge={};function at(y,F,H,te,Me){if(Array.isArray(F)){for(var ze=0;ze<F.length;ze++)at(y,F[ze],H,te,Me);return null}return H=Jt(H),y&&y[je]?y.K(F,H,f(te)?!!te.capture:!1,Me):et(y,F,H,!1,te,Me)}function et(y,F,H,te,Me,ze){if(!F)throw Error("Invalid event type");var it=f(Me)?!!Me.capture:!!Me,Qt=Pt(y);if(Qt||(y[He]=Qt=new Ze(y)),H=Qt.add(F,H,te,it,ze),H.proxy)return H;if(te=lt(),H.proxy=te,te.src=y,te.listener=H,y.addEventListener)Pe||(Me=it),Me===void 0&&(Me=!1),y.addEventListener(F.toString(),te,Me);else if(y.attachEvent)y.attachEvent(yt(F.toString()),te);else if(y.addListener&&y.removeListener)y.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return H}function lt(){function y(H){return F.call(y.src,y.listener,H)}const F=_t;return y}function pt(y,F,H,te,Me){if(Array.isArray(F))for(var ze=0;ze<F.length;ze++)pt(y,F[ze],H,te,Me);else te=f(te)?!!te.capture:!!te,H=Jt(H),y&&y[je]?(y=y.i,F=String(F).toString(),F in y.g&&(ze=y.g[F],H=Je(ze,H,te,Me),-1<H&&(Ue(ze[H]),Array.prototype.splice.call(ze,H,1),ze.length==0&&(delete y.g[F],y.h--)))):y&&(y=Pt(y))&&(F=y.g[F.toString()],y=-1,F&&(y=Je(F,H,te,Me)),(H=-1<y?F[y]:null)&&Tt(H))}function Tt(y){if(typeof y!="number"&&y&&!y.da){var F=y.src;if(F&&F[je])ot(F.i,y);else{var H=y.type,te=y.proxy;F.removeEventListener?F.removeEventListener(H,te,y.capture):F.detachEvent?F.detachEvent(yt(H),te):F.addListener&&F.removeListener&&F.removeListener(te),(H=Pt(F))?(ot(H,y),H.h==0&&(H.src=null,F[He]=null)):Ue(y)}}}function yt(y){return y in Ge?Ge[y]:Ge[y]="on"+y}function _t(y,F){if(y.da)y=!0;else{F=new Ne(F,this);var H=y.listener,te=y.ha||y.src;y.fa&&Tt(y),y=H.call(te,F)}return y}function Pt(y){return y=y[He],y instanceof Ze?y:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(y){return typeof y=="function"?y:(y[Lt]||(y[Lt]=function(F){return y.handleEvent(F)}),y[Lt])}function Ct(){ie.call(this),this.i=new Ze(this),this.M=this,this.F=null}T(Ct,ie),Ct.prototype[je]=!0,Ct.prototype.removeEventListener=function(y,F,H,te){pt(this,y,F,H,te)};function It(y,F){var H,te=y.F;if(te)for(H=[];te;te=te.F)H.push(te);if(y=y.M,te=F.type||F,typeof F=="string")F=new se(F,y);else if(F instanceof se)F.target=F.target||y;else{var Me=F;F=new se(te,y),J(F,Me)}if(Me=!0,H)for(var ze=H.length-1;0<=ze;ze--){var it=F.g=H[ze];Me=Yt(it,te,!0,F)&&Me}if(it=F.g=y,Me=Yt(it,te,!0,F)&&Me,Me=Yt(it,te,!1,F)&&Me,H)for(ze=0;ze<H.length;ze++)it=F.g=H[ze],Me=Yt(it,te,!1,F)&&Me}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var y=this.i,F;for(F in y.g){for(var H=y.g[F],te=0;te<H.length;te++)Ue(H[te]);delete y.g[F],y.h--}}this.F=null},Ct.prototype.K=function(y,F,H,te){return this.i.add(String(y),F,!1,H,te)},Ct.prototype.L=function(y,F,H,te){return this.i.add(String(y),F,!0,H,te)};function Yt(y,F,H,te){if(F=y.i.g[String(F)],!F)return!0;F=F.concat();for(var Me=!0,ze=0;ze<F.length;++ze){var it=F[ze];if(it&&!it.da&&it.capture==H){var Qt=it.listener,Sr=it.ha||it.src;it.fa&&ot(y.i,it),Me=Qt.call(Sr,te)!==!1&&Me}}return Me&&!te.defaultPrevented}function Zt(y,F,H){if(typeof y=="function")H&&(y=x(y,H));else if(y&&typeof y.handleEvent=="function")y=x(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:c.setTimeout(y,F||0)}function er(y){y.g=Zt(()=>{y.g=null,y.i&&(y.i=!1,er(y))},y.l);const F=y.h;y.h=null,y.m.apply(null,F)}class tr extends ie{constructor(F,H){super(),this.m=F,this.l=H,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(y){ie.call(this),this.h=y,this.g={}}T(gr,ie);var qe=[];function tn(y){$(y.g,function(F,H){this.g.hasOwnProperty(H)&&Tt(F)},y),y.g={}}gr.prototype.N=function(){gr.aa.N.call(this),tn(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=c.JSON.stringify,Ur=c.JSON.parse,Nr=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function vr(){}vr.prototype.h=null;function rr(y){return y.h||(y.h=y.i())}function rn(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){se.call(this,"d")}T(Ft,se);function Gt(){se.call(this,"c")}T(Gt,se);var ct={},Dt=null;function kt(){return Dt=Dt||new Ct}ct.La="serverreachability";function Mt(y){se.call(this,ct.La,y)}T(Mt,se);function qt(y){const F=kt();It(F,new Mt(F))}ct.STAT_EVENT="statevent";function Ot(y,F){se.call(this,ct.STAT_EVENT,y),this.stat=F}T(Ot,se);function vt(y){const F=kt();It(F,new Ot(F,y))}ct.Ma="timingevent";function dr(y,F){se.call(this,ct.Ma,y),this.size=F}T(dr,se);function Nt(y,F){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},F)}function Vt(){this.g=!0}Vt.prototype.xa=function(){this.g=!1};function Kt(y,F,H,te,Me,ze){y.info(function(){if(y.g)if(ze)for(var it="",Qt=ze.split("&"),Sr=0;Sr<Qt.length;Sr++){var Bt=Qt[Sr].split("=");if(1<Bt.length){var Cr=Bt[0];Bt=Bt[1];var wr=Cr.split("_");it=2<=wr.length&&wr[1]=="type"?it+(Cr+"="+Bt+"&"):it+(Cr+"=redacted&")}}else it=null;else it=ze;return"XMLHTTP REQ ("+te+") [attempt "+Me+"]: "+F+`
`+H+`
`+it})}function Xt(y,F,H,te,Me,ze,it){y.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Me+"]: "+F+`
`+H+`
`+ze+" "+it})}function jt(y,F,H,te){y.info(function(){return"XMLHTTP TEXT ("+F+"): "+_n(y,H)+(te?" "+te:"")})}function Dr(y,F){y.info(function(){return"TIMEOUT: "+F})}Vt.prototype.info=function(){};function _n(y,F){if(!y.g)return F;if(!F)return null;try{var H=JSON.parse(F);if(H){for(y=0;y<H.length;y++)if(Array.isArray(H[y])){var te=H[y];if(!(2>te.length)){var Me=te[1];if(Array.isArray(Me)&&!(1>Me.length)){var ze=Me[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(var it=1;it<Me.length;it++)Me[it]=""}}}}return zr(H)}catch{return F}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function bn(){}T(bn,vr),bn.prototype.g=function(){return new XMLHttpRequest},bn.prototype.i=function(){return{}},hr=new bn;function Hr(y,F,H,te){this.j=y,this.i=F,this.l=H,this.R=te||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var fn={},Wn={};function Gn(y,F,H){y.L=1,y.v=_r(zt(F)),y.m=H,y.P=!0,qn(y,null)}function qn(y,F){y.F=Date.now(),$t(y),y.A=zt(y.v);var H=y.A,te=y.R;Array.isArray(te)||(te=[String(te)]),ys(H.i,"t",te),y.C=0,H=y.j.J,y.h=new Hn,y.g=po(y.j,H?F:null,!y.m),0<y.O&&(y.M=new tr(x(y.Y,y,y.g),y.O)),F=y.U,H=y.g,te=y.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(qe[0]=Me.toString()),Me=qe);for(var ze=0;ze<Me.length;ze++){var it=at(H,Me[ze],te||F.handleEvent,!1,F.h||F);if(!it)break;F.g[it.key]=it}F=y.H?L(y.H):{},y.m?(y.u||(y.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,F)):(y.u="GET",y.g.ea(y.A,y.u,null,F)),qt(),Kt(y.i,y.u,y.A,y.l,y.R,y.m)}Hr.prototype.ca=function(y){y=y.target;const F=this.M;F&&sn(y)==3?F.j():this.Y(y)},Hr.prototype.Y=function(y){try{if(y==this.g)e:{const wr=sn(this.g);var F=this.g.Ba();const Tn=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||ki(this.g)))){this.J||wr!=4||F==7||(F==8||0>=Tn?qt(3):qt(2)),Rn(this);var H=this.g.Z();this.X=H;t:if(ss(this)){var te=ki(this.g);y="";var Me=te.length,ze=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),pn(this);var it="";break t}this.h.i=new c.TextDecoder}for(F=0;F<Me;F++)this.h.h=!0,y+=this.h.i.decode(te[F],{stream:!(ze&&F==Me-1)});te.length=0,this.h.g+=y,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=H==200,Xt(this.i,this.u,this.A,this.l,this.R,wr,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,Sr=this.g;if((Qt=Sr.g?Sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Qt)){var Bt=Qt;break t}}Bt=null}if(H=Bt)jt(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xe(this,H);else{this.o=!1,this.s=3,vt(12),Vr(this),pn(this);break e}}if(this.P){H=!0;let xn;for(;!this.J&&this.C<it.length;)if(xn=jn(this,it),xn==Wn){wr==4&&(this.s=4,vt(14),H=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==fn){this.s=4,vt(15),jt(this.i,this.l,it,"[Invalid Chunk]"),H=!1;break}else jt(this.i,this.l,xn,null),xe(this,xn);if(ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||it.length!=0||this.h.h||(this.s=1,vt(16),H=!1),this.o=this.o&&H,!H)jt(this.i,this.l,it,"[Invalid Chunked Response]"),Vr(this),pn(this);else if(0<it.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Ni(Cr),Cr.M=!0,vt(11))}}else jt(this.i,this.l,it,null),xe(this,it);wr==4&&Vr(this),this.o&&!this.J&&(wr==4?ii(this.j,this):(this.o=!1,$t(this)))}else ei(this.g),H==400&&0<it.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Vr(this),pn(this)}}}catch{}finally{}};function ss(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function jn(y,F){var H=y.C,te=F.indexOf(`
`,H);return te==-1?Wn:(H=Number(F.substring(H,te)),isNaN(H)?fn:(te+=1,te+H>F.length?Wn:(F=F.slice(te,te+H),y.C=te+H,F)))}Hr.prototype.cancel=function(){this.J=!0,Vr(this)};function $t(y){y.S=Date.now()+y.I,xs(y,y.I)}function xs(y,F){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Nt(x(y.ba,y),F)}function Rn(y){y.B&&(c.clearTimeout(y.B),y.B=null)}Hr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Dr(this.i,this.A),this.L!=2&&(qt(),vt(17)),Vr(this),this.s=2,pn(this)):xs(this,this.S-y)};function pn(y){y.j.G==0||y.J||ii(y.j,y)}function Vr(y){Rn(y);var F=y.M;F&&typeof F.ma=="function"&&F.ma(),y.M=null,tn(y.U),y.g&&(F=y.g,y.g=null,F.abort(),F.ma())}function xe(y,F){try{var H=y.j;if(H.G!=0&&(H.g==y||st(H.h,y))){if(!y.K&&st(H.h,y)&&H.G==3){try{var te=H.Da.g.parse(F)}catch{te=null}if(Array.isArray(te)&&te.length==3){var Me=te;if(Me[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<y.F)si(H),Ln(H);else break e;ni(H),vt(18)}}else H.za=Me[1],0<H.za-H.T&&37500>Me[2]&&H.F&&H.v==0&&!H.C&&(H.C=Nt(x(H.Za,H),6e3));if(1>=ht(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else ls(H,11)}else if((y.K||H.g==y)&&si(H),!P(F))for(Me=H.Da.g.parse(F),F=0;F<Me.length;F++){let Bt=Me[F];if(H.T=Bt[0],Bt=Bt[1],H.G==2)if(Bt[0]=="c"){H.K=Bt[1],H.ia=Bt[2];const Cr=Bt[3];Cr!=null&&(H.la=Cr,H.j.info("VER="+H.la));const wr=Bt[4];wr!=null&&(H.Aa=wr,H.j.info("SVER="+H.Aa));const Tn=Bt[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(te=1.5*Tn,H.L=te,H.j.info("backChannelRequestTimeoutMs_="+te)),te=H;const xn=y.g;if(xn){const Os=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var ze=te.h;ze.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(ze.j=ze.l,ze.g=new Set,ze.h&&(bt(ze,ze.h),ze.h=null))}if(te.D){const ai=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ai&&(te.ya=ai,Ut(te.I,te.D,ai))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-y.F,H.j.info("Handshake RTT: "+H.R+"ms")),te=H;var it=y;if(te.qa=fo(te,te.J?te.ia:null,te.W),it.K){Et(te.h,it);var Qt=it,Sr=te.L;Sr&&(Qt.I=Sr),Qt.B&&(Rn(Qt),$t(Qt)),te.g=it}else Ls(te);0<H.i.length&&Jn(H)}else Bt[0]!="stop"&&Bt[0]!="close"||ls(H,7);else H.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ls(H,7):Fr(H):Bt[0]!="noop"&&H.l&&H.l.ta(Bt),H.v=0)}}qt(4)}catch{}}var Le=class{constructor(y,F){this.g=y,this.map=F}};function tt(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ke(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ht(y){return y.h?1:y.g?y.g.size:0}function st(y,F){return y.h?y.h==F:y.g?y.g.has(F):!1}function bt(y,F){y.g?y.g.add(F):y.h=F}function Et(y,F){y.h&&y.h==F?y.h=null:y.g&&y.g.has(F)&&y.g.delete(F)}tt.prototype.cancel=function(){if(this.i=lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function lr(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let F=y.i;for(const H of y.g.values())F=F.concat(H.D);return F}return _(y.i)}function Wr(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(u(y)){for(var F=[],H=y.length,te=0;te<H;te++)F.push(y[te]);return F}F=[],H=0;for(te in y)F[H++]=y[te];return F}function Gr(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(u(y)||typeof y=="string"){var F=[];y=y.length;for(var H=0;H<y;H++)F.push(H);return F}F=[],H=0;for(const te in y)F[H++]=te;return F}}}function Kn(y,F){if(y.forEach&&typeof y.forEach=="function")y.forEach(F,void 0);else if(u(y)||typeof y=="string")Array.prototype.forEach.call(y,F,void 0);else for(var H=Gr(y),te=Wr(y),Me=te.length,ze=0;ze<Me;ze++)F.call(void 0,te[ze],H&&H[ze],y)}var Ae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nt(y,F){if(y){y=y.split("&");for(var H=0;H<y.length;H++){var te=y[H].indexOf("="),Me=null;if(0<=te){var ze=y[H].substring(0,te);Me=y[H].substring(te+1)}else ze=y[H];F(ze,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function xt(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof xt){this.h=y.h,sr(this,y.j),this.o=y.o,this.g=y.g,qr(this,y.s),this.l=y.l;var F=y.i,H=new Yn;H.i=F.i,F.g&&(H.g=new Map(F.g),H.h=F.h),Rr(this,H),this.m=y.m}else y&&(F=String(y).match(Ae))?(this.h=!1,sr(this,F[1]||"",!0),this.o=St(F[2]||""),this.g=St(F[3]||"",!0),qr(this,F[4]),this.l=St(F[5]||"",!0),Rr(this,F[6]||"",!0),this.m=St(F[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}xt.prototype.toString=function(){var y=[],F=this.j;F&&y.push(Lr(F,mn,!0),":");var H=this.g;return(H||F=="file")&&(y.push("//"),(F=this.o)&&y.push(Lr(F,mn,!0),"@"),y.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&y.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&y.push("/"),y.push(Lr(H,H.charAt(0)=="/"?so:Qs,!0))),(H=this.i.toString())&&y.push("?",H),(H=this.m)&&y.push("#",Lr(H,Ai)),y.join("")};function zt(y){return new xt(y)}function sr(y,F,H){y.j=H?St(F,!0):F,y.j&&(y.j=y.j.replace(/:$/,""))}function qr(y,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);y.s=F}else y.s=null}function Rr(y,F,H){F instanceof Yn?(y.i=F,Xn(y.i,y.h)):(H||(F=Lr(F,io)),y.i=new Yn(F,y.h))}function Ut(y,F,H){y.i.set(F,H)}function _r(y){return Ut(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function St(y,F){return y?F?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Lr(y,F,H){return typeof y=="string"?(y=encodeURI(y).replace(F,ir),H&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ir(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var mn=/[#\/\?@]/g,Qs=/[#\?:]/g,so=/[#\?]/g,io=/[#\?@]/g,Ai=/#/g;function Yn(y,F){this.h=this.g=null,this.i=y||null,this.j=!!F}function Or(y){y.g||(y.g=new Map,y.h=0,y.i&&nt(y.i,function(F,H){y.add(decodeURIComponent(F.replace(/\+/g," ")),H)}))}t=Yn.prototype,t.add=function(y,F){Or(this),this.i=null,y=wn(this,y);var H=this.g.get(y);return H||this.g.set(y,H=[]),H.push(F),this.h+=1,this};function Nn(y,F){Or(y),F=wn(y,F),y.g.has(F)&&(y.i=null,y.h-=y.g.get(F).length,y.g.delete(F))}function Dn(y,F){return Or(y),F=wn(y,F),y.g.has(F)}t.forEach=function(y,F){Or(this),this.g.forEach(function(H,te){H.forEach(function(Me){y.call(F,Me,te,this)},this)},this)},t.na=function(){Or(this);const y=Array.from(this.g.values()),F=Array.from(this.g.keys()),H=[];for(let te=0;te<F.length;te++){const Me=y[te];for(let ze=0;ze<Me.length;ze++)H.push(F[te])}return H},t.V=function(y){Or(this);let F=[];if(typeof y=="string")Dn(this,y)&&(F=F.concat(this.g.get(wn(this,y))));else{y=Array.from(this.g.values());for(let H=0;H<y.length;H++)F=F.concat(y[H])}return F},t.set=function(y,F){return Or(this),this.i=null,y=wn(this,y),Dn(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[F]),this.h+=1,this},t.get=function(y,F){return y?(y=this.V(y),0<y.length?String(y[0]):F):F};function ys(y,F,H){Nn(y,F),0<H.length&&(y.i=null,y.g.set(wn(y,F),_(H)),y.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],F=Array.from(this.g.keys());for(var H=0;H<F.length;H++){var te=F[H];const ze=encodeURIComponent(String(te)),it=this.V(te);for(te=0;te<it.length;te++){var Me=ze;it[te]!==""&&(Me+="="+encodeURIComponent(String(it[te]))),y.push(Me)}}return this.i=y.join("&")};function wn(y,F){return F=String(F),y.j&&(F=F.toLowerCase()),F}function Xn(y,F){F&&!y.j&&(Or(y),y.i=null,y.g.forEach(function(H,te){var Me=te.toLowerCase();te!=Me&&(Nn(this,te),ys(this,Me,H))},y)),y.j=F}function ca(y,F){const H=new Vt;if(c.Image){const te=new Image;te.onload=E(nn,H,"TestLoadImage: loaded",!0,F,te),te.onerror=E(nn,H,"TestLoadImage: error",!1,F,te),te.onabort=E(nn,H,"TestLoadImage: abort",!1,F,te),te.ontimeout=E(nn,H,"TestLoadImage: timeout",!1,F,te),c.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=y}else F(!1)}function oo(y,F){const H=new Vt,te=new AbortController,Me=setTimeout(()=>{te.abort(),nn(H,"TestPingServer: timeout",!1,F)},1e4);fetch(y,{signal:te.signal}).then(ze=>{clearTimeout(Me),ze.ok?nn(H,"TestPingServer: ok",!0,F):nn(H,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Me),nn(H,"TestPingServer: error",!1,F)})}function nn(y,F,H,te,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),te(H)}catch{}}function ua(){this.g=new Nr}function ao(y,F,H){const te=H||"";try{Kn(y,function(Me,ze){let it=Me;f(Me)&&(it=zr(Me)),F.push(te+ze+"="+encodeURIComponent(it))})}catch(Me){throw F.push(te+"type="+encodeURIComponent("_badmap")),Me}}function is(y){this.l=y.Ub||null,this.j=y.eb||!1}T(is,vr),is.prototype.g=function(){return new Ms(this.l,this.j)},is.prototype.i=(function(y){return function(){return y}})({});function Ms(y,F){Ct.call(this),this.D=y,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ms,Ct),t=Ms.prototype,t.open=function(y,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=F,this.readyState=1,Vn(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(F.body=y),(this.D||c).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lo(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function lo(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var F=y.value?y.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!y.done}))&&(this.response=this.responseText+=F)}y.done?Mn(this):Vn(this),this.readyState==3&&lo(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Mn(this))},t.Qa=function(y){this.g&&(this.response=y,Mn(this))},t.ga=function(){this.g&&Mn(this)};function Mn(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Vn(y)}t.setRequestHeader=function(y,F){this.u.append(y,F)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],F=this.h.entries();for(var H=F.next();!H.done;)H=H.value,y.push(H[0]+": "+H[1]),H=F.next();return y.join(`\r
`)};function Vn(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function os(y){let F="";return $(y,function(H,te){F+=te,F+=":",F+=H,F+=`\r
`}),F}function vs(y,F,H){e:{for(te in H){var te=!1;break e}te=!0}te||(H=os(H),typeof y=="string"?H!=null&&encodeURIComponent(String(H)):Ut(y,F,H))}function pr(y){Ct.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(pr,Ct);var da=/^https?$/i,Ci=["POST","PUT"];t=pr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,F,H,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);F=F?F.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?rr(this.o):rr(hr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(F,String(y),!0),this.B=!1}catch(ze){Vs(this,ze);return}if(y=H||"",H=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Me in te)H.set(Me,te[Me]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const ze of te.keys())H.set(ze,te.get(ze));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(H.keys()).find(ze=>ze.toLowerCase()=="content-type"),Me=c.FormData&&y instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ci,F,void 0))||te||Me||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ze,it]of H)this.g.setRequestHeader(ze,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(y),this.u=!1}catch(ze){Vs(this,ze)}};function Vs(y,F){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=F,y.m=5,Js(y),gn(y)}function Js(y){y.A||(y.A=!0,It(y,"complete"),It(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,It(this,"complete"),It(this,"abort"),gn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),pr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ii(this):this.bb())},t.bb=function(){Ii(this)};function Ii(y){if(y.h&&typeof a<"u"&&(!y.v[1]||sn(y)!=4||y.Z()!=2)){if(y.u&&sn(y)==4)Zt(y.Ea,0,y);else if(It(y,"readystatechange"),sn(y)==4){y.h=!1;try{const it=y.Z();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var H;if(!(H=F)){var te;if(te=it===0){var Me=String(y.D).match(Ae)[1]||null;!Me&&c.self&&c.self.location&&(Me=c.self.location.protocol.slice(0,-1)),te=!da.test(Me?Me.toLowerCase():"")}H=te}if(H)It(y,"complete"),It(y,"success");else{y.m=6;try{var ze=2<sn(y)?y.g.statusText:""}catch{ze=""}y.l=ze+" ["+y.Z()+"]",Js(y)}}finally{gn(y)}}}}function gn(y,F){if(y.g){Zs(y);const H=y.g,te=y.v[0]?()=>{}:null;y.g=null,y.v=null,F||It(y,"ready");try{H.onreadystatechange=te}catch{}}}function Zs(y){y.I&&(c.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function sn(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var F=this.g.responseText;return y&&F.indexOf(y)==0&&(F=F.substring(y.length)),Ur(F)}};function ki(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ei(y){const F={};y=(y.g&&2<=sn(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<y.length;te++){if(P(y[te]))continue;var H=Z(y[te]);const Me=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const ze=F[Me]||[];F[Me]=ze,ze.push(H)}V(F,function(te){return te.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(y,F,H){return H&&H.internalChannelParams&&H.internalChannelParams[y]||F}function ji(y){this.Aa=0,this.i=[],this.j=new Vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,y),this.cb=Qn("retryDelaySeedMs",1e4,y),this.Wa=Qn("forwardChannelMaxRetries",2,y),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new tt(y&&y.concurrentRequestLimit),this.Da=new ua,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ji.prototype,t.la=8,t.G=1,t.connect=function(y,F,H,te){vt(0),this.W=y,this.H=F||{},H&&te!==void 0&&(this.H.OSID=H,this.H.OAID=te),this.F=this.X,this.I=fo(this,null,this.W),Jn(this)};function Fr(y){if(ti(y),y.G==3){var F=y.U++,H=zt(y.I);if(Ut(H,"SID",y.K),Ut(H,"RID",F),Ut(H,"TYPE","terminate"),as(y,H),F=new Hr(y,y.j,F),F.L=2,F.v=_r(zt(H)),H=!1,c.navigator&&c.navigator.sendBeacon)try{H=c.navigator.sendBeacon(F.v.toString(),"")}catch{}!H&&c.Image&&(new Image().src=F.v,H=!0),H||(F.g=po(F.j,null),F.g.ea(F.v)),F.F=Date.now(),$t(F)}ho(y)}function Ln(y){y.g&&(Ni(y),y.g.cancel(),y.g=null)}function ti(y){Ln(y),y.u&&(c.clearTimeout(y.u),y.u=null),si(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&c.clearTimeout(y.s),y.s=null)}function Jn(y){if(!Ke(y.h)&&!y.s){y.s=!0;var F=y.Ga;q||ee(),M||(q(),M=!0),z.add(F,y),y.B=0}}function ha(y,F){return ht(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=F.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Nt(x(y.Ga,y,F),uo(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Me=new Hr(this,this.j,y);let ze=this.o;if(this.S&&(ze?(ze=L(ze),J(ze,this.S)):ze=this.S),this.m!==null||this.O||(Me.H=ze,ze=null),this.P)e:{for(var F=0,H=0;H<this.i.length;H++){t:{var te=this.i[H];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(F+=te,4096<F){F=H;break e}if(F===4096||H===this.i.length-1){F=H+1;break e}}F=1e3}else F=1e3;F=Es(this,Me,F),H=zt(this.I),Ut(H,"RID",y),Ut(H,"CVER",22),this.D&&Ut(H,"X-HTTP-Session-Id",this.D),as(this,H),ze&&(this.O?F="headers="+encodeURIComponent(String(os(ze)))+"&"+F:this.m&&vs(H,this.m,ze)),bt(this.h,Me),this.Ua&&Ut(H,"TYPE","init"),this.P?(Ut(H,"$req",F),Ut(H,"SID","null"),Me.T=!0,Gn(Me,H,null)):Gn(Me,H,F),this.G=2}}else this.G==3&&(y?ri(this,y):this.i.length==0||Ke(this.h)||ri(this))};function ri(y,F){var H;F?H=F.l:H=y.U++;const te=zt(y.I);Ut(te,"SID",y.K),Ut(te,"RID",H),Ut(te,"AID",y.T),as(y,te),y.m&&y.o&&vs(te,y.m,y.o),H=new Hr(y,y.j,H,y.B+1),y.m===null&&(H.H=y.o),F&&(y.i=F.D.concat(y.i)),F=Es(y,H,1e3),H.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),bt(y.h,H),Gn(H,te,F)}function as(y,F){y.H&&$(y.H,function(H,te){Ut(F,te,H)}),y.l&&Kn({},function(H,te){Ut(F,te,H)})}function Es(y,F,H){H=Math.min(y.i.length,H);var te=y.l?x(y.l.Na,y.l,y):null;e:{var Me=y.i;let ze=-1;for(;;){const it=["count="+H];ze==-1?0<H?(ze=Me[0].g,it.push("ofs="+ze)):ze=0:it.push("ofs="+ze);let Qt=!0;for(let Sr=0;Sr<H;Sr++){let Bt=Me[Sr].g;const Cr=Me[Sr].map;if(Bt-=ze,0>Bt)ze=Math.max(0,Me[Sr].g-100),Qt=!1;else try{ao(Cr,it,"req"+Bt+"_")}catch{te&&te(Cr)}}if(Qt){te=it.join("&");break e}}}return y=y.i.splice(0,H),F.D=y,te}function Ls(y){if(!y.g&&!y.u){y.Y=1;var F=y.Fa;q||ee(),M||(q(),M=!0),z.add(F,y),y.v=0}}function ni(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Nt(x(y.Fa,y),uo(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Nt(x(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ln(this),co(this))};function Ni(y){y.A!=null&&(c.clearTimeout(y.A),y.A=null)}function co(y){y.g=new Hr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var F=zt(y.qa);Ut(F,"RID","rpc"),Ut(F,"SID",y.K),Ut(F,"AID",y.T),Ut(F,"CI",y.F?"0":"1"),!y.F&&y.ja&&Ut(F,"TO",y.ja),Ut(F,"TYPE","xmlhttp"),as(y,F),y.m&&y.o&&vs(F,y.m,y.o),y.L&&(y.g.I=y.L);var H=y.g;y=y.ia,H.L=1,H.v=_r(zt(F)),H.m=null,H.P=!0,qn(H,y)}t.Za=function(){this.C!=null&&(this.C=null,Ln(this),ni(this),vt(19))};function si(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function ii(y,F){var H=null;if(y.g==F){si(y),Ni(y),y.g=null;var te=2}else if(st(y.h,F))H=F.D,Et(y.h,F),te=1;else return;if(y.G!=0){if(F.o)if(te==1){H=F.m?F.m.length:0,F=Date.now()-F.F;var Me=y.B;te=kt(),It(te,new dr(te,H)),Jn(y)}else Ls(y);else if(Me=F.s,Me==3||Me==0&&0<F.X||!(te==1&&ha(y,F)||te==2&&ni(y)))switch(H&&0<H.length&&(F=y.h,F.i=F.i.concat(H)),Me){case 1:ls(y,5);break;case 4:ls(y,10);break;case 3:ls(y,6);break;default:ls(y,2)}}}function uo(y,F){let H=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(H*=2),H*F}function ls(y,F){if(y.j.info("Error code "+F),F==2){var H=x(y.fb,y),te=y.Xa;const Me=!te;te=new xt(te||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sr(te,"https"),_r(te),Me?ca(te.toString(),H):oo(te.toString(),H)}else vt(2);y.G=0,y.l&&y.l.sa(F),ho(y),ti(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ho(y){if(y.G=0,y.ka=[],y.l){const F=lr(y.h);(F.length!=0||y.i.length!=0)&&(k(y.ka,F),k(y.ka,y.i),y.h.i.length=0,_(y.i),y.i.length=0),y.l.ra()}}function fo(y,F,H){var te=H instanceof xt?zt(H):new xt(H);if(te.g!="")F&&(te.g=F+"."+te.g),qr(te,te.s);else{var Me=c.location;te=Me.protocol,F=F?F+"."+Me.hostname:Me.hostname,Me=+Me.port;var ze=new xt(null);te&&sr(ze,te),F&&(ze.g=F),Me&&qr(ze,Me),H&&(ze.l=H),te=ze}return H=y.D,F=y.ya,H&&F&&Ut(te,H,F),Ut(te,"VER",y.la),as(y,te),te}function po(y,F,H){if(F&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=y.Ca&&!y.pa?new pr(new is({eb:H})):new pr(y.pa),F.Ha(y.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Di(){}t=Di.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oi(){}oi.prototype.g=function(y,F){return new Jr(y,F)};function Jr(y,F){Ct.call(this),this.g=new ji(F),this.l=y,this.h=F&&F.messageUrlParams||null,y=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(y?y["X-WebChannel-Content-Type"]=F.messageContentType:y={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(y?y["X-WebChannel-Client-Profile"]=F.va:y={"X-WebChannel-Client-Profile":F.va}),this.g.S=y,(y=F&&F.Sb)&&!P(y)&&(this.g.m=y),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!P(F)&&(this.g.D=F,y=this.h,y!==null&&F in y&&(y=this.h,F in y&&delete y[F])),this.j=new Zn(this)}T(Jr,Ct),Jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jr.prototype.close=function(){Fr(this.g)},Jr.prototype.o=function(y){var F=this.g;if(typeof y=="string"){var H={};H.__data__=y,y=H}else this.u&&(H={},H.__data__=zr(y),y=H);F.i.push(new Le(F.Ya++,y)),F.G==3&&Jn(F)},Jr.prototype.N=function(){this.g.l=null,delete this.j,Fr(this.g),delete this.g,Jr.aa.N.call(this)};function mo(y){Ft.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var F=y.__sm__;if(F){e:{for(const H in F){y=H;break e}y=void 0}(this.i=y)&&(y=this.i,F=F!==null&&y in F?F[y]:void 0),this.data=F}else this.data=y}T(mo,Ft);function go(){Gt.call(this),this.status=1}T(go,Gt);function Zn(y){this.g=y}T(Zn,Di),Zn.prototype.ua=function(){It(this.g,"a")},Zn.prototype.ta=function(y){It(this.g,new mo(y))},Zn.prototype.sa=function(y){It(this.g,new go)},Zn.prototype.ra=function(){It(this.g,"b")},oi.prototype.createWebChannel=oi.prototype.g,Jr.prototype.send=Jr.prototype.o,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,createWebChannelTransport=function(){return new oi},getStatEventTarget=function(){return kt()},Event$1=ct,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,ErrorCode$1=Mr,hn.COMPLETE="complete",EventType=hn,rn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,WebChannel=rn,pr.prototype.listenOnce=pr.prototype.L,pr.prototype.getLastError=pr.prototype.Ka,pr.prototype.getLastErrorCode=pr.prototype.Ba,pr.prototype.getStatus=pr.prototype.Z,pr.prototype.getResponseJson=pr.prototype.Oa,pr.prototype.getResponseText=pr.prototype.oa,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Ha,XhrIo=pr}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let User$1=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};User$1.UNAUTHENTICATED=new User$1(null),User$1.GOOGLE_CREDENTIALS=new User$1("google-credentials-uid"),User$1.FIRST_PARTY=new User$1("first-party-uid"),User$1.MOCK_USER=new User$1("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(t,...e){if(b.logLevel<=LogLevel.DEBUG){const n=e.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${t}`,...n)}}function __PRIVATE_logError(t,...e){if(b.logLevel<=LogLevel.ERROR){const n=e.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${t}`,...n)}}function __PRIVATE_logWarn(t,...e){if(b.logLevel<=LogLevel.WARN){const n=e.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${t}`,...n)}}function __PRIVATE_argToString(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(t="Unexpected state"){const e=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+t;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(t,e){t||fail()}function __PRIVATE_debugCast(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(User$1.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User$1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){__PRIVATE_hardAssert(this.o===void 0);let s=this.i;const i=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let o=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new __PRIVATE_Deferred,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new __PRIVATE_Deferred)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(__PRIVATE_hardAssert(typeof s.accessToken=="string"),new __PRIVATE_OAuthToken(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User$1(e)}}class __PRIVATE_FirstPartyToken{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=User$1.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(User$1.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){__PRIVATE_hardAssert(this.o===void 0);const s=o=>{o.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const i=o=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(__PRIVATE_hardAssert(typeof n.token=="string"),this.R=n.token,new AppCheckToken(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=__PRIVATE_randomBytes(40);for(let o=0;o<i.length;++o)s.length<20&&i[o]<n&&(s+=e.charAt(i[o]%e.length))}return s}}function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function __PRIVATE_arrayEquals(t,e,n){return t.length===e.length&&t.every(((s,i)=>n(s,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Timestamp(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,n,s){n===void 0?n=0:n>e.length&&fail(),s===void 0?s=e.length-n:s>e.length-n&&fail(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ResourcePath extends BasePath{construct(e,n,s){return new ResourcePath(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((i=>i.length>0)))}return new ResourcePath(n)}static emptyPath(){return new ResourcePath([])}}const v$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,n,s){return new FieldPath$1(e,n,s)}static isValidIdentifier(e){return v$1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const o=()=>{if(s.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(s+=c,i++):(o(),i++)}if(o(),a)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(n)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ResourcePath.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(s===1e9?new Timestamp(n+1,0):new Timestamp(n,s));return new IndexOffset(i,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(t){return new IndexOffset(t.readTime,t.key,-1)}class IndexOffset{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=DocumentKey.comparator(t.documentKey,e.documentKey),n!==0?n:__PRIVATE_primitiveComparator(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==C)throw t;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new PersistencePromise(((s,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof PersistencePromise?n:PersistencePromise.resolve(n)}catch(n){return PersistencePromise.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):PersistencePromise.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):PersistencePromise.reject(n)}static resolve(e){return new PersistencePromise(((n,s)=>{n(e)}))}static reject(e){return new PersistencePromise(((n,s)=>{s(e)}))}static waitFor(e){return new PersistencePromise(((n,s)=>{let i=0,o=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++o,a&&o===i&&n()}),(u=>s(u)))})),a=!0,o===i&&n()}))}static or(e){let n=PersistencePromise.resolve(!1);for(const s of e)n=n.next((i=>i?PersistencePromise.resolve(i):s()));return n}static forEach(e,n){const s=[];return e.forEach(((i,o)=>{s.push(n.call(this,i,o))})),this.waitFor(s)}static mapArray(e,n){return new PersistencePromise(((s,i)=>{const o=e.length,a=new Array(o);let c=0;for(let u=0;u<o;u++){const f=u;n(e[f]).next((p=>{a[f]=p,++c,c===o&&s(a)}),(p=>i(p)))}}))}static doWhile(e,n){return new PersistencePromise(((s,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):s()};o()}))}}function __PRIVATE_getAndroidVersion(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function __PRIVATE_isIndexedDbTransactionError(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(t){return t==null}function __PRIVATE_isNegativeZero(t){return t===0&&1/t==-1/0}function isSafeInteger(t){return typeof t=="number"&&Number.isInteger(t)&&!__PRIVATE_isNegativeZero(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function forEach(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,n){this.comparator=e,this.root=n||LLRBNode.EMPTY}insert(e,n){return new SortedMap(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??LLRBNode.RED,this.left=i??LLRBNode.EMPTY,this.right=o??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,o){return new LLRBNode(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const o=s(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return LLRBNode.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,n,s,i,o){return this}insert(e,n,s){return new LLRBNode(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new SortedSet(this.comparator);return n.data=e,n}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let n=new SortedSet(FieldPath$1.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new FieldMask(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+o):o}})(e);return new ByteString(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new ByteString(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(t){if(__PRIVATE_hardAssert(!!t),typeof t=="string"){let e=0;const n=ne.exec(t);if(__PRIVATE_hardAssert(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(t.seconds),nanos:__PRIVATE_normalizeNumber(t.nanos)}}function __PRIVATE_normalizeNumber(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function __PRIVATE_normalizeByteString(t){return typeof t=="string"?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(t){const e=t.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(t){const e=__PRIVATE_normalizeTimestamp(t.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,n,s,i,o,a,c,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class DatabaseId{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{}};function __PRIVATE_typeOrder(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__PRIVATE_isServerTimestamp(t)?4:__PRIVATE_isMaxValue(t)?9007199254740991:__PRIVATE_isVectorValue(t)?10:11:fail()}function __PRIVATE_valueEquals(t,e){if(t===e)return!0;const n=__PRIVATE_typeOrder(t);if(n!==__PRIVATE_typeOrder(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(t).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=__PRIVATE_normalizeTimestamp(i.timestampValue),c=__PRIVATE_normalizeTimestamp(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return __PRIVATE_normalizeByteString(i.bytesValue).isEqual(__PRIVATE_normalizeByteString(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return __PRIVATE_normalizeNumber(i.geoPointValue.latitude)===__PRIVATE_normalizeNumber(o.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(i.geoPointValue.longitude)===__PRIVATE_normalizeNumber(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return __PRIVATE_normalizeNumber(i.integerValue)===__PRIVATE_normalizeNumber(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=__PRIVATE_normalizeNumber(i.doubleValue),c=__PRIVATE_normalizeNumber(o.doubleValue);return a===c?__PRIVATE_isNegativeZero(a)===__PRIVATE_isNegativeZero(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return __PRIVATE_arrayEquals(t.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(__PRIVATE_objectSize(a)!==__PRIVATE_objectSize(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!__PRIVATE_valueEquals(a[u],c[u])))return!1;return!0})(t,e);default:return fail()}}function __PRIVATE_arrayValueContains(t,e){return(t.values||[]).find((n=>__PRIVATE_valueEquals(n,e)))!==void 0}function __PRIVATE_valueCompare(t,e){if(t===e)return 0;const n=__PRIVATE_typeOrder(t),s=__PRIVATE_typeOrder(e);if(n!==s)return __PRIVATE_primitiveComparator(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const c=__PRIVATE_normalizeNumber(o.integerValue||o.doubleValue),u=__PRIVATE_normalizeNumber(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return __PRIVATE_compareTimestamps(t.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(t),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(t.stringValue,e.stringValue);case 6:return(function(o,a){const c=__PRIVATE_normalizeByteString(o),u=__PRIVATE_normalizeByteString(a);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const c=o.split("/"),u=a.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=__PRIVATE_primitiveComparator(c[f],u[f]);if(p!==0)return p}return __PRIVATE_primitiveComparator(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const c=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(o.latitude),__PRIVATE_normalizeNumber(a.latitude));return c!==0?c:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(o.longitude),__PRIVATE_normalizeNumber(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var c,u,f,p;const m=o.fields||{},x=a.fields||{},E=(c=m.value)===null||c===void 0?void 0:c.arrayValue,T=(u=x.value)===null||u===void 0?void 0:u.arrayValue,_=__PRIVATE_primitiveComparator(((f=E?.values)===null||f===void 0?void 0:f.length)||0,((p=T?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:__PRIVATE_compareArrays(E,T)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===re.mapValue&&a===re.mapValue)return 0;if(o===re.mapValue)return 1;if(a===re.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),f=a.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const x=__PRIVATE_primitiveComparator(u[m],p[m]);if(x!==0)return x;const E=__PRIVATE_valueCompare(c[u[m]],f[p[m]]);if(E!==0)return E}return __PRIVATE_primitiveComparator(u.length,p.length)})(t.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return __PRIVATE_primitiveComparator(t,e);const n=__PRIVATE_normalizeTimestamp(t),s=__PRIVATE_normalizeTimestamp(e),i=__PRIVATE_primitiveComparator(n.seconds,s.seconds);return i!==0?i:__PRIVATE_primitiveComparator(n.nanos,s.nanos)}function __PRIVATE_compareArrays(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const o=__PRIVATE_valueCompare(n[i],s[i]);if(o)return o}return __PRIVATE_primitiveComparator(n.length,s.length)}function canonicalId(t){return __PRIVATE_canonifyValue(t)}function __PRIVATE_canonifyValue(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=__PRIVATE_normalizeTimestamp(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return __PRIVATE_normalizeByteString(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return DocumentKey.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",i=!0;for(const o of n.values||[])i?i=!1:s+=",",s+=__PRIVATE_canonifyValue(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${__PRIVATE_canonifyValue(n.fields[a])}`;return i+"}"})(t.mapValue):fail()}function __PRIVATE_refValue(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function isInteger$1(t){return!!t&&"integerValue"in t}function isArray(t){return!!t&&"arrayValue"in t}function __PRIVATE_isNullValue(t){return!!t&&"nullValue"in t}function __PRIVATE_isNanValue(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function __PRIVATE_isMapValue(t){return!!t&&"mapValue"in t}function __PRIVATE_isVectorValue(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function __PRIVATE_deepClone(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return forEach(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=__PRIVATE_deepClone(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=__PRIVATE_deepClone(t.arrayValue.values[n]);return e}return Object.assign({},t)}function __PRIVATE_isMaxValue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!__PRIVATE_isMapValue(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(n)}setAll(e){let n=FieldPath$1.emptyPath(),s={},i=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,s,i),s={},i=[],n=c.popLast()}a?s[c.lastSegment()]=__PRIVATE_deepClone(a):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,i)}delete(e){const n=this.field(e.popLast());__PRIVATE_isMapValue(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];__PRIVATE_isMapValue(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){forEach(n,((i,o)=>e[i]=o));for(const i of s)delete e[i]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(t){const e=[];return forEach(t.fields,((n,s)=>{const i=new FieldPath$1([n]);if(__PRIVATE_isMapValue(s)){const o=__PRIVATE_extractFieldMask(s.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,n,s,i,o,a,c){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,n,s,i){return new MutableDocument(e,1,n,SnapshotVersion.min(),s,i,0)}static newNoDocument(e,n){return new MutableDocument(e,2,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,n){return new MutableDocument(e,3,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,n){this.position=e,this.inclusive=n}}function __PRIVATE_boundCompareToDocument(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?s=DocumentKey.comparator(DocumentKey.fromName(a.referenceValue),n.key):s=__PRIVATE_valueCompare(a,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function __PRIVATE_boundEquals(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!__PRIVATE_valueEquals(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,n="asc"){this.field=e,this.dir=n}}function __PRIVATE_orderByEquals(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new __PRIVATE_KeyFieldFilter(e,n,s):n==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,s):n==="in"?new __PRIVATE_InFilter(e,s):n==="not-in"?new __PRIVATE_NotInFilter(e,s):n==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,s):new FieldFilter(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new __PRIVATE_KeyFieldInFilter(e,s):new __PRIVATE_KeyFieldNotInFilter(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value)):n!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(n)&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new CompositeFilter(e,n)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(t){return t.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(t){return __PRIVATE_compositeFilterIsFlat(t)&&__PRIVATE_compositeFilterIsConjunction(t)}function __PRIVATE_compositeFilterIsFlat(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+canonicalId(t.value);if(__PRIVATE_compositeFilterIsFlatConjunction(t))return t.filters.map((e=>__PRIVATE_canonifyFilter(e))).join(",");{const e=t.filters.map((n=>__PRIVATE_canonifyFilter(n))).join(",");return`${t.op}(${e})`}}function __PRIVATE_filterEquals(t,e){return t instanceof FieldFilter?(function(s,i){return i instanceof FieldFilter&&s.op===i.op&&s.field.isEqual(i.field)&&__PRIVATE_valueEquals(s.value,i.value)})(t,e):t instanceof CompositeFilter?(function(s,i){return i instanceof CompositeFilter&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce(((o,a,c)=>o&&__PRIVATE_filterEquals(a,i.filters[c])),!0):!1})(t,e):void fail()}function __PRIVATE_stringifyFilter(t){return t instanceof FieldFilter?(function(n){return`${n.field.canonicalString()} ${n.op} ${canonicalId(n.value)}`})(t):t instanceof CompositeFilter?(function(n){return n.op.toString()+" {"+n.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"})(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,n,s){super(e,n,s),this.key=DocumentKey.fromName(s.referenceValue)}matches(e){const n=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(n)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,n){super(e,"in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>DocumentKey.fromName(s.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return isArray(n)&&__PRIVATE_arrayValueContains(n.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,n){super(e,"not-in",n)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!isArray(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>__PRIVATE_arrayValueContains(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,n=null,s=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}}function __PRIVATE_newTarget(t,e=null,n=[],s=[],i=null,o=null,a=null){return new __PRIVATE_TargetImpl(t,e,n,s,i,o,a)}function __PRIVATE_canonifyTarget(t){const e=__PRIVATE_debugCast(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>__PRIVATE_canonifyFilter(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>canonicalId(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>canonicalId(s))).join(",")),e.ue=n}return e.ue}function __PRIVATE_targetEquals(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!__PRIVATE_orderByEquals(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!__PRIVATE_filterEquals(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(t.startAt,e.startAt)&&__PRIVATE_boundEquals(t.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(t){return DocumentKey.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,n=null,s=[],i=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(t,e,n,s,i,o,a,c){return new __PRIVATE_QueryImpl(t,e,n,s,i,o,a,c)}function __PRIVATE_newQueryForPath(t){return new __PRIVATE_QueryImpl(t)}function __PRIVATE_queryMatchesAllDocuments(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(t){return t.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(t){const e=__PRIVATE_debugCast(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new SortedSet(FieldPath$1.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new OrderBy(o,s))})),n.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),s))}return e.ce}function __PRIVATE_queryToTarget(t){const e=__PRIVATE_debugCast(t);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(t))),e.le}function __PRIVATE__queryToTarget(t,e){if(t.limitType==="F")return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new OrderBy(i.field,o)}));const n=t.endAt?new Bound(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Bound(t.startAt.position,t.startAt.inclusive):null;return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function __PRIVATE_queryWithAddedFilter(t,e){const n=t.filters.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function __PRIVATE_queryWithLimit(t,e,n){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function __PRIVATE_queryEquals(t,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(t),__PRIVATE_queryToTarget(e))&&t.limitType===e.limitType}function __PRIVATE_canonifyQuery(t){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(t))}|lt:${t.limitType}`}function __PRIVATE_stringifyQuery(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((i=>__PRIVATE_stringifyFilter(i))).join(", ")}]`),__PRIVATE_isNullOrUndefined(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((i=>canonicalId(i))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((i=>canonicalId(i))).join(",")),`Target(${s})`})(__PRIVATE_queryToTarget(t))}; limitType=${t.limitType})`}function __PRIVATE_queryMatches(t,e){return e.isFoundDocument()&&(function(s,i){const o=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):DocumentKey.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,i){for(const o of __PRIVATE_queryNormalizedOrderBy(s))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,i){for(const o of s.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(s,i){return!(s.startAt&&!(function(a,c,u){const f=__PRIVATE_boundCompareToDocument(a,c,u);return a.inclusive?f<=0:f<0})(s.startAt,__PRIVATE_queryNormalizedOrderBy(s),i)||s.endAt&&!(function(a,c,u){const f=__PRIVATE_boundCompareToDocument(a,c,u);return a.inclusive?f>=0:f>0})(s.endAt,__PRIVATE_queryNormalizedOrderBy(s),i))})(t,e)}function __PRIVATE_queryCollectionGroup(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function __PRIVATE_newQueryComparator(t){return(e,n)=>{let s=!1;for(const i of __PRIVATE_queryNormalizedOrderBy(t)){const o=__PRIVATE_compareDocs(i,e,n);if(o!==0)return o;s=s||i.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(t,e,n){const s=t.field.isKeyField()?DocumentKey.comparator(e.key,n.key):(function(o,a,c){const u=a.data.field(o),f=c.data.field(o);return u!==null&&f!==null?__PRIVATE_valueCompare(u,f):fail()})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,o]of s)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,((n,s)=>{for(const[i,o]of s)e(i,o)}))}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...t){let e=_e;for(const n of t)e=e.insert(n.key,n);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(t){let e=_e;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ae=new SortedMap(DocumentKey.comparator),ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...t){let e=ue;for(const n of t)e=e.add(n);return e}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(t){return{integerValue:""+t}}function toNumber(t,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(t,e,n){return t instanceof __PRIVATE_ServerTimestampTransform?(function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&__PRIVATE_isServerTimestamp(o)&&(o=__PRIVATE_getPreviousValue(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}})(n,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):(function(i,o){const a=__PRIVATE_computeTransformOperationBaseValue(i,o),c=asNumber$1(a)+asNumber$1(i.Pe);return isInteger$1(a)&&isInteger$1(i.Pe)?__PRIVATE_toInteger(c):__PRIVATE_toDouble(i.serializer,c)})(t,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(t,e,n){return t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):n}function __PRIVATE_computeTransformOperationBaseValue(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?(function(s){return isInteger$1(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(t,e){const n=__PRIVATE_coercedFieldValuesArray(e);for(const s of t.elements)n.some((i=>__PRIVATE_valueEquals(i,s)))||n.push(s);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(t,e){let n=__PRIVATE_coercedFieldValuesArray(e);for(const s of t.elements)n=n.filter((i=>!__PRIVATE_valueEquals(i,s)));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function asNumber$1(t){return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue)}function __PRIVATE_coercedFieldValuesArray(t){return isArray(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(e,n){this.field=e,this.transform=n}}function __PRIVATE_fieldTransformEquals(t,e){return t.field.isEqual(e.field)&&(function(s,i){return s instanceof __PRIVATE_ArrayUnionTransformOperation&&i instanceof __PRIVATE_ArrayUnionTransformOperation||s instanceof __PRIVATE_ArrayRemoveTransformOperation&&i instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(s.elements,i.elements,__PRIVATE_valueEquals):s instanceof __PRIVATE_NumericIncrementTransformOperation&&i instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(s.Pe,i.Pe):s instanceof __PRIVATE_ServerTimestampTransform&&i instanceof __PRIVATE_ServerTimestampTransform})(t.transform,e.transform)}class MutationResult{constructor(e,n){this.version=e,this.transformResults=n}}class Precondition{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const n=t.data,s=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?s.delete(o):s.set(o,a),i=i.add(o)}return new __PRIVATE_PatchMutation(t.key,s,new FieldMask(i.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(t,e,n){t instanceof __PRIVATE_SetMutation?(function(i,o,a){const c=i.value.clone(),u=__PRIVATE_serverTransformResults(i.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof __PRIVATE_PatchMutation?(function(i,o,a){if(!__PRIVATE_preconditionIsValidForDocument(i.precondition,o))return void o.convertToUnknownDocument(a.version);const c=__PRIVATE_serverTransformResults(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(__PRIVATE_getPatch(i)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function __PRIVATE_mutationApplyToLocalView(t,e,n,s){return t instanceof __PRIVATE_SetMutation?(function(o,a,c,u){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,a))return c;const f=o.value.clone(),p=__PRIVATE_localTransformResults(o.fieldTransforms,u,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,s):t instanceof __PRIVATE_PatchMutation?(function(o,a,c,u){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,a))return c;const f=__PRIVATE_localTransformResults(o.fieldTransforms,u,a),p=a.data;return p.setAll(__PRIVATE_getPatch(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,s):(function(o,a,c){return __PRIVATE_preconditionIsValidForDocument(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function __PRIVATE_mutationExtractBaseValue(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),o=__PRIVATE_computeTransformOperationBaseValue(s.transform,i||null);o!=null&&(n===null&&(n=ObjectValue.empty()),n.set(s.field,o))}return n||null}function __PRIVATE_mutationEquals(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&__PRIVATE_arrayEquals(s,i,((o,a)=>__PRIVATE_fieldTransformEquals(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,n,s,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function __PRIVATE_serverTransformResults(t,e,n){const s=new Map;__PRIVATE_hardAssert(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,c=e.data.field(o.field);s.set(o.field,__PRIVATE_applyTransformOperationToRemoteDocument(a,c,n[i]))}return s}function __PRIVATE_localTransformResults(t,e,n){const s=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);s.set(i.field,__PRIVATE_applyTransformOperationToLocalView(o,a,e))}return s}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(o,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=__PRIVATE_mutationApplyToLocalView(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=__PRIVATE_newMutationMap();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;const u=__PRIVATE_calculateOverlayMutation(a,c);u!==null&&s.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(SnapshotVersion.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,((n,s)=>__PRIVATE_mutationEquals(n,s)))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,((n,s)=>__PRIVATE_mutationEquals(n,s)))}}class MutationBatchResult{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){__PRIVATE_hardAssert(e.mutations.length===s.length);let i=(function(){return ae})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,s[a].version);return new MutationBatchResult(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_isPermanentError(t){switch(t){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(t){if(t===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(t){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(t){const e=__PRIVATE_newTextEncoder().encode(t),n=new Md5;return n.update(e),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Integer([n,s],0),new Integer([i,o],0)]}class BloomFilter{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${n}`);if(s<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Integer.fromNumber(this.Ie)}Ee(e,n,s){let i=e.add(n.multiply(Integer.fromNumber(s)));return i.compare(Ie)===1&&(i=new Integer([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=__PRIVATE_getMd5HashValue(e),[s,i]=__PRIVATE_get64BitUints(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(s,i,o);if(!this.de(a))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new BloomFilter(o,i,n);return s.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;const n=__PRIVATE_getMd5HashValue(e),[s,i]=__PRIVATE_get64BitUints(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(s,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,n,s,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new RemoteEvent(SnapshotVersion.min(),i,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,n,s,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new TargetChange(s,n,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,n,s,i){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=i}}class __PRIVATE_ExistenceFilterChange{constructor(e,n){this.targetId=e,this.me=n}}class __PRIVATE_WatchTargetChange{constructor(e,n,s=ByteString.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:fail()}})),new TargetChange(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:fail()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((s,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,s=e.me.count,i=this.Je(n);if(i){const o=i.target;if(__PRIVATE_targetIsDocumentTarget(o))if(s===0){const a=new DocumentKey(o.path);this.Ue(n,a,MutableDocument.newNoDocument(a,SnapshotVersion.min()))}else __PRIVATE_hardAssert(s===1);else{const a=this.Ye(n);if(a!==s){const c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:o=0}=n;let a,c;try{a=__PRIVATE_normalizeByteString(s).toUint8Array()}catch(u){if(u instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new BloomFilter(a,i,o)}catch(u){return __PRIVATE_logWarn(u instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let i=0;return s.forEach((o=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((o,a)=>{const c=this.Je(a);if(c){if(o.current&&__PRIVATE_targetIsDocumentTarget(c.target)){const u=new DocumentKey(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,MutableDocument.newNoDocument(u,e))}o.be&&(n.set(a,o.ve()),o.Ce())}}));let s=__PRIVATE_documentKeySet();this.qe.forEach(((o,a)=>{let c=!0;a.forEachWhile((u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(s=s.add(o))})),this.ke.forEach(((o,a)=>a.setReadTime(e)));const i=new RemoteEvent(e,n,this.Qe,this.ke,s);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),i}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new __PRIVATE_TargetState,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function __PRIVATE_toInt32Proto(t,e){return t.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(t,e){return toTimestamp(t,e.toTimestamp())}function __PRIVATE_fromVersion(t){return __PRIVATE_hardAssert(!!t),SnapshotVersion.fromTimestamp((function(n){const s=__PRIVATE_normalizeTimestamp(n);return new Timestamp(s.seconds,s.nanos)})(t))}function __PRIVATE_toResourceName(t,e){return __PRIVATE_toResourcePath(t,e).canonicalString()}function __PRIVATE_toResourcePath(t,e){const n=(function(i){return new ResourcePath(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function __PRIVATE_fromResourceName(t){const e=ResourcePath.fromString(t);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(t,e){return __PRIVATE_toResourceName(t.databaseId,e.path)}function fromName(t,e){const n=__PRIVATE_fromResourceName(e);if(n.get(1)!==t.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(t,e){return __PRIVATE_toResourceName(t.databaseId,e)}function __PRIVATE_fromQueryPath(t){const e=__PRIVATE_fromResourceName(t);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(t){return __PRIVATE_hardAssert(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __PRIVATE_toMutationDocument(t,e,n){return{name:__PRIVATE_toName(t,e),fields:n.value.mapValue.fields}}function __PRIVATE_fromWatchChange(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:fail()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(__PRIVATE_hardAssert(p===void 0||typeof p=="string"),ByteString.fromBase64String(p||"")):(__PRIVATE_hardAssert(p===void 0||p instanceof Buffer||p instanceof Uint8Array),ByteString.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(f){const p=f.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(f.code);return new FirestoreError(p,f.message||"")})(a);n=new __PRIVATE_WatchTargetChange(s,i,o,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=fromName(t,s.document.name),o=__PRIVATE_fromVersion(s.document.updateTime),a=s.document.createTime?__PRIVATE_fromVersion(s.document.createTime):SnapshotVersion.min(),c=new ObjectValue({mapValue:{fields:s.document.fields}}),u=MutableDocument.newFoundDocument(i,o,a,c),f=s.targetIds||[],p=s.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(f,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=fromName(t,s.document),o=s.readTime?__PRIVATE_fromVersion(s.readTime):SnapshotVersion.min(),a=MutableDocument.newNoDocument(i,o),c=s.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=fromName(t,s.document),o=s.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],o,i,null)}else{if(!("filter"in e))return fail();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:o}=s,a=new ExistenceFilter(i,o),c=s.targetId;n=new __PRIVATE_ExistenceFilterChange(c,a)}}return n}function toMutation(t,e){let n;if(e instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(t,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();n={verify:__PRIVATE_toName(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,a){const c=a.transform;if(c instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw fail()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fail()})(t,e.precondition)),n}function __PRIVATE_fromWriteResults(t,e){return t&&t.length>0?(__PRIVATE_hardAssert(e!==void 0),t.map((n=>(function(i,o){let a=i.updateTime?__PRIVATE_fromVersion(i.updateTime):__PRIVATE_fromVersion(o);return a.isEqual(SnapshotVersion.min())&&(a=__PRIVATE_fromVersion(o)),new MutationResult(a,i.transformResults||[])})(n,e)))):[]}function __PRIVATE_toDocumentsTarget(t,e){return{documents:[__PRIVATE_toQueryPath(t,e.path)]}}function __PRIVATE_toQueryTarget(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=__PRIVATE_toQueryPath(t,i);const o=(function(f){if(f.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((p=>(function(x){return{field:__PRIVATE_toFieldPathReference(x.field),direction:__PRIVATE_toDirection(x.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=__PRIVATE_toInt32Proto(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:n,parent:i}}function __PRIVATE_convertQueryTargetToQuery(t){let e=__PRIVATE_fromQueryPath(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){__PRIVATE_hardAssert(s===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(m){const x=__PRIVATE_fromFilter(m);return x instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(x)?x.getFilters():[x]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((x=>(function(T){return new OrderBy(__PRIVATE_fromFieldPathReference(T.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let x;return x=typeof m=="object"?m.value:m,__PRIVATE_isNullOrUndefined(x)?null:x})(n.limit));let u=null;n.startAt&&(u=(function(m){const x=!!m.before,E=m.values||[];return new Bound(E,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const x=!m.before,E=m.values||[];return new Bound(E,x)})(n.endAt)),__PRIVATE_newQuery(e,i,a,o,c,"F",u,f)}function __PRIVATE_toListenRequestLabels(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function __PRIVATE_fromFilter(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(a,"!=",{nullValue:"NULL_VALUE"});default:return fail()}})(t):t.fieldFilter!==void 0?(function(n){return FieldFilter.create(__PRIVATE_fromFieldPathReference(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return CompositeFilter.create(n.compositeFilter.filters.map((s=>__PRIVATE_fromFilter(s))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fail()}})(n.compositeFilter.op))})(t):fail()}function __PRIVATE_toDirection(t){return Te[t]}function __PRIVATE_toOperatorName(t){return Ee[t]}function __PRIVATE_toCompositeOperatorName(t){return de[t]}function __PRIVATE_toFieldPathReference(t){return{fieldPath:t.canonicalString()}}function __PRIVATE_fromFieldPathReference(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function __PRIVATE_toFilter(t){return t instanceof FieldFilter?(function(n){if(n.op==="=="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:__PRIVATE_toOperatorName(n.op),value:n.value}}})(t):t instanceof CompositeFilter?(function(n){const s=n.getFilters().map((i=>__PRIVATE_toFilter(i)));return s.length===1?s[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(n.op),filters:s}}})(t):fail()}function __PRIVATE_toDocumentMask(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function __PRIVATE_isValidResourceName(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,n,s,i,o=SnapshotVersion.min(),a=SnapshotVersion.min(),c=ByteString.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(t){const e=__PRIVATE_convertQueryTargetToQuery({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,n){return this.un.add(n),PersistencePromise.resolve()}getCollectionParents(e,n){return PersistencePromise.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return PersistencePromise.resolve()}deleteFieldIndex(e,n){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,n){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,n){return PersistencePromise.resolve(null)}getIndexType(e,n){return PersistencePromise.resolve(0)}getFieldIndexes(e,n){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,n){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,n){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,n,s){return PersistencePromise.resolve()}updateIndexEntries(e,n){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new SortedSet(ResourcePath.comparator),o=!i.has(s);return this.index[n]=i.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?PersistencePromise.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(s=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(s!==null&&__PRIVATE_mutationApplyToLocalView(s.mutation,i,FieldMask.empty(),Timestamp.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,__PRIVATE_documentKeySet()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=__PRIVATE_documentKeySet()){const i=__PRIVATE_newOverlayMap();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,s).next((o=>{let a=documentMap();return o.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const s=__PRIVATE_newOverlayMap();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,__PRIVATE_documentKeySet())))}populateOverlays(e,n,s){const i=[];return s.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,s,i){let o=__PRIVATE_mutableDocumentMap();const a=__PRIVATE_newDocumentKeyMap(),c=(function(){return __PRIVATE_newDocumentKeyMap()})();return n.forEach(((u,f)=>{const p=s.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof __PRIVATE_PatchMutation)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(p.mutation,f,p.mutation.getFieldMask(),Timestamp.now())):a.set(f.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,p)=>a.set(f,p))),n.forEach(((f,p)=>{var m;return c.set(f,new OverlayedDocument(p,(m=a.get(f))!==null&&m!==void 0?m:null))})),c)))}recalculateAndSaveOverlays(e,n){const s=__PRIVATE_newDocumentKeyMap();let i=new SortedMap(((a,c)=>a-c)),o=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let p=s.get(u)||FieldMask.empty();p=c.applyToLocalView(f,p),s.set(u,p);const m=(i.get(c.batchId)||__PRIVATE_documentKeySet()).add(u);i=i.insert(c.batchId,m)}))})).next((()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,m=__PRIVATE_newMutationMap();p.forEach((x=>{if(!o.has(x)){const E=__PRIVATE_calculateOverlayMutation(n.get(x),s.get(x));E!==null&&m.set(x,E),o=o.add(x)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,m))}return PersistencePromise.waitFor(a)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,i){return(function(a){return DocumentKey.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):__PRIVATE_isCollectionGroupQuery(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-o.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let c=-1,u=o;return a.next((f=>PersistencePromise.forEach(f,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(p)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{u=u.insert(p,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,__PRIVATE_documentKeySet()))).next((p=>({batchId:c,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new DocumentKey(n)).next((s=>{let i=documentMap();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const o=n.collectionGroup;let a=documentMap();return this.indexManager.getCollectionParents(e,o).next((c=>PersistencePromise.forEach(c,(u=>{const f=(function(m,x){return new __PRIVATE_QueryImpl(x,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,i).next((p=>{p.forEach(((m,x)=>{a=a.insert(m,x)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,s,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,i)))).next((a=>{o.forEach(((u,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,MutableDocument.newInvalidDocument(p)))}));let c=documentMap();return a.forEach(((u,f)=>{const p=o.get(u);p!==void 0&&__PRIVATE_mutationApplyToLocalView(p.mutation,f,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(n,f)&&(c=c.insert(u,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return PersistencePromise.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:__PRIVATE_fromVersion(i.createTime)}})(n)),PersistencePromise.resolve()}getNamedQuery(e,n){return PersistencePromise.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:__PRIVATE_fromBundledQuery(i.bundledQuery),readTime:__PRIVATE_fromVersion(i.readTime)}})(n)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,n){return PersistencePromise.resolve(this.overlays.get(n))}getOverlays(e,n){const s=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&s.set(i,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((i,o)=>{this.ht(e,n,o)})),PersistencePromise.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Ir.get(s);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(s)),PersistencePromise.resolve()}getOverlaysForCollection(e,n,s){const i=__PRIVATE_newOverlayMap(),o=n.length+1,a=new DocumentKey(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>s&&i.set(u.getKey(),u)}return PersistencePromise.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let o=new SortedMap(((f,p)=>f-p));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>s){let p=o.get(f.largestBatchId);p===null&&(p=__PRIVATE_newOverlayMap(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=__PRIVATE_newOverlayMap(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return PersistencePromise.resolve(c)}ht(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(s.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new Overlay(n,s));let o=this.Ir.get(n);o===void 0&&(o=__PRIVATE_documentKeySet(),this.Ir.set(n,o)),this.Ir.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new __PRIVATE_DocReference(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Vr(new __PRIVATE_DocReference(e,n))}mr(e,n){e.forEach((s=>this.removeReference(s,n)))}gr(e){const n=new DocumentKey(new ResourcePath([])),s=new __PRIVATE_DocReference(n,e),i=new __PRIVATE_DocReference(n,e+1),o=[];return this.dr.forEachInRange([s,i],(a=>{this.Vr(a),o.push(a.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new DocumentKey(new ResourcePath([])),s=new __PRIVATE_DocReference(n,e),i=new __PRIVATE_DocReference(n,e+1);let o=__PRIVATE_documentKeySet();return this.dr.forEachInRange([s,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new __PRIVATE_DocReference(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class __PRIVATE_DocReference{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return DocumentKey.comparator(e.key,n.key)||__PRIVATE_primitiveComparator(e.wr,n.wr)}static Ar(e,n){return __PRIVATE_primitiveComparator(e.wr,n.wr)||DocumentKey.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new MutationBatch(o,n,s,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new __PRIVATE_DocReference(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return PersistencePromise.resolve(a)}lookupMutationBatch(e,n){return PersistencePromise.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.vr(s),o=i<0?0:i;return PersistencePromise.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new __PRIVATE_DocReference(n,0),i=new __PRIVATE_DocReference(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([s,i],(a=>{const c=this.Dr(a.wr);o.push(c)})),PersistencePromise.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new SortedSet(__PRIVATE_primitiveComparator);return n.forEach((i=>{const o=new __PRIVATE_DocReference(i,0),a=new __PRIVATE_DocReference(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],(c=>{s=s.add(c.wr)}))})),PersistencePromise.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let o=s;DocumentKey.isDocumentKey(o)||(o=o.child(""));const a=new __PRIVATE_DocReference(new DocumentKey(o),0);let c=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile((u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===i&&(c=c.add(u.wr)),!0)}),a),PersistencePromise.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach((s=>{const i=this.Dr(s);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){__PRIVATE_hardAssert(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return PersistencePromise.forEach(n.mutations,(i=>{const o=new __PRIVATE_DocReference(i.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,n){const s=new __PRIVATE_DocReference(n,0),i=this.br.firstAfterOrEqual(s);return PersistencePromise.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=(function(){return new SortedMap(DocumentKey.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return PersistencePromise.resolve(s?s.document.mutableCopy():MutableDocument.newInvalidDocument(n))}getEntries(e,n){let s=__PRIVATE_mutableDocumentMap();return n.forEach((i=>{const o=this.docs.get(i);s=s.insert(i,o?o.document.mutableCopy():MutableDocument.newInvalidDocument(i))})),PersistencePromise.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let o=__PRIVATE_mutableDocumentMap();const a=n.path,c=new DocumentKey(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(p),s)<=0||(i.has(p.key)||__PRIVATE_queryMatches(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return PersistencePromise.resolve(o)}getAllFromCollectionGroup(e,n,s,i){fail()}Or(e,n){return PersistencePromise.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(s)})),PersistencePromise.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap((n=>__PRIVATE_canonifyTarget(n)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,n){return this.Nr.forEach(((s,i)=>n(i))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,n){return this.Kn(n),PersistencePromise.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,n,s){let i=0;const o=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),PersistencePromise.waitFor(o).next((()=>i))}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return PersistencePromise.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),PersistencePromise.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),PersistencePromise.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return PersistencePromise.resolve(s)}containsKey(e,n){return PersistencePromise.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,n){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=(function(i){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(i)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new __PRIVATE_LocalSerializer(n),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new __PRIVATE_MemoryMutationQueue(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const i=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),s(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return PersistencePromise.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,n))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),PersistencePromise.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),PersistencePromise.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,(s=>{const i=DocumentKey.fromPath(s);return this.ei(e,i).next((o=>{o||n.removeEntry(i,SnapshotVersion.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=i}static Wi(e,n){let s=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new __PRIVATE_LocalViewChanges(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,i){const o={result:null};return this.Yi(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.Zi(e,n,i,s).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new QueryContext;return this.Xi(e,n,a).next((c=>{if(o.result=c,this.zi)return this.es(e,n,a,c.size)}))})).next((()=>o.result))}es(e,n,s,i){return s.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.Hi*i?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(n))):PersistencePromise.resolve())}Yi(e,n){if(__PRIVATE_queryMatchesAllDocuments(n))return PersistencePromise.resolve(null);let s=__PRIVATE_queryToTarget(n);return this.indexManager.getIndexType(e,s).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=__PRIVATE_queryWithLimit(n,null,"F"),s=__PRIVATE_queryToTarget(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const a=__PRIVATE_documentKeySet(...o);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,s).next((u=>{const f=this.ts(n,c);return this.ns(n,f,a,u.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(n,null,"F")):this.rs(e,f,n,u)}))))})))))}Zi(e,n,s,i){return __PRIVATE_queryMatchesAllDocuments(n)||i.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,s).next((o=>{const a=this.ts(n,o);return this.ns(n,a,s,i)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),__PRIVATE_stringifyQuery(n)),this.rs(e,a,n,__PRIVATE_newIndexOffsetSuccessorFromReadTime(i,-1)).next((c=>c)))}))}ts(e,n){let s=new SortedSet(__PRIVATE_newQueryComparator(e));return n.forEach(((i,o)=>{__PRIVATE_queryMatches(e,o)&&(s=s.add(o))})),s}ns(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,s){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(n)),this.Ji.getDocumentsMatchingQuery(e,n,IndexOffset.min(),s)}rs(e,n,s,i){return this.Ji.getDocumentsMatchingQuery(e,s,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,n,s,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap((o=>__PRIVATE_canonifyTarget(o)),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function __PRIVATE_newLocalStore(t,e,n,s){return new __PRIVATE_LocalStoreImpl(t,e,n,s)}async function __PRIVATE_localStoreHandleUserChange(t,e){const n=__PRIVATE_debugCast(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const a=[],c=[];let u=__PRIVATE_documentKeySet();for(const f of i){a.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(s,u).next((f=>({hs:f,removedBatchIds:a,addedBatchIds:c})))}))}))}function __PRIVATE_localStoreAcknowledgeBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,f,p){const m=f.batch,x=m.keys();let E=PersistencePromise.resolve();return x.forEach((T=>{E=E.next((()=>p.getEntry(u,T))).next((_=>{const k=f.docVersions.get(T);__PRIVATE_hardAssert(k!==null),_.version.compareTo(k)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(u,m)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(c){let u=__PRIVATE_documentKeySet();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,i)))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t){const e=__PRIVATE_debugCast(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(t,e){const n=__PRIVATE_debugCast(t),s=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];e.targetChanges.forEach(((p,m)=>{const x=i.get(m);if(!x)return;c.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,m).next((()=>n.Ur.addMatchingKeys(o,p.addedDocuments,m))));let E=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,s)),i=i.insert(m,E),(function(_,k,I){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(x,E,p)&&c.push(n.Ur.updateTargetData(o,E))}));let u=__PRIVATE_mutableDocumentMap(),f=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(__PRIVATE_populateDocumentChangeBuffer(o,a,e.documentUpdates).next((p=>{u=p.Ps,f=p.Is}))),!s.isEqual(SnapshotVersion.min())){const p=n.Ur.getLastRemoteSnapshotVersion(o).next((m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,s)));c.push(p)}return PersistencePromise.waitFor(c).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(n.os=i,o)))}function __PRIVATE_populateDocumentChangeBuffer(t,e,n){let s=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let a=__PRIVATE_mutableDocumentMap();return n.forEach(((c,u)=>{const f=o.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(SnapshotVersion.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)})),{Ps:a,Is:i}}))}function __PRIVATE_localStoreGetNextMutationBatch(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function __PRIVATE_localStoreAllocateTarget(t,e){const n=__PRIVATE_debugCast(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let i;return n.Ur.getTargetData(s,e).next((o=>o?(i=o,PersistencePromise.resolve(i)):n.Ur.allocateTargetId(s).next((a=>(i=new TargetData(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,i).next((()=>i)))))))})).then((s=>{const i=n.os.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s}))}async function __PRIVATE_localStoreReleaseTarget(t,e,n){const s=__PRIVATE_debugCast(t),i=s.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(a=>s.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!__PRIVATE_isIndexedDbTransactionError(a))throw a;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}s.os=s.os.remove(e),s._s.delete(i.target)}function __PRIVATE_localStoreExecuteQuery(t,e,n){const s=__PRIVATE_debugCast(t);let i=SnapshotVersion.min(),o=__PRIVATE_documentKeySet();return s.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,f,p){const m=__PRIVATE_debugCast(u),x=m._s.get(p);return x!==void 0?PersistencePromise.resolve(m.os.get(x)):m.Ur.getTargetData(f,p)})(s,a,__PRIVATE_queryToTarget(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(a,c.targetId).next((u=>{o=u}))})).next((()=>s.ss.getDocumentsMatchingQuery(a,e,n?i:SnapshotVersion.min(),n?o:__PRIVATE_documentKeySet()))).next((c=>(__PRIVATE_setMaxReadTime(s,__PRIVATE_queryCollectionGroup(e),c),{documents:c,Ts:o})))))}function __PRIVATE_setMaxReadTime(t,e,n){let s=t.us.get(e)||SnapshotVersion.min();n.forEach(((i,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.us.set(e,s)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=(function(){return 268435456+Math.round(2147483648*Math.random())})():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,s,i,o,a){const c=__PRIVATE_generateUniqueDebugId(),u=this.xo(n,s.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,o,a),this.No(n,u,f,i).then((p=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${n}' ${c}: `,p),p)),(p=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,s,i,o,a,c){return this.Mo(n,s,i,o,a)}Oo(n,s,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+S})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,a)=>n[a]=o)),i&&i.headers.forEach(((o,a)=>n[a]=o))}xo(n,s){const i=fe[n];return`${this.Do}/v1/${s}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,i){const o=__PRIVATE_generateUniqueDebugId();return new Promise(((a,c)=>{const u=new XhrIo;u.setWithCredentials(!0),u.listenOnce(EventType.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const p=u.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${e}' ${o} timed out`),c(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const m=u.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x?.error;if(E&&E.status&&E.message){const T=(function(k){const I=k.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(I)>=0?I:D.UNKNOWN})(E.status);c(new FirestoreError(T,E.message))}else c(new FirestoreError(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);__PRIVATE_logDebug(ge,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",f,s,15)}))}Bo(e,n,s){const i=__PRIVATE_generateUniqueDebugId(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=createWebChannelTransport(),c=getStatEventTarget(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const p=o.join("");__PRIVATE_logDebug(ge,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=a.createWebChannel(p,u);let x=!1,E=!1;const T=new __PRIVATE_StreamBridge({Io:k=>{E?__PRIVATE_logDebug(ge,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(x||(__PRIVATE_logDebug(ge,`Opening RPC '${e}' stream ${i} transport.`),m.open(),x=!0),__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} sending:`,k),m.send(k))},To:()=>m.close()}),_=(k,I,P)=>{k.listen(I,(A=>{try{P(A)}catch(j){setTimeout((()=>{throw j}),0)}}))};return _(m,WebChannel.EventType.OPEN,(()=>{E||(__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} transport opened.`),T.yo())})),_(m,WebChannel.EventType.CLOSE,(()=>{E||(E=!0,__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} transport closed`),T.So())})),_(m,WebChannel.EventType.ERROR,(k=>{E||(E=!0,__PRIVATE_logWarn(ge,`RPC '${e}' stream ${i} transport errored:`,k),T.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))})),_(m,WebChannel.EventType.MESSAGE,(k=>{var I;if(!E){const P=k.data[0];__PRIVATE_hardAssert(!!P);const A=P,j=A.error||((I=A[0])===null||I===void 0?void 0:I.error);if(j){__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} received error:`,j);const O=j.status;let $=(function(U){const J=le[U];if(J!==void 0)return __PRIVATE_mapCodeFromRpcCode(J)})(O),V=j.message;$===void 0&&($=D.INTERNAL,V="Unknown error status: "+O+" with message "+j.message),E=!0,T.So(new FirestoreError($,V)),m.close()}else __PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} received:`,P),T.bo(P)}})),_(c,Event$1.STAT_EVENT,(k=>{k.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(t){return new JsonProtoSerializer(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,n,s=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-s);i>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,n,s,i,o,a,c,u){this.ui=e,this.Ho=s,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(n.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,i])=>{this.Yo===n&&this.P_(s,i)}),(s=>{e((()=>{const i=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(i)}))}))}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{s((()=>this.I_(i)))})),this.stream.onMessage((i=>{s((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,n,s,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=__PRIVATE_fromWatchChange(this.serializer,e),s=(function(o){if(!("targetChange"in o))return SnapshotVersion.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?SnapshotVersion.min():a.readTime?__PRIVATE_fromVersion(a.readTime):SnapshotVersion.min()})(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.addTarget=(function(o,a){let c;const u=a.target;if(c=__PRIVATE_targetIsDocumentTarget(u)?{documents:__PRIVATE_toDocumentsTarget(o,u)}:{query:__PRIVATE_toQueryTarget(o,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=__PRIVATE_toBytes(o,a.resumeToken);const f=__PRIVATE_toInt32Proto(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(SnapshotVersion.min())>0){c.readTime=toTimestamp(o,a.snapshotVersion.toTimestamp());const f=__PRIVATE_toInt32Proto(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const s=__PRIVATE_toListenRequestLabels(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.removeTarget=e,this.a_(n)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,n,s,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return __PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),s=__PRIVATE_fromVersion(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>toMutation(this.serializer,s)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Mo(e,__PRIVATE_toResourcePath(n,s),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new FirestoreError(D.UNKNOWN,o.toString())}))}Lo(e,n,s,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,__PRIVATE_toResourcePath(n,s),i,a,c,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new FirestoreError(D.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(n),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,n,s,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((a=>{s.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const f=__PRIVATE_debugCast(u);f.L_.add(4),await __PRIVATE_disableNetworkInternal(f),f.q_.set("Unknown"),f.L_.delete(4),await __PRIVATE_enableNetworkInternal(f)})(this))}))})),this.q_=new __PRIVATE_OnlineStateTracker(s,i)}}async function __PRIVATE_enableNetworkInternal(t){if(__PRIVATE_canUseNetwork(t))for(const e of t.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(t){for(const e of t.B_)await e(!1)}function __PRIVATE_remoteStoreListen(t,e){const n=__PRIVATE_debugCast(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).r_()&&__PRIVATE_sendWatchRequest(n,e))}function __PRIVATE_remoteStoreUnlisten(t,e){const n=__PRIVATE_debugCast(t),s=__PRIVATE_ensureWatchStream(n);n.N_.delete(e),s.r_()&&__PRIVATE_sendUnwatchRequest(n,e),n.N_.size===0&&(s.r_()?s.o_():__PRIVATE_canUseNetwork(n)&&n.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}__PRIVATE_ensureWatchStream(t).A_(e)}function __PRIVATE_sendUnwatchRequest(t,e){t.Q_.xe(e),__PRIVATE_ensureWatchStream(t).R_(e)}function __PRIVATE_startWatchStream(t){t.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(t).start(),t.q_.v_()}function __PRIVATE_shouldStartWatchStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWatchStream(t).n_()&&t.N_.size>0}function __PRIVATE_canUseNetwork(t){return __PRIVATE_debugCast(t).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(t){t.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(t){t.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(t){t.N_.forEach(((e,n)=>{__PRIVATE_sendWatchRequest(t,e)}))}async function __PRIVATE_onWatchStreamClose(t,e){__PRIVATE_cleanUpWatchStreamState(t),__PRIVATE_shouldStartWatchStream(t)?(t.q_.M_(e),__PRIVATE_startWatchStream(t)):t.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(t,e,n){if(t.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const c of o.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(s){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await __PRIVATE_disableNetworkUntilRecovery(t,s)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?t.Q_.He(e):t.Q_.We(e),!n.isEqual(SnapshotVersion.min()))try{const s=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore);n.compareTo(s)>=0&&await(function(o,a){const c=o.Q_.rt(a);return c.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.N_.get(f);p&&o.N_.set(f,p.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,f)=>{const p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(ByteString.EMPTY_BYTE_STRING,p.snapshotVersion)),__PRIVATE_sendUnwatchRequest(o,u);const m=new TargetData(p.target,u,f,p.sequenceNumber);__PRIVATE_sendWatchRequest(o,m)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(s){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",s),await __PRIVATE_disableNetworkUntilRecovery(t,s)}}async function __PRIVATE_disableNetworkUntilRecovery(t,e,n){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;t.L_.add(1),await __PRIVATE_disableNetworkInternal(t),t.q_.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await __PRIVATE_enableNetworkInternal(t)}))}function __PRIVATE_executeWithRecovery(t,e){return e().catch((n=>__PRIVATE_disableNetworkUntilRecovery(t,n,e)))}async function __PRIVATE_fillWritePipeline(t){const e=__PRIVATE_debugCast(t),n=__PRIVATE_ensureWriteStream(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const i=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,s);if(i===null){e.O_.length===0&&n.o_();break}s=i.batchId,__PRIVATE_addToWritePipeline(e,i)}catch(i){await __PRIVATE_disableNetworkUntilRecovery(e,i)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(t){return __PRIVATE_canUseNetwork(t)&&t.O_.length<10}function __PRIVATE_addToWritePipeline(t,e){t.O_.push(e);const n=__PRIVATE_ensureWriteStream(t);n.r_()&&n.V_&&n.m_(e.mutations)}function __PRIVATE_shouldStartWriteStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWriteStream(t).n_()&&t.O_.length>0}function __PRIVATE_startWriteStream(t){__PRIVATE_ensureWriteStream(t).start()}async function __PRIVATE_onWriteStreamOpen(t){__PRIVATE_ensureWriteStream(t).p_()}async function __PRIVATE_onWriteHandshakeComplete(t){const e=__PRIVATE_ensureWriteStream(t);for(const n of t.O_)e.m_(n.mutations)}async function __PRIVATE_onMutationResult(t,e,n){const s=t.O_.shift(),i=MutationBatchResult.from(s,e,n);await __PRIVATE_executeWithRecovery(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await __PRIVATE_fillWritePipeline(t)}async function __PRIVATE_onWriteStreamClose(t,e){e&&__PRIVATE_ensureWriteStream(t).V_&&await(async function(s,i){if((function(a){return __PRIVATE_isPermanentError(a)&&a!==D.ABORTED})(i.code)){const o=s.O_.shift();__PRIVATE_ensureWriteStream(s).s_(),await __PRIVATE_executeWithRecovery(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,i))),await __PRIVATE_fillWritePipeline(s)}})(t,e),__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}async function __PRIVATE_remoteStoreHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const s=__PRIVATE_canUseNetwork(n);n.L_.add(3),await __PRIVATE_disableNetworkInternal(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await __PRIVATE_enableNetworkInternal(n)}async function __PRIVATE_remoteStoreApplyPrimaryState(t,e){const n=__PRIVATE_debugCast(t);e?(n.L_.delete(2),await __PRIVATE_enableNetworkInternal(n)):e||(n.L_.add(2),await __PRIVATE_disableNetworkInternal(n),n.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(t){return t.K_||(t.K_=(function(n,s,i){const o=__PRIVATE_debugCast(n);return o.w_(),new __PRIVATE_PersistentListenStream(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,t),Ro:__PRIVATE_onWatchStreamOpen.bind(null,t),mo:__PRIVATE_onWatchStreamClose.bind(null,t),d_:__PRIVATE_onWatchStreamChange.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),__PRIVATE_shouldStartWatchStream(t)?__PRIVATE_startWatchStream(t):t.q_.set("Unknown")):(await t.K_.stop(),__PRIVATE_cleanUpWatchStreamState(t))}))),t.K_}function __PRIVATE_ensureWriteStream(t){return t.U_||(t.U_=(function(n,s,i){const o=__PRIVATE_debugCast(n);return o.w_(),new __PRIVATE_PersistentWriteStream(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,t),mo:__PRIVATE_onWriteStreamClose.bind(null,t),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,t),g_:__PRIVATE_onMutationResult.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await __PRIVATE_fillWritePipeline(t)):(await t.U_.stop(),t.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,n,s,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=o,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,o){const a=Date.now()+s,c=new DelayedOperation(e,n,a,i,o);return c.start(s),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(t,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${t}`),__PRIVATE_isIndexedDbTransactionError(t))return new FirestoreError(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(n,s)=>e(n,s)||DocumentKey.comparator(n.key,s.key):(n,s)=>DocumentKey.comparator(n.key,s.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=s.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new DocumentSet;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ViewSnapshot{constructor(e,n,s,i,o,a,c,u,f){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,s,i,o){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new ViewSnapshot(e,n,DocumentSet.emptySet(n),a,s,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const i=__PRIVATE_debugCast(n),o=i.queries;i.queries=__PRIVATE_newQueriesObjectMap(),o.forEach(((a,c)=>{for(const u of c.j_)u.onError(s)}))})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap((t=>__PRIVATE_canonifyQuery(t)),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(t,e){const n=__PRIVATE_debugCast(t);let s=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(s=2):(o=new __PRIVATE_QueryListenersInfo,s=e.J_()?0:1);try{switch(s){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=__PRIVATE_wrapInUserErrorIfRecoverable(a,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}async function __PRIVATE_eventManagerUnlisten(t,e){const n=__PRIVATE_debugCast(t),s=e.query;let i=3;const o=n.queries.get(s);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function __PRIVATE_eventManagerOnWatchChange(t,e){const n=__PRIVATE_debugCast(t);let s=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const c of a.j_)c.X_(i)&&(s=!0);a.z_=i}}s&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(t,e,n){const s=__PRIVATE_debugCast(t),i=s.queries.get(e);if(i)for(const o of i.j_)o.onError(n);s.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(t){t.Y_.forEach((e=>{e.next()}))}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new __PRIVATE_DocumentChangeSet,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const x=i.get(p),E=__PRIVATE_queryMatches(this.query,m)?m:null,T=!!x&&this.mutatedKeys.has(x.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;x&&E?x.data.isEqual(E.data)?T!==_&&(s.track({type:3,doc:E}),k=!0):this.ga(x,E)||(s.track({type:2,doc:E}),k=!0,(u&&this.Aa(E,u)>0||f&&this.Aa(E,f)<0)&&(c=!0)):!x&&E?(s.track({type:0,doc:E}),k=!0):x&&!E&&(s.track({type:1,doc:x}),k=!0,(u||f)&&(c=!0)),k&&(E?(a=a.add(E),o=_?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),s.track({type:1,doc:p})}return{Ra:a,fa:s,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((p,m)=>(function(E,T){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return _(E)-_(T)})(p.type,m.type)||this.Aa(p.doc,m.doc))),this.pa(s),i=i!=null&&i;const c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,f=u!==this.Ea;return this.Ea=u,a.length!==0||f?{snapshot:new ViewSnapshot(this.query,e.Ra,o,a,e.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const n=[];return e.forEach((s=>{this.da.has(s)||n.push(new __PRIVATE_RemovedLimboDocument(s))})),this.da.forEach((s=>{e.has(s)||n.push(new __PRIVATE_AddedLimboDocument(s))})),n}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,n,s,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ObjectMap((c=>__PRIVATE_canonifyQuery(c)),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(t,e,n=!0){const s=__PRIVATE_ensureWatchCallbacks(t);let i;const o=s.Fa.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await __PRIVATE_allocateTargetAndMaybeListen(s,e,n,!0),i}async function __PRIVATE_triggerRemoteStoreListen(t,e){const n=__PRIVATE_ensureWatchCallbacks(t);await __PRIVATE_allocateTargetAndMaybeListen(n,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(t,e,n,s){const i=await __PRIVATE_localStoreAllocateTarget(t.localStore,__PRIVATE_queryToTarget(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let c;return s&&(c=await __PRIVATE_initializeViewAndComputeSnapshot(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&__PRIVATE_remoteStoreListen(t.remoteStore,i),c}async function __PRIVATE_initializeViewAndComputeSnapshot(t,e,n,s,i){t.Ka=(m,x,E)=>(async function(_,k,I,P){let A=k.view.ma(I);A.ns&&(A=await __PRIVATE_localStoreExecuteQuery(_.localStore,k.query,!1).then((({documents:V})=>k.view.ma(V,A))));const j=P&&P.targetChanges.get(k.targetId),O=P&&P.targetMismatches.get(k.targetId)!=null,$=k.view.applyChanges(A,_.isPrimaryClient,j,O);return __PRIVATE_updateTrackedLimbos(_,k.targetId,$.wa),$.snapshot})(t,m,x,E);const o=await __PRIVATE_localStoreExecuteQuery(t.localStore,e,!0),a=new __PRIVATE_View(e,o.Ts),c=a.ma(o.documents),u=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),f=a.applyChanges(c,t.isPrimaryClient,u);__PRIVATE_updateTrackedLimbos(t,n,f.wa);const p=new __PRIVATE_QueryView(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function __PRIVATE_syncEngineUnlisten(t,e,n){const s=__PRIVATE_debugCast(t),i=s.Fa.get(e),o=s.Ma.get(i.targetId);if(o.length>1)return s.Ma.set(i.targetId,o.filter((a=>!__PRIVATE_queryEquals(a,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await __PRIVATE_localStoreReleaseTarget(s.localStore,i.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(i.targetId),n&&__PRIVATE_remoteStoreUnlisten(s.remoteStore,i.targetId),__PRIVATE_removeAndCleanupTarget(s,i.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(s,i.targetId),await __PRIVATE_localStoreReleaseTarget(s.localStore,i.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(t,e){const n=__PRIVATE_debugCast(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,s.targetId))}async function __PRIVATE_syncEngineWrite(t,e,n){const s=__PRIVATE_syncEngineEnsureWriteCallbacks(t);try{const i=await(function(a,c){const u=__PRIVATE_debugCast(a),f=Timestamp.now(),p=c.reduce(((E,T)=>E.add(T.key)),__PRIVATE_documentKeySet());let m,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let T=__PRIVATE_mutableDocumentMap(),_=__PRIVATE_documentKeySet();return u.cs.getEntries(E,p).next((k=>{T=k,T.forEach(((I,P)=>{P.isValidDocument()||(_=_.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,T))).next((k=>{m=k;const I=[];for(const P of c){const A=__PRIVATE_mutationExtractBaseValue(P,m.get(P.key).overlayedDocument);A!=null&&I.push(new __PRIVATE_PatchMutation(P.key,A,__PRIVATE_extractFieldMask(A.value.mapValue),Precondition.exists(!0)))}return u.mutationQueue.addMutationBatch(E,f,I,c)})).next((k=>{x=k;const I=k.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(E,k.batchId,I)}))})).then((()=>({batchId:x.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let f=a.Ba[a.currentUser.toKey()];f||(f=new SortedMap(__PRIVATE_primitiveComparator)),f=f.insert(c,u),a.Ba[a.currentUser.toKey()]=f})(s,i.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,i.changes),await __PRIVATE_fillWritePipeline(s.remoteStore)}catch(i){const o=__PRIVATE_wrapInUserErrorIfRecoverable(i,"Failed to persist write");n.reject(o)}}async function __PRIVATE_syncEngineApplyRemoteEvent(t,e){const n=__PRIVATE_debugCast(t);try{const s=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Na.get(o);a&&(__PRIVATE_hardAssert(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?__PRIVATE_hardAssert(a.va):i.removedDocuments.size>0&&(__PRIVATE_hardAssert(a.va),a.va=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,s,e)}catch(s){await __PRIVATE_ignoreIfPrimaryLeaseLoss(s)}}function __PRIVATE_syncEngineApplyOnlineStateChange(t,e,n){const s=__PRIVATE_debugCast(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Fa.forEach(((o,a)=>{const c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){const u=__PRIVATE_debugCast(a);u.onlineState=c;let f=!1;u.queries.forEach(((p,m)=>{for(const x of m.j_)x.Z_(c)&&(f=!0)})),f&&__PRIVATE_raiseSnapshotsInSyncEvent(u)})(s.eventManager,e),i.length&&s.Ca.d_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(t,e,n){const s=__PRIVATE_debugCast(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Na.get(e),o=i&&i.key;if(o){let a=new SortedMap(DocumentKey.comparator);a=a.insert(o,MutableDocument.newNoDocument(o,SnapshotVersion.min()));const c=__PRIVATE_documentKeySet().add(o),u=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),a,c);await __PRIVATE_syncEngineApplyRemoteEvent(s,u),s.Oa=s.Oa.remove(o),s.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(s)}else await __PRIVATE_localStoreReleaseTarget(s.localStore,e,!1).then((()=>__PRIVATE_removeAndCleanupTarget(s,e,n))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(t,e){const n=__PRIVATE_debugCast(t),s=e.batch.batchId;try{const i=await __PRIVATE_localStoreAcknowledgeBatch(n.localStore,e);__PRIVATE_processUserCallback(n,s,null),__PRIVATE_triggerPendingWritesCallbacks(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,i)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}async function __PRIVATE_syncEngineRejectFailedWrite(t,e,n){const s=__PRIVATE_debugCast(t);try{const i=await(function(a,c){const u=__PRIVATE_debugCast(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next((m=>(__PRIVATE_hardAssert(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>u.localDocuments.getDocuments(f,p)))}))})(s.localStore,e);__PRIVATE_processUserCallback(s,e,n),__PRIVATE_triggerPendingWritesCallbacks(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,i)}catch(i){await __PRIVATE_ignoreIfPrimaryLeaseLoss(i)}}function __PRIVATE_triggerPendingWritesCallbacks(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function __PRIVATE_processUserCallback(t,e,n){const s=__PRIVATE_debugCast(t);let i=s.Ba[s.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),s.Ba[s.currentUser.toKey()]=i}}function __PRIVATE_removeAndCleanupTarget(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((s=>{t.La.containsKey(s)||__PRIVATE_removeLimboTarget(t,s)}))}function __PRIVATE_removeLimboTarget(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(__PRIVATE_remoteStoreUnlisten(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_updateTrackedLimbos(t,e,n){for(const s of n)s instanceof __PRIVATE_AddedLimboDocument?(t.La.addReference(s.key,e),__PRIVATE_trackLimboChange(t,s)):s instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||__PRIVATE_removeLimboTarget(t,s.key)):fail()}function __PRIVATE_trackLimboChange(t,e){const n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+n),t.xa.add(s),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_pumpEnqueuedLimboResolutions(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new DocumentKey(ResourcePath.fromString(e)),s=t.qa.next();t.Na.set(s,new LimboResolution(n)),t.Oa=t.Oa.insert(n,s),__PRIVATE_remoteStoreListen(t.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),s,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,e,n){const s=__PRIVATE_debugCast(t),i=[],o=[],a=[];s.Fa.isEmpty()||(s.Fa.forEach(((c,u)=>{a.push(s.Ka(u,e,n).then((f=>{var p;if((f||n)&&s.isPrimaryClient){const m=f?!f.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){i.push(f);const m=__PRIVATE_LocalViewChanges.Wi(u.targetId,f);o.push(m)}})))})),await Promise.all(a),s.Ca.d_(i),await(async function(u,f){const p=__PRIVATE_debugCast(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>PersistencePromise.forEach(f,(x=>PersistencePromise.forEach(x.$i,(E=>p.persistence.referenceDelegate.addReference(m,x.targetId,E))).next((()=>PersistencePromise.forEach(x.Ui,(E=>p.persistence.referenceDelegate.removeReference(m,x.targetId,E)))))))))}catch(m){if(!__PRIVATE_isIndexedDbTransactionError(m))throw m;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const x=m.targetId;if(!m.fromCache){const E=p.os.get(x),T=E.snapshotVersion,_=E.withLastLimboFreeSnapshotVersion(T);p.os=p.os.insert(x,_)}}})(s.localStore,o))}async function __PRIVATE_syncEngineHandleCredentialChange(t,e){const n=__PRIVATE_debugCast(t);if(!n.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const s=await __PRIVATE_localStoreHandleUserChange(n.localStore,e);n.currentUser=e,(function(o,a){o.ka.forEach((c=>{c.forEach((u=>{u.reject(new FirestoreError(D.CANCELLED,a))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,s.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(t,e){const n=__PRIVATE_debugCast(t),s=n.Na.get(e);if(s&&s.va)return __PRIVATE_documentKeySet().add(s.key);{let i=__PRIVATE_documentKeySet();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const c=n.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function __PRIVATE_ensureWatchCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new __PRIVATE_EventManagerImpl})()}createDatastore(e){const n=__PRIVATE_newSerializer(e.databaseInfo.databaseId),s=(function(o){return new __PRIVATE_WebChannelConnection(o)})(e.databaseInfo);return(function(o,a,c,u){return new __PRIVATE_DatastoreImpl(o,a,c,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,i,o,a,c){return new __PRIVATE_RemoteStoreImpl(s,i,o,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,n,0)),(function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor})())}createSyncEngine(e,n){return(function(i,o,a,c,u,f,p){const m=new __PRIVATE_SyncEngineImpl(i,o,a,c,u,f);return p&&(m.Qa=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=__PRIVATE_debugCast(i);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await __PRIVATE_disableNetworkInternal(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,n,s,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=User$1.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async a=>{__PRIVATE_logDebug("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(s,(a=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=__PRIVATE_wrapInUserErrorIfRecoverable(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function __PRIVATE_setOfflineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async i=>{s.isEqual(i)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,i),s=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents(t);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,i)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,i))),t._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===D.FAILED_PRECONDITION||i.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_MemoryOfflineComponentProvider);return t._offlineComponents}async function __PRIVATE_ensureOnlineComponents(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,t._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,new OnlineComponentProvider))),t._onlineComponents}function __PRIVATE_getSyncEngine(t){return __PRIVATE_ensureOnlineComponents(t).then((e=>e.syncEngine))}async function __PRIVATE_getEventManager(t){const e=await __PRIVATE_ensureOnlineComponents(t),n=e.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),n}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(t,e,n={}){const s=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,c,u,f){const p=new __PRIVATE_AsyncObserver({next:x=>{p.Za(),a.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(o,m)));const E=x.docs.has(c);!E&&x.fromCache?f.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&u&&u.source==="server"?f.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(c.path),p,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(o,m)})(await __PRIVATE_getEventManager(t),t.asyncQueue,e,n,s))),s.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,e,n={}){const s=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,c,u,f){const p=new __PRIVATE_AsyncObserver({next:x=>{p.Za(),a.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(o,m))),x.fromCache&&u.source==="server"?f.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),m=new __PRIVATE_QueryListener(c,p,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(o,m)})(await __PRIVATE_getEventManager(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(t,e,n){if(!n)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(t,e,n,s){if(e===!0&&s===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __PRIVATE_validateDocumentPath(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_validateCollectionPath(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_valueDescription(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fail()}function __PRIVATE_cast(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(t);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,i){return s.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(s.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=we.get(n);s&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(n),s.terminate())})(this),Promise.resolve()}}function connectFirestoreEmulator(t,e,n,s={}){var i;const o=(t=__PRIVATE_cast(t,Firestore$1))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),s.mockUserToken){let c,u;if(typeof s.mockUserToken=="string")c=s.mockUserToken,u=User$1.MOCK_USER;else{c=createMockUserToken(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new User$1(f)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,n,s){super(e,n,__PRIVATE_newQueryForPath(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(t,e,...n){if(t=getModularInstance(t),__PRIVATE_validateNonEmptyArgument("collection","path",e),t instanceof Firestore$1){const s=ResourcePath.fromString(e,...n);return __PRIVATE_validateCollectionPath(s),new CollectionReference(t,null,s)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateCollectionPath(s),new CollectionReference(t.firestore,null,s)}}function doc(t,e,...n){if(t=getModularInstance(t),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),t instanceof Firestore$1){const s=ResourcePath.fromString(e,...n);return __PRIVATE_validateDocumentPath(s),new DocumentReference(t,null,new DocumentKey(s))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ResourcePath.fromString(e,...n));return __PRIVATE_validateDocumentPath(s),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const s=getDocument();s&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=getDocument();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=getDocument();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new __PRIVATE_Deferred;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const i=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(s);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",i),s})).then((s=>(this.du=!1,s))))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=DelayedOperation.createAndSchedule(this,e,n,s,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function __PRIVATE_isPartialObserver(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of s)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Firestore extends Firestore$1{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(t,e){const n=typeof t=="object"?t:getApp(),s=typeof t=="string"?t:"(default)",i=_getProvider(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const o=getDefaultEmulatorHostnameAndPort("firestore");o&&connectFirestoreEmulator(i,...o)}return i}function ensureFirestoreConfigured(t){if(t._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||__PRIVATE_configureFirestore(t),t._firestoreClient}function __PRIVATE_configureFirestore(t){var e,n,s;const i=t._freezeSettings(),o=(function(c,u,f,p){return new DatabaseInfo(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){const u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(n){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,i){if(s.length!==i.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=/^__.*__$/;class ParsedSetData{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,n,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function __PRIVATE_isWrite(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,n,s,i,o,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.Ou(e),i}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:s,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||__PRIVATE_newSerializer(e)}Qu(e,n,s,i=!1){return new __PRIVATE_ParseContextImpl({Cu:e,methodName:n,qu:s,path:FieldPath$1.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(t){const e=t._freezeSettings(),n=__PRIVATE_newSerializer(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(t,e,n,s,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);__PRIVATE_validatePlainObject("Data must be an object, but it was:",a,s);const c=__PRIVATE_parseObject(s,a);let u,f;if(o.merge)u=new FieldMask(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const x=__PRIVATE_fieldPathFromArgument$1(e,m,n);if(!a.contains(x))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(p,x)||p.push(x)}u=new FieldMask(p),f=a.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=a.fieldTransforms;return new ParsedSetData(new ObjectValue(c),u,f)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(e){return new FieldTransform(e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(t,e,n,s){const i=t.Qu(1,e,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",i,s);const o=[],a=ObjectValue.empty();forEach(s,((u,f)=>{const p=__PRIVATE_fieldPathFromDotSeparatedString(e,u,n);f=getModularInstance(f);const m=i.Nu(p);if(f instanceof __PRIVATE_DeleteFieldValueImpl)o.push(p);else{const x=__PRIVATE_parseData(f,m);x!=null&&(o.push(p),a.set(p,x))}}));const c=new FieldMask(o);return new ParsedUpdateData(a,c,i.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(t,e,n,s,i,o){const a=t.Qu(1,e,n),c=[__PRIVATE_fieldPathFromArgument$1(e,s,n)],u=[i];if(o.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(__PRIVATE_fieldPathFromArgument$1(e,o[x])),u.push(o[x+1]);const f=[],p=ObjectValue.empty();for(let x=c.length-1;x>=0;--x)if(!__PRIVATE_fieldMaskContains(f,c[x])){const E=c[x];let T=u[x];T=getModularInstance(T);const _=a.Nu(E);if(T instanceof __PRIVATE_DeleteFieldValueImpl)f.push(E);else{const k=__PRIVATE_parseData(T,_);k!=null&&(f.push(E),p.set(E,k))}}const m=new FieldMask(f);return new ParsedUpdateData(p,m,a.fieldTransforms)}function __PRIVATE_parseQueryValue(t,e,n,s=!1){return __PRIVATE_parseData(n,t.Qu(s?4:3,e))}function __PRIVATE_parseData(t,e){if(__PRIVATE_looksLikeJsonObject(t=getModularInstance(t)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,t),__PRIVATE_parseObject(t,e);if(t instanceof FieldValue)return(function(s,i){if(!__PRIVATE_isWrite(i.Cu))throw i.Bu(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,i){const o=[];let a=0;for(const c of s){let u=__PRIVATE_parseData(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}})(t,e)}return(function(s,i){if((s=getModularInstance(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return toNumber(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Timestamp.fromDate(s);return{timestampValue:toTimestamp(i.serializer,o)}}if(s instanceof Timestamp){const o=new Timestamp(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:toTimestamp(i.serializer,o)}}if(s instanceof GeoPoint)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(i.serializer,s._byteString)};if(s instanceof DocumentReference){const o=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__PRIVATE_toResourceName(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof VectorValue)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(c.serializer,u)}))}}}}}})(s,i);throw i.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(s)}`)})(t,e)}function __PRIVATE_parseObject(t,e){const n={};return isEmpty(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(t,((s,i)=>{const o=__PRIVATE_parseData(i,e.Mu(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue||t instanceof VectorValue)}function __PRIVATE_validatePlainObject(t,e,n){if(!__PRIVATE_looksLikeJsonObject(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const s=__PRIVATE_valueDescription(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function __PRIVATE_fieldPathFromArgument$1(t,e,n){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(t,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",t,!1,void 0,n)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(t,e,n){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function __PRIVATE_createError(t,e,n,s,i){const o=s&&!s.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${s}`),a&&(u+=` in document ${i}`),u+=")"),new FirestoreError(D.INVALID_ARGUMENT,c+t+u)}function __PRIVATE_fieldMaskContains(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,n,s,i,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(t,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(t,e,...n){let s=[];e instanceof AppliableConstraint&&s.push(e),s=s.concat(n),(function(o){const a=o.filter((u=>u instanceof QueryCompositeFilterConstraint)).length,c=o.filter((u=>u instanceof QueryFieldFilterConstraint)).length;if(a>1||a>0&&c>0)throw new FirestoreError(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const i of s)t=i._apply(t);return t}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new QueryFieldFilterConstraint(e,n,s)}_apply(e){const n=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,n),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,n))}_parse(e){const n=__PRIVATE_newUserDataReader(e.firestore);return(function(o,a,c,u,f,p,m){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(m,p);const E=[];for(const T of m)E.push(__PRIVATE_parseDocumentIdValue(u,o,T));x={arrayValue:{values:E}}}else x=__PRIVATE_parseDocumentIdValue(u,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(m,p),x=__PRIVATE_parseQueryValue(c,a,m,p==="in"||p==="not-in");return FieldFilter.create(f,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function where(t,e,n){const s=e,i=__PRIVATE_fieldPathFromArgument("where",t);return QueryFieldFilterConstraint._create(i,s,n)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QueryCompositeFilterConstraint(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:CompositeFilter.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const c=o.getFlattenedFilters();for(const u of c)__PRIVATE_validateNewFieldFilter(a,u),a=__PRIVATE_queryWithAddedFilter(a,u)})(e._query,n),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function or(...t){return t.forEach((e=>__PRIVATE_validateQueryFilterConstraint("or",e))),QueryCompositeFilterConstraint._create("or",t)}function and(...t){return t.forEach((e=>__PRIVATE_validateQueryFilterConstraint("and",e))),QueryCompositeFilterConstraint._create("and",t)}class QueryOrderByConstraint extends QueryConstraint{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QueryOrderByConstraint(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(o,a)})(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,(function(i,o){const a=i.explicitOrderBy.concat([o]);return new __PRIVATE_QueryImpl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function orderBy(t,e="asc"){const n=e,s=__PRIVATE_fieldPathFromArgument("orderBy",t);return QueryOrderByConstraint._create(s,n)}function __PRIVATE_parseDocumentIdValue(t,e,n){if(typeof(n=getModularInstance(n))=="string"){if(n==="")throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&n.indexOf("/")!==-1)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(s))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return __PRIVATE_refValue(t,new DocumentKey(s))}if(n instanceof DocumentReference)return __PRIVATE_refValue(t,n._key);throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(n)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(t,e){if(!Array.isArray(t)||t.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(t,e){const n=(function(i,o){for(const a of i)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function __PRIVATE_validateQueryFilterConstraint(t,e){if(!(e instanceof QueryFieldFilterConstraint||e instanceof QueryCompositeFilterConstraint))throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class AbstractUserDataWriter{convertValue(e,n="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return forEach(e,((i,o)=>{s[i]=this.convertValue(o,n)})),s}convertVectorValue(e){var n,s,i;const o=(i=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map((a=>__PRIVATE_normalizeNumber(a.doubleValue)));return new VectorValue(o)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=__PRIVATE_getPreviousValue(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const n=__PRIVATE_normalizeTimestamp(e);return new Timestamp(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(s));const i=new DatabaseId(s.get(1),s.get(3)),o=new DocumentKey(s.popFirst(5));return i.isEqual(n)||__PRIVATE_logError(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,n,s,i,o,a){super(e,n,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new SnapshotMetadata(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,s.key,s,new SnapshotMetadata(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{const u=new QueryDocumentSnapshot(i._firestore,i._userDataWriter,c.doc.key,c.doc,new SnapshotMetadata(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const u=new QueryDocumentSnapshot(i._firestore,i._userDataWriter,c.doc.key,c.doc,new SnapshotMetadata(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:__PRIVATE_resultChangeType(c.type),doc:u,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function __PRIVATE_resultChangeType(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(t){t=__PRIVATE_cast(t,DocumentReference);const e=__PRIVATE_cast(t.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),t._key).then((n=>__PRIVATE_convertToDocSnapshot(e,t,n)))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,n)}}function getDocs(t){t=__PRIVATE_cast(t,Query);const e=__PRIVATE_cast(t.firestore,Firestore),n=ensureFirestoreConfigured(e),s=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,t._query).then((i=>new QuerySnapshot(e,s,t,i)))}function setDoc(t,e,n){t=__PRIVATE_cast(t,DocumentReference);const s=__PRIVATE_cast(t.firestore,Firestore),i=__PRIVATE_applyFirestoreDataConverter(t.converter,e,n);return executeWrite(s,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Precondition.none())])}function updateDoc(t,e,n,...s){t=__PRIVATE_cast(t,DocumentReference);const i=__PRIVATE_cast(t.firestore,Firestore),o=__PRIVATE_newUserDataReader(i);let a;return a=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(o,"updateDoc",t._key,e,n,s):__PRIVATE_parseUpdateData(o,"updateDoc",t._key,e),executeWrite(i,[a.toMutation(t._key,Precondition.exists(!0))])}function deleteDoc(t){return executeWrite(__PRIVATE_cast(t.firestore,Firestore),[new __PRIVATE_DeleteMutation(t._key,Precondition.none())])}function addDoc(t,e){const n=__PRIVATE_cast(t.firestore,Firestore),s=doc(t),i=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Precondition.exists(!1))]).then((()=>s))}function onSnapshot(t,...e){var n,s,i;t=getModularInstance(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||__PRIVATE_isPartialObserver(e[a])||(o=e[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(__PRIVATE_isPartialObserver(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(s=m.error)===null||s===void 0?void 0:s.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,f,p;if(t instanceof DocumentReference)f=__PRIVATE_cast(t.firestore,Firestore),p=__PRIVATE_newQueryForPath(t._key.path),u={next:m=>{e[a]&&e[a](__PRIVATE_convertToDocSnapshot(f,t,m))},error:e[a+1],complete:e[a+2]};else{const m=__PRIVATE_cast(t,Query);f=__PRIVATE_cast(m.firestore,Firestore),p=m._query;const x=new __PRIVATE_ExpUserDataWriter(f);u={next:E=>{e[a]&&e[a](new QuerySnapshot(f,x,m,E))},error:e[a+1],complete:e[a+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query)}return(function(x,E,T,_){const k=new __PRIVATE_AsyncObserver(_),I=new __PRIVATE_QueryListener(E,k,T);return x.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(x),I))),()=>{k.Za(),x.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(x),I)))}})(ensureFirestoreConfigured(f),p,c,u)}function executeWrite(t,e){return(function(s,i){const o=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(s),i,o))),o.promise})(ensureFirestoreConfigured(t),e)}function __PRIVATE_convertToDocSnapshot(t,e,n){const s=n.docs.get(e._key),i=new __PRIVATE_ExpUserDataWriter(t);return new DocumentSnapshot(t,i,e._key,s,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WriteBatch{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(e)}set(e,n,s){this._verifyNotCommitted();const i=__PRIVATE_validateReference(e,this._firestore),o=__PRIVATE_applyFirestoreDataConverter(i.converter,n,s),a=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,s);return this._mutations.push(a.toMutation(i._key,Precondition.none())),this}update(e,n,s,...i){this._verifyNotCommitted();const o=__PRIVATE_validateReference(e,this._firestore);let a;return a=typeof(n=getModularInstance(n))=="string"||n instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",o._key,n,s,i):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,Precondition.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=__PRIVATE_validateReference(e,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(n._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference(t,e){if((t=getModularInstance(t)).firestore!==e)throw new FirestoreError(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deleteField(){return new __PRIVATE_DeleteFieldValueImpl("deleteField")}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeBatch(t){return ensureFirestoreConfigured(t=__PRIVATE_cast(t,Firestore)),new WriteBatch(t,(e=>executeWrite(t,e)))}(function(e,n=!0){(function(i){S=i})(SDK_VERSION),_registerComponent(new Component("firestore",((s,{instanceIdentifier:i,options:o})=>{const a=s.getProvider("app").getImmediate(),c=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(s.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(s.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(f.options.projectId,p)})(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),registerVersion(w$1,"4.7.3",e),registerVersion(w$1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3,DEFAULT_MIN_SLEEP_TIME_MILLIS=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,n,s=0){super(prependCode(e),`Firebase Storage: ${n} (${prependCode(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(t){return"storage/"+t}function unknown(){const t="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,t)}function objectNotFound(t){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function quotaExceeded(t){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,t)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(t){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(t){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+t+"'.")}function invalidDefaultBucket(t){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError(StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(t){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(t){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,t)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(t){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(t,e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function internalError(t){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Location.makeFromUrl(e,n)}catch{return new Location(e,"")}if(s.path==="")return s;throw invalidDefaultBucket(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${p}/b/${i}/o${x}`,"i"),T={bucket:1,path:3},_=n===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",I=new RegExp(`^https?://${_}/${i}/${k}`,"i"),A=[{regex:c,indices:u,postModify:o},{regex:E,indices:T,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<A.length;j++){const O=A[j],$=O.regex.exec(e);if($){const V=$[O.indices.bucket];let L=$[O.indices.path];L||(L=""),s=new Location(V,L),O.postModify(s);break}}if(s==null)throw invalidUrl(e);return s}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(t,e,n){let s=1,i=null,o=null,a=!1,c=0;function u(){return c===2}let f=!1;function p(...k){f||(f=!0,e.apply(null,k))}function m(k){i=setTimeout(()=>{i=null,t(E,u())},k)}function x(){o&&clearTimeout(o)}function E(k,...I){if(f){x();return}if(k){x(),p.call(null,k,...I);return}if(u()||a){x(),p.call(null,k,...I);return}s<64&&(s*=2);let A;c===1?(c=2,A=0):A=(s+Math.random())*1e3,m(A)}let T=!1;function _(k){T||(T=!0,x(),!f&&(i!==null?(k||(c=2),clearTimeout(i),m(0)):k||(c=1)))}return m(0),o=setTimeout(()=>{a=!0,_(!0)},n),_}function stop(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(t){return t!==void 0}function isFunction$1(t){return typeof t=="function"}function isNonArrayObject(t){return typeof t=="object"&&!Array.isArray(t)}function isString(t){return typeof t=="string"||t instanceof String}function isNativeBlob(t){return isNativeBlobDefined()&&t instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(t,e,n,s){if(s<e)throw invalidArgument(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw invalidArgument(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function makeQueryString(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var ErrorCode;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,n,s,i,o,a,c,u,f,p,m,x=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new RequestEndStatus(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===ErrorCode.NO_ERROR,u=o.getStatus();if(!c||isRetryStatusCode(u,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===ErrorCode.ABORT;s(!1,new RequestEndStatus(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;s(!0,new RequestEndStatus(f,o))})},n=(s,i)=>{const o=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());isJustDef(u)?o(u):o()}catch(u){a(u)}else if(c!==null){const u=unknown();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(i.canceled){const u=this.appDelete_?appDeleted():canceled();a(u)}else{const u=retryLimitExceeded();a(u)}};this.canceled_?n(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function addAuthHeader_(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function addVersionHeader_(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function addGmpidHeader_(t,e){e&&(t["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function makeRequest(t,e,n,s,i,o,a=!0){const c=makeQueryString(t.urlParams),u=t.url+c,f=Object.assign({},t.headers);return addGmpidHeader_(f,e),addAuthHeader_(f,n),addVersionHeader_(f,o),addAppCheckHeader_(f,s),new NetworkRequest(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...t){const e=getBlobBuilder();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(isNativeBlobDefined())return new Blob(t);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(t){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(e,n){this.data=e,this.contentType=n||null}}function dataFromString(t,e){switch(t){case StringFormat.RAW:return new StringData(utf8Bytes_(e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(t,e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(e),dataURLContentType_(e))}throw unknown()}function utf8Bytes_(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=s,a=t.charCodeAt(++n);s=65536|(o&1023)<<10|a&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function percentEncodedBytes_(t){let e;try{e=decodeURIComponent(t)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(e)}function base64Bytes_(t,e){switch(t){case StringFormat.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw invalidFormat(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw invalidFormat(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=decodeBase64(e)}catch(i){throw i.message.includes("polyfill")?i:invalidFormat(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=endsWith(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function dataURLBytes_(t){const e=new DataURLParts(t);return e.base64?base64Bytes_(StringFormat.BASE64,e.rest):percentEncodedBytes_(e.rest)}function dataURLContentType_(t){return new DataURLParts(t).contentType}function endsWith(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(e,n){let s=0,i="";isNativeBlob(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(isNativeBlob(this.data_)){const s=this.data_,i=sliceBlob(s,e,n);return i===null?null:new FbsBlob(i)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new FbsBlob(s,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const n=e.map(s=>s instanceof FbsBlob?s.data_:s);return new FbsBlob(getBlob$1.apply(null,n))}else{const n=e.map(a=>isString(a)?dataFromString(StringFormat.RAW,a).data:a.data_);let s=0;n.forEach(a=>{s+=a.byteLength});const i=new Uint8Array(s);let o=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[o++]=a[c]}),new FbsBlob(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(t){let e;try{e=JSON.parse(t)}catch{return null}return isNonArrayObject(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function child(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function lastComponent(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(t,e){return e}class Mapping{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||noXform_}}let mappings_=null;function xformPath(t){return!isString(t)||t.length<2?t:lastComponent(t)}function getMappings(){if(mappings_)return mappings_;const t=[];t.push(new Mapping("bucket")),t.push(new Mapping("generation")),t.push(new Mapping("metageneration")),t.push(new Mapping("name","fullPath",!0));function e(o,a){return xformPath(a)}const n=new Mapping("name");n.xform=e,t.push(n);function s(o,a){return a!==void 0?Number(a):a}const i=new Mapping("size");return i.xform=s,t.push(i),t.push(new Mapping("timeCreated")),t.push(new Mapping("updated")),t.push(new Mapping("md5Hash",null,!0)),t.push(new Mapping("cacheControl",null,!0)),t.push(new Mapping("contentDisposition",null,!0)),t.push(new Mapping("contentEncoding",null,!0)),t.push(new Mapping("contentLanguage",null,!0)),t.push(new Mapping("contentType",null,!0)),t.push(new Mapping("metadata","customMetadata",!0)),mappings_=t,mappings_}function addRef(t,e){function n(){const s=t.bucket,i=t.fullPath,o=new Location(s,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fromResource(t,e,n){const s={};s.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];s[a.local]=a.xform(s,e[a.server])}return addRef(s,t),s}function fromResourceString(t,e,n){const s=jsonObjectOrNull(e);return s===null?null:fromResource(t,s,n)}function downloadUrlFromResourceString(t,e,n,s){const i=jsonObjectOrNull(e);if(i===null||!isString(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const p=t.bucket,m=t.fullPath,x="/b/"+a(p)+"/o/"+a(m),E=makeUrl(x,n,s),T=makeQueryString({alt:"media",token:f});return E+T})[0]}function toResourceString(t,e){const n={},s=e.length;for(let i=0;i<s;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class RequestInfo{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(t){if(!t)throw unknown()}function metadataHandler(t,e){function n(s,i){const o=fromResourceString(t,i,e);return handlerCheck(o!==null),o}return n}function downloadUrlHandler(t,e){function n(s,i){const o=fromResourceString(t,i,e);return handlerCheck(o!==null),downloadUrlFromResourceString(o,i,t.host,t._protocol)}return n}function sharedErrorHandler(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=unauthorizedApp():i=unauthenticated():n.getStatus()===402?i=quotaExceeded(t.bucket):n.getStatus()===403?i=unauthorized(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function objectErrorHandler(t){const e=sharedErrorHandler(t);function n(s,i){let o=e(s,i);return s.getStatus()===404&&(o=objectNotFound(t.path)),o.serverResponse=i.serverResponse,o}return n}function getMetadata$2(t,e,n){const s=e.fullServerUrl(),i=makeUrl(s,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,c=new RequestInfo(i,o,metadataHandler(t,n),a);return c.errorHandler=objectErrorHandler(e),c}function getDownloadUrl(t,e,n){const s=e.fullServerUrl(),i=makeUrl(s,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,c=new RequestInfo(i,o,downloadUrlHandler(t,n),a);return c.errorHandler=objectErrorHandler(e),c}function deleteObject$2(t,e){const n=e.fullServerUrl(),s=makeUrl(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(u,f){}const c=new RequestInfo(s,i,a,o);return c.successCodes=[200,204],c.errorHandler=objectErrorHandler(e),c}function determineContentType_(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function metadataForUpload_(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=determineContentType_(null,e)),s}function multipartUpload(t,e,n,s,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let j=0;j<2;j++)A=A+Math.random().toString().slice(2);return A}const u=c();a["Content-Type"]="multipart/related; boundary="+u;const f=metadataForUpload_(e,s,i),p=toResourceString(f,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,x=`\r
--`+u+"--",E=FbsBlob.getBlob(m,s,x);if(E===null)throw cannotSliceBlob();const T={name:f.fullPath},_=makeUrl(o,t.host,t._protocol),k="POST",I=t.maxUploadRetryTime,P=new RequestInfo(_,k,metadataHandler(t,n),I);return P.urlParams=T,P.headers=a,P.body=E.uploadData(),P.errorHandler=sharedErrorHandler(e),P}class ResumableUploadStatus{constructor(e,n,s,i){this.current=e,this.total=n,this.finalized=!!s,this.metadata=i||null}}function checkResumeHeader_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{handlerCheck(!1)}return handlerCheck(!!n&&(e||["active"]).indexOf(n)!==-1),n}function createResumableUpload(t,e,n,s,i){const o=e.bucketOnlyServerUrl(),a=metadataForUpload_(e,s,i),c={name:a.fullPath},u=makeUrl(o,t.host,t._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=toResourceString(a,n),x=t.maxUploadRetryTime;function E(_){checkResumeHeader_(_);let k;try{k=_.getResponseHeader("X-Goog-Upload-URL")}catch{handlerCheck(!1)}return handlerCheck(isString(k)),k}const T=new RequestInfo(u,f,E,x);return T.urlParams=c,T.headers=p,T.body=m,T.errorHandler=sharedErrorHandler(e),T}function getResumableUploadStatus(t,e,n,s){const i={"X-Goog-Upload-Command":"query"};function o(f){const p=checkResumeHeader_(f,["active","final"]);let m=null;try{m=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{handlerCheck(!1)}m||handlerCheck(!1);const x=Number(m);return handlerCheck(!isNaN(x)),new ResumableUploadStatus(x,s.size(),p==="final")}const a="POST",c=t.maxUploadRetryTime,u=new RequestInfo(n,a,o,c);return u.headers=i,u.errorHandler=sharedErrorHandler(e),u}const RESUMABLE_UPLOAD_CHUNK_SIZE=256*1024;function continueResumableUpload(t,e,n,s,i,o,a,c){const u=new ResumableUploadStatus(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=s.size()),s.size()!==u.total)throw serverFileWrongSize();const f=u.total-u.current;let p=f;i>0&&(p=Math.min(p,i));const m=u.current,x=m+p;let E="";p===0?E="finalize":f===p?E="upload, finalize":E="upload";const T={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${u.current}`},_=s.slice(m,x);if(_===null)throw cannotSliceBlob();function k(j,O){const $=checkResumeHeader_(j,["active","final"]),V=u.current+p,L=s.size();let U;return $==="final"?U=metadataHandler(e,o)(j,O):U=null,new ResumableUploadStatus(V,L,$==="final",U)}const I="POST",P=e.maxUploadRetryTime,A=new RequestInfo(n,I,k,P);return A.headers=T,A.body=_.uploadData(),A.progressCallback=c||null,A.errorHandler=sharedErrorHandler(t),A}const TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(t){switch(t){case"running":case"pausing":case"canceling":return TaskState.RUNNING;case"paused":return TaskState.PAUSED;case"success":return TaskState.SUCCESS;case"canceled":return TaskState.CANCELED;case"error":return TaskState.ERROR;default:return TaskState.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Observer$1=class{constructor(e,n,s){if(isFunction$1(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function async(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTask{constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(isRetryStatusCode(i.status,[]))if(o)i=retryLimitExceeded();else{this.sleepTime=Math.max(this.sleepTime*2,DEFAULT_MIN_SLEEP_TIME_MILLIS),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=createResumableUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,newTextConnection,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const i=getResumableUploadStatus(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,newTextConnection,n,s);this._request=o,o.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier,n=new ResumableUploadStatus(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((i,o)=>{let a;try{a=continueResumableUpload(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const c=this._ref.storage._makeRequest(a,newTextConnection,i,o,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(s,newTextConnection,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(s,newTextConnection,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,i){const o=new Observer$1(n||void 0,s||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(taskStateFromInternalTaskState(this._state)){case TaskState.SUCCESS:async(this._resolve.bind(null,this.snapshot))();break;case TaskState.CANCELED:case TaskState.ERROR:const n=this._reject;async(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(taskStateFromInternalTaskState(this._state)){case TaskState.RUNNING:case TaskState.PAUSED:e.next&&async(e.next.bind(e,this.snapshot))();break;case TaskState.SUCCESS:e.complete&&async(e.complete.bind(e))();break;case TaskState.CANCELED:case TaskState.ERROR:e.error&&async(e.error.bind(e,this._error))();break;default:e.error&&async(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,n){this._service=e,n instanceof Location?this._location=n:this._location=Location.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Reference(e,n)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const n=new Location(this._location.bucket,e);return new Reference(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function uploadBytesResumable$1(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new UploadTask(t,new FbsBlob(e),n)}function getDownloadURL$1(t){t._throwIfRoot("getDownloadURL");const e=getDownloadUrl(t.storage,t._location,getMappings());return t.storage.makeRequestWithTokens(e,newTextConnection).then(n=>{if(n===null)throw noDownloadURL();return n})}function deleteObject$1(t){t._throwIfRoot("deleteObject");const e=deleteObject$2(t.storage,t._location);return t.storage.makeRequestWithTokens(e,newTextConnection)}function _getChild$1(t,e){const n=child(t._location.path,e),s=new Location(t._location.bucket,n);return new Reference(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(t){return/^[A-Za-z]+:\/\//.test(t)}function refFromURL(t,e){return new Reference(t,e)}function refFromPath(t,e){if(t instanceof FirebaseStorageImpl){const n=t;if(n._bucket==null)throw noDefaultBucket();const s=new Reference(n,n._bucket);return e!=null?refFromPath(s,e):s}else return e!==void 0?_getChild$1(t,e):t}function ref$1(t,e){if(e&&isUrl(e)){if(t instanceof FirebaseStorageImpl)return refFromURL(t,e);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(t,e)}function extractBucket(t,e){const n=e?.[CONFIG_STORAGE_BUCKET_KEY];return n==null?null:Location.makeFromBucketSpec(n,t)}function connectStorageEmulator$1(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:createMockUserToken(i,t.app.options.projectId))}class FirebaseStorageImpl{constructor(e,n,s,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,i!=null?this._bucket=Location.makeFromBucketSpec(i,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,n,s,i,o=!0){if(this._deleted)return new FailRequest(appDeleted());{const a=makeRequest(e,this._appId,s,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const name$1="@firebase/storage",version$1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytesResumable(t,e,n){return t=getModularInstance(t),uploadBytesResumable$1(t,e,n)}function getDownloadURL(t){return t=getModularInstance(t),getDownloadURL$1(t)}function deleteObject(t){return t=getModularInstance(t),deleteObject$1(t)}function ref(t,e){return t=getModularInstance(t),ref$1(t,e)}function getStorage(t=getApp(),e){t=getModularInstance(t);const s=_getProvider(t,STORAGE_TYPE).getImmediate({identifier:e}),i=getDefaultEmulatorHostnameAndPort("storage");return i&&connectStorageEmulator(s,...i),s}function connectStorageEmulator(t,e,n,s={}){connectStorageEmulator$1(t,e,n,s)}function factory(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FirebaseStorageImpl(n,s,i,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$1,""),registerVersion(name$1,version$1,"esm2017")}registerStorage();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FUNCTIONS_TYPE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContextProvider{constructor(e,n,s){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION="us-central1";class FunctionsService{constructor(e,n,s,i,o=DEFAULT_REGION,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(n,s,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=DEFAULT_REGION}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function connectFunctionsEmulator$1(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}const name="@firebase/functions",version="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_INTERNAL_NAME="auth-internal",APP_CHECK_INTERNAL_NAME="app-check-internal",MESSAGING_INTERNAL_NAME="messaging-internal";function registerFunctions(t,e){const n=(s,{instanceIdentifier:i})=>{const o=s.getProvider("app").getImmediate(),a=s.getProvider(AUTH_INTERNAL_NAME),c=s.getProvider(MESSAGING_INTERNAL_NAME),u=s.getProvider(APP_CHECK_INTERNAL_NAME);return new FunctionsService(o,a,c,u,i,t)};_registerComponent(new Component(FUNCTIONS_TYPE,n,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,e),registerVersion(name,version,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getFunctions(t=getApp(),e=DEFAULT_REGION){const s=_getProvider(getModularInstance(t),FUNCTIONS_TYPE).getImmediate({identifier:e}),i=getDefaultEmulatorHostnameAndPort("functions");return i&&connectFunctionsEmulator(s,...i),s}function connectFunctionsEmulator(t,e,n){connectFunctionsEmulator$1(getModularInstance(t),e,n)}registerFunctions(fetch.bind(self));const firebaseConfig={apiKey:"AIzaSyCdVoWcUqnLoHGQzs4a91nx7epHs5iDyVo",authDomain:"shopee-apoio-9b103.firebaseapp.com",projectId:"shopee-apoio-9b103",storageBucket:"shopee-apoio-9b103.firebasestorage.app",messagingSenderId:"610673332843",appId:"1:610673332843:web:090bdd2433790d2a37972e",measurementId:"G-72YLGWY45W"};firebaseConfig.apiKey||console.error("ERRO CRTICO: Variveis de ambiente do Firebase no encontradas. Verifique o arquivo .env");const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app);getFunctions(app);const LayoutGroupContext=reactExports.createContext({});function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$4=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const clamp$2=(t,e,n)=>n>e?e:n<t?t:n;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function isObject(t){return typeof t=="object"&&t!==null}const isZeroValueString=t=>/^0[^.\s]+$/u.test(t);function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const noop$2=t=>t,combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions),progress=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3;function velocityPerSecond(t,e){return e?t*(1e3/e):0}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,s,i){let o,a,c=0;do a=e+(n-e)/2,o=calcBezier(a,s,i)-t,o>0?n=a:e=a;while(Math.abs(o)>subdivisionPrecision&&++c<subdivisionMaxIterations);return a}function cubicBezier(t,e,n,s){if(t===e&&n===s)return noop$2;const i=o=>binarySubdivide(o,0,1,t,n);return o=>o===0||o===1?o:calcBezier(i(o),e,s)}const mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=t=>typeof t=="string",easingDefinitionToFunction=t=>{if(isBezierDefinition(t)){invariant(t.length===4);const[e,n,s,i]=t;return cubicBezier(e,n,s,i)}else if(isValidEasing(t))return easingLookup[t];return t},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(t,e){let n=new Set,s=new Set,i=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){a.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,m=!1,x=!1)=>{const T=x&&i?n:s;return m&&a.add(p),T.has(p)||T.add(p),p},cancel:p=>{s.delete(p),a.delete(p)},process:p=>{if(c=p,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(u),n.clear(),i=!1,o&&(o=!1,f.process(p))}};return f}const maxElapsed=40;function createRenderBatcher(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=stepsOrder.reduce((A,j)=>(A[j]=createRenderStep(o),A),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:p,update:m,preRender:x,render:E,postRender:T}=a,_=()=>{const A=MotionGlobalConfig.useManualTiming?i.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,maxElapsed),1)),i.timestamp=A,i.isProcessing=!0,c.process(i),u.process(i),f.process(i),p.process(i),m.process(i),x.process(i),E.process(i),T.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(_))},k=()=>{n=!0,s=!0,i.isProcessing||t(_)};return{schedule:stepsOrder.reduce((A,j)=>{const O=a[j];return A[j]=($,V=!1,L=!1)=>(n||k(),O.schedule($,V,L)),A},{}),cancel:A=>{for(let j=0;j<stepsOrder.length;j++)a[stepsOrder[j]].cancel(A)},state:i,steps:a}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:t=>{now=t,queueMicrotask(clearTime)}},checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=t=>startsAsVariableToken(t)?singleCssVariableRegex.test(t.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha={...number,transform:t=>clamp$2(0,1,t)},scale={...number,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(t){return t==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(t,e)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(t)||e&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,o,a,c]=s.match(floatRegex);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},clampRgbUnit=t=>clamp$2(0,255,t),rgbUnit={...number,transform:t=>Math.round(clampRgbUnit(t))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha.transform(s))+")"};function parseHex(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha.transform(s))+")"},color={test:t=>rgba.test(t)||hex.test(t)||hsla.test(t),parse:t=>rgba.test(t)?rgba.parse(t):hsla.test(t)?hsla.parse(t):hex.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rgba.transform(t):hsla.transform(t),getAnimatableNone:t=>{const e=color.parse(t);return e.alpha=0,color.transform(e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(t){return isNaN(t)&&typeof t=="string"&&(t.match(floatRegex)?.length||0)+(t.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(complexRegex,u=>(color.test(u)?(s.color.push(o),i.push(COLOR_TOKEN),n.push(color.parse(u))):u.startsWith(VAR_FUNCTION_TOKEN)?(s.var.push(o),i.push(VAR_TOKEN),n.push(u)):(s.number.push(o),i.push(NUMBER_TOKEN),n.push(parseFloat(u))),++o,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:c,indexes:s,types:i}}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{split:e,types:n}=analyseComplexValue(t),s=e.length;return i=>{let o="";for(let a=0;a<s;a++)if(o+=e[a],i[a]!==void 0){const c=n[a];c===NUMBER_TOKEN?o+=sanitize(i[a]):c===COLOR_TOKEN?o+=color.transform(i[a]):o+=i[a]}return o}}const convertNumbersToZero=t=>typeof t=="number"?0:color.test(t)?color.getAnimatableNone(t):t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=hueToRgb(u,c,t+1/3),o=hueToRgb(u,c,t),a=hueToRgb(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}function mixImmediate(t,e){return n=>n>0?e:t}const mixNumber$1=(t,e,n)=>t+(e-t)*n,mixLinearColor=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);if(!e)return!1;let n=e.parse(t);return e===hsla&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),s=asRGBA(e);if(!n||!s)return mixImmediate(t,e);const i={...n};return o=>(i.red=mixLinearColor(n.red,s.red,o),i.green=mixLinearColor(n.green,s.green,o),i.blue=mixLinearColor(n.blue,s.blue,o),i.alpha=mixNumber$1(n.alpha,s.alpha,o),rgba.transform(i))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(t,e){return invisibleValues.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mixNumber(t,e){return n=>mixNumber$1(t,e,n)}function getMixer(t){return typeof t=="number"?mixNumber:typeof t=="string"?isCSSVariableToken(t)?mixImmediate:color.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?color.test(t)?mixColor:mixObject:mixImmediate}function mixArray(t,e){const n=[...t],s=n.length,i=t.map((o,a)=>getMixer(o)(o,e[a]));return o=>{for(let a=0;a<s;a++)n[a]=i[a](o);return n}}function mixObject(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=getMixer(t[i])(t[i],e[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function matchOrder(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],c=t.values[a]??0;n[i]=c,s[o]++}return n}const mixComplex=(t,e)=>{const n=complex.createTransformer(e),s=analyseComplexValue(t),i=analyseComplexValue(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?invisibleValues.has(t)&&!i.values.length||invisibleValues.has(e)&&!s.values.length?mixVisibility(t,e):pipe(mixArray(matchOrder(s,i),i.values),n):mixImmediate(t,e)};function mix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mixNumber$1(t,e,n):getMixer(t)(t,e)}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>frame.update(e,n),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)s+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<maxGeneratorDuration;)e+=n,s=t.next(e);return e>=maxGeneratorDuration?1/0:e}function createGeneratorEasing(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(calcGeneratorDuration(s),maxGeneratorDuration);return{type:"keyframes",ease:o=>s.next(i*o).value/e,duration:millisecondsToSeconds(i)}}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const s=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(s),e-s)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:t=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:s=springDefaults.mass}){let i,o,a=1-e;a=clamp$2(springDefaults.minDamping,springDefaults.maxDamping,a),t=clamp$2(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(t)),a<1?(i=f=>{const p=f*a,m=p*t,x=p-n,E=calcAngularFreq(f,a),T=Math.exp(-m);return safeMin-x/E*T},o=f=>{const m=f*a*t,x=m*n+n,E=Math.pow(a,2)*Math.pow(f,2)*t,T=Math.exp(-m),_=calcAngularFreq(Math.pow(f,2),a);return(-i(f)+safeMin>0?-1:1)*((x-E)*T)/_}):(i=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-safeMin+p*m},o=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const c=5/t,u=approximateRoot(i,o,c);if(t=secondsToMilliseconds(t),isNaN(u))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:t};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:a*2*Math.sqrt(s*f),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let s=n;for(let i=1;i<rootIterations;i++)s=s-t(s)/e(s);return s}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*clamp$2(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:springDefaults.mass,stiffness:i,damping:o}}else{const n=findSpring(t);e={...e,...n,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(t=springDefaults.visualDuration,e=springDefaults.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:p,duration:m,velocity:x,isResolvedFromDuration:E}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),T=x||0,_=f/(2*Math.sqrt(u*p)),k=a-o,I=millisecondsToSeconds(Math.sqrt(u/p)),P=Math.abs(k)<5;s||(s=P?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),i||(i=P?springDefaults.restDelta.granular:springDefaults.restDelta.default);let A;if(_<1){const O=calcAngularFreq(I,_);A=$=>{const V=Math.exp(-_*I*$);return a-V*((T+_*I*k)/O*Math.sin(O*$)+k*Math.cos(O*$))}}else if(_===1)A=O=>a-Math.exp(-I*O)*(k+(T+I*k)*O);else{const O=I*Math.sqrt(_*_-1);A=$=>{const V=Math.exp(-_*I*$),L=Math.min(O*$,300);return a-V*((T+_*I*k)*Math.sinh(L)+O*k*Math.cosh(L))/O}}const j={calculatedDuration:E&&m||null,next:O=>{const $=A(O);if(E)c.done=O>=m;else{let V=O===0?T:0;_<1&&(V=O===0?secondsToMilliseconds(T):calcGeneratorVelocity(A,O,$));const L=Math.abs(V)<=s,U=Math.abs(a-$)<=i;c.done=L&&U}return c.value=c.done?a:$,c},toString:()=>{const O=Math.min(calcGeneratorDuration(j),maxGeneratorDuration),$=generateLinearEasing(V=>j.next(O*V).value,O,30);return O+"ms "+$},toTransition:()=>{}};return j}spring.applyToOptions=t=>{const e=createGeneratorEasing(t,100,spring);return t.ease=e.ease,t.duration=secondsToMilliseconds(e.duration),t.type="keyframes",t};function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:f=.5,restSpeed:p}){const m=t[0],x={done:!1,value:m},E=L=>c!==void 0&&L<c||u!==void 0&&L>u,T=L=>c===void 0?u:u===void 0||Math.abs(c-L)<Math.abs(u-L)?c:u;let _=n*e;const k=m+_,I=a===void 0?k:a(k);I!==k&&(_=I-m);const P=L=>-_*Math.exp(-L/s),A=L=>I+P(L),j=L=>{const U=P(L),J=A(L);x.done=Math.abs(U)<=f,x.value=x.done?I:J};let O,$;const V=L=>{E(x.value)&&(O=L,$=spring({keyframes:[x.value,T(x.value)],velocity:calcGeneratorVelocity(A,L,x.value),damping:i,stiffness:o,restDelta:f,restSpeed:p}))};return V(0),{calculatedDuration:null,next:L=>{let U=!1;return!$&&O===void 0&&(U=!0,j(L),V(L)),O!==void 0&&L>=O?$.next(L-O):(!U&&j(L),x)}}}function createMixers(t,e,n){const s=[],i=n||MotionGlobalConfig.mix||mix,o=t.length-1;for(let a=0;a<o;a++){let c=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||noop$2:e;c=pipe(u,c)}s.push(c)}return s}function interpolate(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(invariant(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=createMixers(e,s,i),u=c.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const x=progress(t[m],t[m+1],p);return c[m](x)};return n?p=>f(clamp$2(t[0],t[o-1],p)):f}function fillOffset(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=progress(0,e,s);t.push(mixNumber$1(n,1,i))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=isEasingArray(s)?s.map(easingDefinitionToFunction):easingDefinitionToFunction(s),o={done:!1,value:e[0]},a=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),c=interpolate(a,e,{ease:Array.isArray(i)?i:defaultEasing(e,i)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const isNotNull$2=t=>t!==null;function getFinalKeyframe$1(t,{repeat:e,repeatType:n="loop"},s,i=1){const o=t.filter(isNotNull$2),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||s===void 0?o[c]:s}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(t){typeof t.type=="string"&&(t.type=transitionTypeMap[t.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const percentToProgress=t=>t/100;class JSAnimation extends WithPromise{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;replaceTransitionType(e);const{type:n=keyframes,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const u=n||keyframes;u!==keyframes&&typeof c[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=calcGeneratorDuration(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:x,repeatDelay:E,type:T,onUpdate:_,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const I=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?I<0:I>i;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,j=s;if(m){const L=Math.min(this.currentTime,i)/c;let U=Math.floor(L),J=L%1;!J&&L>=1&&(J=1),J===1&&U--,U=Math.min(U,m+1),!!(U%2)&&(x==="reverse"?(J=1-J,E&&(J-=E/c)):x==="mirror"&&(j=a)),A=clamp$2(0,1,J)*c}const O=P?{done:!1,value:p[0]}:j.next(A);o&&(O.value=o(O.value));let{done:$}=O;!P&&u!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return V&&T!==inertia&&(O.value=getFinalKeyframe$1(p,this.options,k,this.speed)),_&&_(O.value),V&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(time.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fillWildcards(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const radToDeg=t=>t*180/Math.PI,rotate=t=>{const e=radToDeg(Math.atan2(t[1],t[0]));return rebaseAngle(e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate,rotateZ:rotate,skewX:t=>radToDeg(Math.atan(t[1])),skewY:t=>radToDeg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rebaseAngle=t=>(t=t%360,t<0&&(t+=360),t),rotateZ=rotate,scaleX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),scaleY=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:t=>(scaleX(t)+scaleY(t))/2,rotateX:t=>rebaseAngle(radToDeg(Math.atan2(t[6],t[5]))),rotateY:t=>rebaseAngle(radToDeg(Math.atan2(-t[2],t[0]))),rotateZ,rotate:rotateZ,skewX:t=>radToDeg(Math.atan(t[4])),skewY:t=>radToDeg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function defaultTransformValue(t){return t.includes("scale")?1:0}function parseValueFromTransform(t,e){if(!t||t==="none")return defaultTransformValue(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=matrix3dParsers,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=matrix2dParsers,i=c}if(!i)return defaultTransformValue(e);const o=s[e],a=i[1].split(",").map(convertTransformToNumber);return typeof o=="function"?o(a):a[o]}const readTransformValue=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return parseValueFromTransform(n,e)};function convertTransformToNumber(t){return parseFloat(t.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=t=>t===number||t===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>parseValueFromTransform(e,"x"),y:(t,{transform:e})=>parseValueFromTransform(e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const t=Array.from(toResolve).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=removeNonTranslationalTransform(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,a])=>{s.getValue(o)?.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(t=>t.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(e,n,s,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const o=i?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const c=s.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}fillWildcards(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=t=>t.startsWith("--");function setStyle(t,e,n){isCSSVar(e)?t.style.setProperty(e,n):t.style[e]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(t,e){const n=memo(t);return()=>supportsFlags[e]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t,e){if(t)return typeof t=="function"?supportsLinearEasing()?generateLinearEasing(t,e):"ease-out":isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(n=>mapEasingToNativeEasing(n,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[t]}function startWaapiAnimation(t,e,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:u}={},f=void 0){const p={[e]:n};u&&(p.offset=u);const m=mapEasingToNativeEasing(c,i);Array.isArray(m)&&(p.easing=m);const x={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(p,x)}function isGenerator(t){return typeof t=="function"&&"applyToOptions"in t}function applyGeneratorOptions({type:t,...e}){return isGenerator(t)&&supportsLinearEasing()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NativeAnimation extends WithPromise{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,invariant(typeof e.type!="string");const f=applyGeneratorOptions(e);this.animation=startWaapiAnimation(n,s,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=getFinalKeyframe$1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):setStyle(n,s,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&supportsScrollTimeline()?(this.animation.timeline=e,noop$2):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(t){return t in unsupportedEasingFunctions}function replaceStringEasing(t){typeof t.ease=="string"&&isUnsupportedEase(t.ease)&&(t.ease=unsupportedEasingFunctions[t.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(e){replaceStringEasing(e),replaceTransitionType(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new JSAnimation({...a,autoplay:!1}),u=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-sampleDelta).value,c.sample(u).value,sampleDelta),c.stop()}}const isAnimatable=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(complex.test(t)||t==="0")&&!t.startsWith("url("));function hasKeyframesChanged(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function canAnimate(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=isAnimatable(i,e),c=isAnimatable(o,e);return!a||!c?!1:hasKeyframesChanged(t)||(n==="spring"||isGenerator(n))&&s}function makeAnimationInstant(t){t.duration=0,t.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!f)&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:u,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const x={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:a,name:u,motionValue:f,element:p,...m},E=p?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new E(c,(T,_,k)=>this.onKeyframesResolved(T,_,x,!k),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:u,isHandoff:f,onUpdate:p}=s;this.resolvedAt=time.now(),canAnimate(e,o,a,c)||((MotionGlobalConfig.instantAnimations||!u)&&p?.(getFinalKeyframe$1(e,s,n)),e[0]=e[e.length-1],makeAnimationInstant(s),s.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},E=!f&&supportsBrowserAnimation(x)?new NativeAnimationExtended({...x,element:x.motionValue.owner.current}):new JSAnimation(x);E.finished.then(()=>this.notifyFinished()).catch(noop$2),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function getVariableValue(t,e,n=1){const[s,i]=parseCSSVariable(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const a=o.trim();return isNumericalString(a)?parseFloat(a):a}return isCSSVariableToken(i)?getVariableValue(i,e,n+1):i}function getValueTransition(t,e){return t?.[e]??t?.default??t}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:t=>t==="auto",parse:t=>t},testValueType=t=>e=>e.test(t),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t));function isNone(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||isZeroValueString(t):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(floatRegex)||[];if(!s)return t;const i=n.replace(s,"");let o=maxDefaults.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(t,e,n){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!invalidTemplates.has(o)&&analyseComplexValue(o).values.length&&(i=t[s]),s++}if(i&&n)for(const o of e)t[o]=getAnimatableNone(n,i)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,n,s,i,o){super(e,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),isCSSVariableToken(f))){const p=getVariableValue(f,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(s)||e.length!==2)return;const[i,o]=e,a=findDimensionValueType(i),c=findDimensionValueType(o);if(a!==c)if(isNumOrPxType(a)&&isNumOrPxType(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else positionalValues[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||isNone(e[i]))&&s.push(i);s.length&&makeNoneKeyframesAnimatable(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=positionalValues[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function resolveElements(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function isHTMLElement$3(t){return isObject(t)&&"offsetHeight"in t}const MAX_VELOCITY_DELTA=30,isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=time.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const s=this.events[e].add(n);return e==="change"?()=>{s(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(t){return t==="x"||t==="y"?isDragging[t]?null:(isDragging[t]=!0,()=>{isDragging[t]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(t,e){const n=resolveElements(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function isValidHover(t){return!(t.pointerType==="touch"||isDragActive())}function hover(t,e,n={}){const[s,i,o]=setupGesture(t,n),a=c=>{if(!isValidHover(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const p=m=>{isValidHover(m)&&(f(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,i)};return s.forEach(c=>{c.addEventListener("pointerenter",a,i)}),o}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1,isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(t){return focusableElements.has(t.tagName)||t.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(t){return e=>{e.key==="Enter"&&t(e)}}function firePointerEvent(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const i=filterEvents(()=>{firePointerEvent(n,"up")}),o=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function isValidPressEvent(t){return isPrimaryPointer(t)&&!isDragActive()}function press(t,e,n={}){const[s,i,o]=setupGesture(t,n),a=c=>{const u=c.currentTarget;if(!isValidPressEvent(c))return;isPressing.add(u);const f=e(u,c),p=(E,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),isPressing.has(u)&&isPressing.delete(u),isValidPressEvent(E)&&typeof f=="function"&&f(E,{success:T})},m=E=>{p(E,u===window||u===document||n.useGlobalTarget||isNodeOrChild(u,E.target))},x=E=>{p(E,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",x,i)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),isHTMLElement$3(c)&&(c.addEventListener("focus",f=>enableKeyboardPress(f,i)),!isElementKeyboardAccessible(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function isSVGElement$1(t){return isObject(t)&&"ownerSVGElement"in t}function isSVGSVGElement(t){return isSVGElement$1(t)&&t.tagName==="svg"}const isMotionValue=t=>!!(t&&t.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=t=>valueTypes.find(testValueType(t)),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function setRef$1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$1(...t){return e=>{let n=!1;const s=t.map(i=>{const o=setRef$1(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():setRef$1(t[i],null)}}}}function useComposedRefs$1(...t){return reactExports.useCallback(composeRefs$1(...t),t)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=isHTMLElement$3(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:t,isPresent:e,anchorX:n,root:s}){const i=reactExports.useId(),o=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=reactExports.useContext(MotionConfigContext),u=useComposedRefs$1(o,t?.ref);return reactExports.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:x,right:E}=a.current;if(e||!o.current||!f||!p)return;const T=n==="left"?`left: ${x}`:`right: ${E}`;o.current.dataset.motionPopId=i;const _=document.createElement("style");c&&(_.nonce=c);const k=s??document.head;return k.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${T}px !important;
            top: ${m}px !important;
          }
        `),()=>{k.contains(_)&&k.removeChild(_)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:o,sizeRef:a,children:reactExports.cloneElement(t,{ref:u})})}const PresenceChild=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a,anchorX:c,root:u})=>{const f=useConstant(newChildrenMap),p=reactExports.useId();let m=!0,x=reactExports.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:E=>{f.set(E,!0);for(const T of f.values())if(!T)return;s&&s()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[n,f,s]);return o&&m&&(x={...x}),reactExports.useMemo(()=>{f.forEach((E,T)=>f.set(T,!1))},[n]),reactExports.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),a==="popLayout"&&(t=jsxRuntimeExports.jsx(PopChild,{isPresent:n,anchorX:c,root:u,children:t})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:x,children:t})};function newChildrenMap(){return new Map}function usePresence$1(t=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,o=reactExports.useId();reactExports.useEffect(()=>{if(t)return i(o)},[t]);const a=reactExports.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,a]:[!0]}const getChildKey=t=>t.key||"";function onlyElements(t){const e=[];return reactExports.Children.forEach(t,n=>{reactExports.isValidElement(n)&&e.push(n)}),e}const AnimatePresence=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[f,p]=usePresence$1(a),m=reactExports.useMemo(()=>onlyElements(t),[t]),x=a&&!f?[]:m.map(getChildKey),E=reactExports.useRef(!0),T=reactExports.useRef(m),_=useConstant(()=>new Map),[k,I]=reactExports.useState(m),[P,A]=reactExports.useState(m);useIsomorphicLayoutEffect$4(()=>{E.current=!1,T.current=m;for(let $=0;$<P.length;$++){const V=getChildKey(P[$]);x.includes(V)?_.delete(V):_.get(V)!==!0&&_.set(V,!1)}},[P,x.length,x.join("-")]);const j=[];if(m!==k){let $=[...m];for(let V=0;V<P.length;V++){const L=P[V],U=getChildKey(L);x.includes(U)||($.splice(V,0,L),j.push(L))}return o==="wait"&&j.length&&($=j),A(onlyElements($)),I(m),null}const{forceRender:O}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:P.map($=>{const V=getChildKey($),L=a&&!f?!1:m===P||x.includes(V),U=()=>{if(_.has(V))_.set(V,!0);else return;let J=!0;_.forEach(Z=>{Z||(J=!1)}),J&&(O?.(),A(T.current),a&&p?.(),s&&s())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:L,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:L?void 0:U,anchorX:c,children:$},V)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){typeof t=="function"&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(shouldForward(i)||n===!0&&isValidMotionProp(i)||!e&&!isValidMotionProp(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const MotionContext=reactExports.createContext({});function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:s}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(s)?s:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const scaleCorrectors={};function addScaleCorrector(t){for(const e in t)scaleCorrectors[e]=t[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,e,n){let s="",i=!0;for(let o=0;o<numTransforms;o++){const a=transformPropOrder[o],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=getValueAsType(c,numberValueTypes[a]);if(!u){i=!1;const p=translateAlias[a]||a;s+=`${p}(${f}) `}n&&(e[a]=f)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function buildHTMLStyles(t,e,n){const{style:s,vars:i,transformOrigin:o}=t;let a=!1,c=!1;for(const u in e){const f=e[u];if(transformProps.has(u)){a=!0;continue}else if(isCSSVariableName(u)){i[u]=f;continue}else{const p=getValueAsType(f,numberValueTypes[u]);u.startsWith("origin")?(c=!0,o[u]=p):s[u]=p}}if(e.transform||(a||n?s.transform=buildTransform(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:p=0}=o;s.transformOrigin=`${u} ${f} ${p}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const s in e)!isMotionValue(e[s])&&!isForcedMotionValue(s,n)&&(t[s]=e[s])}function useInitialMotionValues({transformTemplate:t},e){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,e,t),Object.assign({},n.vars,n.style)},[e])}function useStyle(t,e){const n=t.style||{},s={};return copyRawValuesOnly(s,n,t),Object.assign(s,useInitialMotionValues(t,e)),s}function useHTMLProps(t,e){const n={},s=useStyle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?dashKeys:camelKeys;t[o.offset]=px.transform(-s);const a=px.transform(e),c=px.transform(n);t[o.array]=`${a} ${c}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...c},u,f,p){if(buildHTMLStyles(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&buildSVGPath(m,i,o,a,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,s){const i=reactExports.useMemo(()=>{const o=createSvgRenderState();return buildSVGAttrs(o,e,isSVGTag(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};copyRawValuesOnly(o,t.style,t),i.style={...o,...i.style}}return i}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/u.test(t))}function useRender(t,e,n,{latestValues:s},i,o=!1){const c=(isSVGComponent(t)?useSVGProps:useHTMLProps)(e,s,i,t),u=filterProps(e,typeof t=="string",o),f=t!==reactExports.Fragment?{...u,...c,ref:n}:{},{children:p}=e,m=reactExports.useMemo(()=>isMotionValue(p)?p.get():p,[p]);return reactExports.createElement(t,{...f,children:m})}function getValueState(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function resolveVariantFromProps(t,e,n,s){if(typeof e=="function"){const[i,o]=getValueState(s);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=getValueState(s);e=e(n!==void 0?n:t.custom,i,o)}return e}function resolveMotionValue(t){return isMotionValue(t)?t.get():t}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:makeLatestValues(n,s,i,t),renderState:e()}}function makeLatestValues(t,e,n,s){const i={},o=s(t,{});for(const x in o)i[x]=resolveMotionValue(o[x]);let{initial:a,animate:c}=t;const u=isControllingVariants(t),f=isVariantNode(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!isAnimationControls(m)){const x=Array.isArray(m)?m:[m];for(let E=0;E<x.length;E++){const T=resolveVariantFromProps(t,x[E]);if(T){const{transitionEnd:_,transition:k,...I}=T;for(const P in I){let A=I[P];if(Array.isArray(A)){const j=p?A.length-1:0;A=A[j]}A!==null&&(i[P]=A)}for(const P in _)i[P]=_[P]}}}return i}const makeUseVisualState=t=>(e,n)=>{const s=reactExports.useContext(MotionContext),i=reactExports.useContext(PresenceContext),o=()=>makeState(t,e,s,i);return n?o():useConstant(o)};function scrapeMotionValuesFromProps$1(t,e,n){const{style:s}=t,i={};for(const o in s)(isMotionValue(s[o])||e.style&&isMotionValue(e.style[o])||isForcedMotionValue(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=s[o]);return i}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(t,e,n){const s=scrapeMotionValuesFromProps$1(t,e,n);for(const i in t)if(isMotionValue(t[i])||isMotionValue(e[i])){const o=transformPropOrder.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):isRefObject(n)&&(n.current=s))},[e])}const camelToDash=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(t,e,n,s,i){const{visualElement:o}=reactExports.useContext(MotionContext),a=reactExports.useContext(LazyContext),c=reactExports.useContext(PresenceContext),u=reactExports.useContext(MotionConfigContext).reducedMotion,f=reactExports.useRef(null);s=s||a.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,m=reactExports.useContext(SwitchLayoutGroupContext);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&createProjectionNode$1(f.current,n,i,m);const x=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{p&&x.current&&p.update(n,c)});const E=n[optimizedAppearDataAttribute],T=reactExports.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return useIsomorphicLayoutEffect$4(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),reactExports.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),T.current=!1),p.enteringChildren=void 0)}),p}function createProjectionNode$1(t,e,n,s){const{layoutId:i,layout:o,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||c&&isRefObject(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:u,layoutRoot:f})}function getClosestProjectingNode(t){if(t)return t.options.allowProjection!==!1?t.projection:getClosestProjectingNode(t.parent)}function createMotionComponent(t,{forwardMotionProps:e=!1}={},n,s){n&&loadFeatures(n);const i=isSVGComponent(t)?useSVGVisualState:useHTMLVisualState;function o(c,u){let f;const p={...reactExports.useContext(MotionConfigContext),...c,layoutId:useLayoutId(c)},{isStatic:m}=p,x=useCreateMotionContext(c),E=i(c,m);if(!m&&isBrowser){useStrictMode();const T=getProjectionFunctionality(p);f=T.MeasureLayout,x.visualElement=useVisualElement(t,E,p,s,T.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:x,children:[f&&x.visualElement?jsxRuntimeExports.jsx(f,{visualElement:x.visualElement,...p}):null,useRender(t,c,useMotionRef(E,x.visualElement,u),E,m,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=reactExports.forwardRef(o);return a[motionComponentSymbol]=t,a}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function useStrictMode(t,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(t){const{drag:e,layout:n}=featureDefinitions;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function createMotionProxy(t,e){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,s=(o,a)=>createMotionComponent(o,a,t,e),i=(o,a)=>s(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?s:(n.has(a)||n.set(a,createMotionComponent(a,void 0,t,e)),n.get(a))})}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const s=t-n,i=e*s;return n+i}function applyPointDelta(t,e,n,s,i){return i!==void 0&&(t=scalePoint(t,i,s)),scalePoint(t,n,s)+e}function applyAxisDelta(t,e=0,n=1,s,i){t.min=applyPointDelta(t.min,e,n,s,i),t.max=applyPointDelta(t.max,e,n,s,i)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let c=0;c<i;c++){o=n[c],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&transformBox(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,applyBoxDelta(t,a)),s&&hasTransform(o.latestValues)&&transformBox(t,o.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,n,s,i=.5){const o=mixNumber$1(t.min,t.max,i);applyAxisDelta(t,e,n,o,s)}function transformBox(t,e){transformAxis(t.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(t.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const s=measureViewportBox(t,n),{scroll:i}=e;return i&&(translateAxis(s.x,i.offset.x),translateAxis(s.y,i.offset.y)),s}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addEventListener("change",e),e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(t,e,n){for(const s in e){const i=e[s],o=n[s];if(isMotionValue(i))t.addValue(s,i);else if(isMotionValue(o))t.addValue(s,motionValue(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,motionValue(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=time.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,frame.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const E=m[x];u[x]!==void 0&&isMotionValue(E)&&E.set(u[x])}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=transformProps.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&frame.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const n=featureDefinitions[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<propEventHandlers.length;s++){const i=propEventHandlers[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=motionValue(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(isNumericalString(s)||isZeroValueString(s))?s=parseFloat(s):!findValueType(s)&&complex.test(n)&&(s=getAnimatableNone(e,n)),this.setBaseTarget(e,isMotionValue(s)?s.get():s)),isMotionValue(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=resolveVariantFromProps(this.props,n,this.presenceContext?.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!isMotionValue(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(t,{style:e,vars:n},s,i){const o=t.style;let a;for(a in e)o[a]=e[a];i?.applyProjectionStyles(o,s);for(a in n)o.setProperty(a,n[a])}function getComputedStyle$2(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,n){if(transformProps.has(n))return this.projection?.isProjecting?defaultTransformValue(n):readTransformValue(e,n);{const s=getComputedStyle$2(e),i=(isCSSVariableName(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,s){buildHTMLStyles(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return scrapeMotionValuesFromProps$1(e,n,s)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,s){renderHTML(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(camelCaseAttributes.has(i)?i:camelToDash(i),e.attrs[i])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const s=getDefaultValueType(n);return s&&s.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return scrapeMotionValuesFromProps(e,n,s)}build(e,n,s){buildSVGAttrs(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){renderSVG(e,n,s,i)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:t!==reactExports.Fragment});function resolveVariant(t,e,n){const s=t.getProps();return resolveVariantFromProps(s,e,n!==void 0?n:s.custom,t)}const isKeyframesTarget=t=>Array.isArray(t);function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function resolveFinalValueInKeyframes(t){return isKeyframesTarget(t)?t[t.length-1]||0:t}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const a in o){const c=resolveFinalValueInKeyframes(o[a]);setMotionValue(t,a,c)}}function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}function addValueToWillChange(t,e){const n=t.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(e);if(!n&&MotionGlobalConfig.WillChange){const s=new MotionGlobalConfig.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function getOptimisedAppearId(t){return t.props[optimizedAppearDataAttribute]}const isNotNull$1=t=>t!==null;function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(isNotNull$1),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const animateMotionValue=(t,e,n,s={},i,o)=>a=>{const c=getValueTransition(s,t)||{},u=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-secondsToMilliseconds(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};isTransitionDefined(c)||Object.assign(p,getDefaultTransition(t,p)),p.duration&&(p.duration=secondsToMilliseconds(p.duration)),p.repeatDelay&&(p.repeatDelay=secondsToMilliseconds(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(makeAnimationInstant(p),p.delay===0&&(m=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(m=!0,makeAnimationInstant(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const x=getFinalKeyframe(p.keyframes,c);if(x!==void 0){frame.update(()=>{p.onUpdate(x),p.onComplete()});return}}return c.isSync?new JSAnimation(p):new AsyncMotionValueAnimation(p)};function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function animateTarget(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;s&&(o=s);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),x=c[p];if(x===void 0||f&&shouldBlockAnimation(f,p))continue;const E={delay:n,...getValueTransition(o||{},p)},T=m.get();if(T!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===T&&!E.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const I=getOptimisedAppearId(t);if(I){const P=window.MotionHandoffAnimation(I,p,frame);P!==null&&(E.startTime=P,_=!0)}}addValueToWillChange(t,p),m.start(animateMotionValue(p,m,x,t.shouldReduceMotion&&positionalKeys.has(p)?{type:!1}:E,t,_));const k=m.animation;k&&u.push(k)}return a&&Promise.all(u).then(()=>{frame.update(()=>{a&&setTarget(t,a)})}),u}function calcChildStagger(t,e,n,s=0,i=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*s;return typeof n=="function"?n(o,a):i===1?o*s:c-o*s}function animateVariant(t,e,n={}){const s=resolveVariant(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(animateTarget(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return animateChildren(t,e,u,f,p,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function animateChildren(t,e,n=0,s=0,i=0,o=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(animateVariant(u,e,{...a,delay:n+(typeof s=="function"?0:s)+calcChildStagger(t.variantChildren,u,s,i,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(o=>animateVariant(t,o,n));s=Promise.all(i)}else if(typeof e=="string")s=animateVariant(t,e,n);else{const i=typeof e=="function"?resolveVariant(t,e,n.custom):e;s=Promise.all(animateTarget(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?getVariantContext(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<numVariantProps;n++){const s=variantProps[n],i=t.props[s];(isVariantLabel(i)||i===!1)&&(e[s]=i)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:s})=>animateVisualElement(t,n,s)))}function createAnimationState(t){let e=animateList(t),n=createState(),s=!0;const i=u=>(f,p)=>{const m=resolveVariant(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:x,transitionEnd:E,...T}=m;f={...f,...T,...E}}return f};function o(u){e=u(t)}function a(u){const{props:f}=t,p=getVariantContext(t.parent)||{},m=[],x=new Set;let E={},T=1/0;for(let k=0;k<numAnimationTypes;k++){const I=reversePriorityOrder[k],P=n[I],A=f[I]!==void 0?f[I]:p[I],j=isVariantLabel(A),O=I===u?P.isActive:null;O===!1&&(T=k);let $=A===p[I]&&A!==f[I]&&j;if($&&s&&t.manuallyAnimateOnMount&&($=!1),P.protectedKeys={...E},!P.isActive&&O===null||!A&&!P.prevProp||isAnimationControls(A)||typeof A=="boolean")continue;const V=checkVariantsDidChange(P.prevProp,A);let L=V||I===u&&P.isActive&&!$&&j||k>T&&j,U=!1;const J=Array.isArray(A)?A:[A];let Z=J.reduce(i(I),{});O===!1&&(Z={});const{prevResolvedValues:Y={}}=P,K={...Y,...Z},ke=q=>{L=!0,x.has(q)&&(U=!0,x.delete(q)),P.needsAnimating[q]=!0;const M=t.getValue(q);M&&(M.liveStyle=!1)};for(const q in K){const M=Z[q],z=Y[q];if(E.hasOwnProperty(q))continue;let ee=!1;isKeyframesTarget(M)&&isKeyframesTarget(z)?ee=!shallowCompare(M,z):ee=M!==z,ee?M!=null?ke(q):x.add(q):M!==void 0&&x.has(q)?ke(q):P.protectedKeys[q]=!0}P.prevProp=A,P.prevResolvedValues=Z,P.isActive&&(E={...E,...Z}),s&&t.blockInitialAnimation&&(L=!1);const Re=$&&V;L&&(!Re||U)&&m.push(...J.map(q=>{const M={type:I};if(typeof q=="string"&&s&&!Re&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,ee=resolveVariant(z,q);if(z.enteringChildren&&ee){const{delayChildren:W}=ee.transition||{};M.delay=calcChildStagger(z.enteringChildren,t,W)}}return{animation:q,options:M}}))}if(x.size){const k={};if(typeof f.initial!="boolean"){const I=resolveVariant(t,Array.isArray(f.initial)?f.initial[0]:f.initial);I&&I.transition&&(k.transition=I.transition)}x.forEach(I=>{const P=t.getBaseTarget(I),A=t.getValue(I);A&&(A.liveStyle=!0),k[I]=P??null}),m.push({animation:k})}let _=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(m):Promise.resolve()}function c(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,f)),n[u].isActive=f;const p=a(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=createState()}}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function extractEventInfo(t){return{point:{x:t.pageX,y:t.pageY}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,s){return addDomEvent(t,e,addPointerInfo(n),s)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(t){return t.max-t.min}function isNear(t,e,n){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,s=.5){t.origin=s,t.originPoint=mixNumber$1(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),t.translate=mixNumber$1(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SCALE_MIN&&t.scale<=SCALE_MAX||isNaN(t.scale))&&(t.scale=1),(t.translate>=TRANSLATE_MIN&&t.translate<=TRANSLATE_MAX||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,s){calcAxisDelta(t.x,e.x,n.x,s?s.originX:void 0),calcAxisDelta(t.y,e.y,n.y,s?s.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function eachAxis(t){return[t("x"),t("y")]}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),s=distance(t.y,e.y);return Math.sqrt(n**2+s**2)}class PanSession{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=getPanInfo(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,T=distance2D(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!T)return;const{point:_}=x,{timestamp:k}=frameData;this.history.push({..._,timestamp:k});const{onStart:I,onMove:P}=this.handlers;E||(I&&I(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=transformPoint(E,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=getPanInfo(x.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(E,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,I),_&&_(x,I)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=i||window;const c=extractEventInfo(e),u=transformPoint(c,this.transformPagePoint),{point:f}=u,{timestamp:p}=frameData;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,getPanInfo(u,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=lastDevicePoint(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>secondsToMilliseconds(e)));)n--;if(!s)return{x:0,y:0};const o=millisecondsToSeconds(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function applyConstraints(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mixNumber$1(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mixNumber$1(n,t,s.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:s,right:i}){return{x:calcRelativeAxisConstraints(t.x,n,i),y:calcRelativeAxisConstraints(t.y,e,s)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const s=calcLength(t),i=calcLength(e);return i>s?n=progress(e.min,e.max-s,t.min):s>i&&(n=progress(t.min,t.max-i,e.min)),clamp$2(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(m).point)},a=(m,x)=>{const{drag:E,dragPropagation:T,onDragStart:_}=this.getProps();if(E&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(E),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(I=>{let P=this.getAxisMotionValue(I).get()||0;if(percent.test(P)){const{projection:A}=this.visualElement;if(A&&A.layout){const j=A.layout.layoutBox[I];j&&(P=calcLength(j)*(parseFloat(P)/100))}}this.originPoint[I]=P}),_&&frame.postRender(()=>_(m,x)),addValueToWillChange(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:T,onDirectionLock:_,onDrag:k}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:I}=x;if(T&&this.currentDirection===null){this.currentDirection=getCurrentDirection(I),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,I),this.updateAxis("y",x.point,I),this.visualElement.render(),k&&k(m,x)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>eachAxis(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!shouldDrag(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=applyConstraints(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&isRefObject(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=calcRelativeConstraints(s.layoutBox,e):this.constraints=!1,this.elastic=resolveDragElastic(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rebaseAxisConstraints(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=measurePageBox(s,i.root,this.visualElement.getTransformPagePoint());let a=calcViewportConstraints(i.layout.layoutBox,o);if(n){const c=n(convertBoxToBoundingBox(a));this.hasMutatedConstraints=!!c,c&&(a=convertBoundingBoxToBox(c))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=eachAxis(p=>{if(!shouldDrag(p,n,this.currentDirection))return;let m=u&&u[p]||{};a&&(m={min:0,max:0});const x=i?200:1e6,E=i?40:1e7,T={type:"inertia",velocity:s?e[p]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),s.start(animateMotionValue(e,s,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:s}=this.getProps();if(!shouldDrag(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[n];o.set(e[n]-mixNumber$1(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!isRefObject(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};eachAxis(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=calcOrigin({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),eachAxis(a=>{if(!shouldDrag(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];c.set(mixNumber$1(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();isRefObject(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),frame.read(s);const a=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(eachAxis(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=defaultElastic,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.postRender(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:s,onEnd:(o,a)=>{delete this.session,i&&frame.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),s=pixelsToPercent(t,e.target.y);return`${n}% ${s}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=complex.parse(t);if(i.length>5)return s;const o=complex.createTransformer(t),a=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const f=mixNumber$1(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),o(i)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=e;addScaleCorrector(defaultScaleCorrectors),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),hasTakenAnySnapshot&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:a}=s;return a&&(a.isPresent=o,hasTakenAnySnapshot=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||frame.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;hasTakenAnySnapshot=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence$1(),s=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...t,layoutGroup:s,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(t,e,n){const s=isMotionValue(t)?t:motionValue(t);return s.start(animateMotionValue("",s,e,n)),s.animation}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=time.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(cancelFrame(s),t(o-e))};return frame.setup(s,!0),()=>cancelFrame(s)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,n,s,i,o){i?(t.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(s)),t.opacityExit=mixNumber$1(e.opacity??1,0,easeCrossfadeOut(s))):o&&(t.opacity=mixNumber$1(e.opacity??1,n.opacity??1,s));for(let a=0;a<numBorders;a++){const c=`border${borders[a]}Radius`;let u=getRadius(e,c),f=getRadius(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||isPx(u)===isPx(f)?(t[c]=Math.max(mixNumber$1(asNumber(u),asNumber(f),s),0),(percent.test(f)||percent.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=mixNumber$1(e.rotate||0,n.rotate||0,s))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(t,e,n){return s=>s<t?0:s>e?1:n(progress(t,e,s))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function copyAxisDeltaInto(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function removePointDelta(t,e,n,s,i){return t-=e,t=scalePoint(t,1/n,s),i!==void 0&&(t=scalePoint(t,1/i,s)),t}function removeAxisDelta(t,e=0,n=1,s=.5,i,o=t,a=t){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=mixNumber$1(o.min,o.max,s);t===o&&(c-=e),t.min=removePointDelta(t.min,e,n,c,i),t.max=removePointDelta(t.max,e,n,c,i)}function removeAxisTransforms(t,e,[n,s,i],o,a){removeAxisDelta(t,e[n],e[s],e[i],e.scale,o,a)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,s){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,s?s.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,s?s.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function axisEquals(t,e){return t.min===e.min&&t.max===e.max}function boxEquals(t,e){return axisEquals(t.x,e.x)&&axisEquals(t.y,e.y)}function axisEqualsRounded(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function boxEqualsRounded(t,e){return axisEqualsRounded(t.x,e.x)&&axisEqualsRounded(t.y,e.y)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}function axisDeltaEquals(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=n?.z||0;if((i||o||a)&&(s=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:x,skewX:E,skewY:T}=n;f&&(s=`perspective(${f}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),x&&(s+=`rotateY(${x}deg) `),E&&(s+=`skewX(${E}deg) `),T&&(s+=`skewY(${T}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id$1=0;function resetDistortingTransform(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function cancelTreeOptimisedTransformAnimations(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(s)}function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=id$1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new SubscriptionManager),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=isSVGElement$1(a)&&!isSVGSVGElement(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let p,m=0;const x=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{m=window.innerWidth}),t(a,()=>{const E=window.innerWidth;E!==m&&(m=E,this.root.updateBlockedByResize=!0,p&&p(),p=delay(x,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:_,onLayoutAnimationComplete:k}=f.getProps(),I=!this.targetLayout||!boxEqualsRounded(this.targetLayout,E),P=!m&&x;if(this.options.layoutRoot||this.resumeFrom||P||m&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...getValueTransition(T,"layout"),onPlay:_,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(p,P)}else m||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const c=time.now();frameData.delta=clamp$2(0,1e3/60,c-frameData.timestamp),frameData.timestamp=c,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!isDeltaZero(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||hasTransform(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),roundBox(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return createBox();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:f}=this.root;f&&(translateAxis(c.x,f.offset.x),translateAxis(c.y,f.offset.y))}return c}removeElementScroll(a){const c=createBox();if(copyBoxInto(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&copyBoxInto(c,a),translateAxis(c.x,p.offset.x),translateAxis(c.y,p.offset.y))}return c}applyTransform(a,c=!1){const u=createBox();copyBoxInto(u,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&transformBox(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hasTransform(p.latestValues)&&transformBox(u,p.latestValues)}return hasTransform(this.latestValues)&&transformBox(u,this.latestValues),u}removeTransform(a){const c=createBox();copyBoxInto(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!hasTransform(f.latestValues))continue;hasScale(f.latestValues)&&f.updateSnapshot();const p=createBox(),m=f.measurePageBox();copyBoxInto(p,m),removeBoxTransforms(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return hasTransform(this.latestValues)&&removeBoxTransforms(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,x.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=createBox());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(a,c=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},m=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=createBox(),E=u?u.source:void 0,T=this.layout?this.layout.source:void 0,_=E!==T,k=this.getStack(),I=!k||k.members.length<=1,P=!!(_&&!I&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let A;this.mixTargetDelta=j=>{const O=j/1e3;mixAxisDelta(m.x,a.x,O),mixAxisDelta(m.y,a.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,x,O),A&&boxEquals(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=createBox()),copyBoxInto(A,this.relativeTarget)),_&&(this.animationValues=p,mixValues(p,f,this.latestValues,O,P,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:p}=a;if(!(!c||!u||!f)){if(this!==a&&this.layout&&f&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||createBox();const m=calcLength(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const x=calcLength(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+x}copyBoxInto(c,u),transformBox(c,p),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NodeStack),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&resetDistortingTransform("z",a,f,this.animationValues);for(let p=0;p<transformAxes.length;p++)resetDistortingTransform(`rotate${transformAxes[p]}`,a,f,this.animationValues),resetDistortingTransform(`skew${transformAxes[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=resolveMotionValue(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=resolveMotionValue(c?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,p);u&&(m=u(p,m)),a.transform=m;const{x,y:E}=this.projectionDelta;a.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,f.animationValues?a.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in scaleCorrectors){if(p[T]===void 0)continue;const{correct:_,applyTo:k,isCSSVariable:I}=scaleCorrectors[T],P=m==="none"?p[T]:_(p[T],f);if(k){const A=k.length;for(let j=0;j<A;j++)a[k[j]]=P}else I?this.options.visualElement.renderState.vars[T]=P:a[T]=P}this.options.layoutId&&(a.pointerEvents=f===this?resolveMotionValue(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?eachAxis(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],x=calcLength(m);m.min=n[p].min,m.max=m.min+x}):shouldAnimatePositionOnly(i,e.layoutBox,n)&&eachAxis(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],x=calcLength(n[p]);m.max=m.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const a=createDelta();calcBoxDelta(a,n,e.layoutBox);const c=createDelta();o?calcBoxDelta(c,t.applyTransform(s,!0),e.measuredBox):calcBoxDelta(c,n,e.layoutBox);const u=!isDeltaZero(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:x}=p;if(m&&x){const E=createBox();calcRelativePosition(E,e.layoutBox,m.layoutBox);const T=createBox();calcRelativePosition(T,n,x.layoutBox),boxEqualsRounded(E,T)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function propagateDirtyNodes(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetSkewAndRotation(t){t.resetSkewAndRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mixNumber$1(e.translate,0,n),t.scale=mixNumber$1(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,s){t.min=mixNumber$1(e.min,n.min,s),t.max=mixNumber$1(e.max,n.max,s)}function mixBox(t,e,n,s){mixAxis(t.x,e.x,n.x,s),mixAxis(t.y,e.y,n.y,s)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}function checkNodeWasScrollRoot(t){return t!==t.root&&t.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&frame.postRender(()=>o(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(n,s)=>(handleHoverEvent(this.node,s,"Start"),i=>handleHoverEvent(this.node,i,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&frame.postRender(()=>o(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(n,s)=>(handlePressEvent(this.node,s,"Start"),(i,{success:o})=>handlePressEvent(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const s=observers.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),s[i]}function observeIntersection(t,e,n){const s=initIntersectionObserver(e);return observerCallbacks.set(t,n),s.observe(t),()=>{observerCallbacks.delete(t),s.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:thresholdNames[i]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),x=f?p:m;x&&x(u)};return observeIntersection(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(t,e){module.exports=e()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,s=t.length,i;for(n=0;n<s;n+=1){i=t[n].prototype;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e.prototype[o]=i[o])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=(function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].pause()},resume:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].resume()},setRate:function(n){var s,i=this.audios.length;for(s=0;s<i;s+=1)this.audios[s].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}})(),createTypedArray=(function(){function t(n,s){var i=0,o=[],a;switch(n){case"int16":case"uint8c":a=1;break;default:a=1.1;break}for(i=0;i<s;i+=1)o.push(a);return o}function e(n,s){return n==="float32"?new Float32Array(s):n==="int16"?new Int16Array(s):n==="uint8c"?new Uint8ClampedArray(s):t(n,s)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t})();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var n=createSizedArray(t.length),s,i=t.length;for(s=0;s<i;s+=1)n[s]=Math.abs(t[s]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,s){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=s<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,s){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}})();function HSVtoRGB(t,e,n){var s,i,o,a,c,u,f,p;switch(a=Math.floor(t*6),c=t*6-a,u=n*(1-e),f=n*(1-c*e),p=n*(1-(1-c)*e),a%6){case 0:s=n,i=p,o=u;break;case 1:s=f,i=n,o=u;break;case 2:s=u,i=n,o=p;break;case 3:s=u,i=f,o=n;break;case 4:s=p,i=u,o=n;break;case 5:s=n,i=u,o=f;break}return[s,i,o]}function RGBtoHSV(t,e,n){var s=Math.max(t,e,n),i=Math.min(t,e,n),o=s-i,a,c=s===0?0:o/s,u=s/255;switch(s){case i:a=0;break;case t:a=e-n+o*(e<n?6:0),a/=6*o;break;case e:a=n-t+o*2,a/=6*o;break;case n:a=t-e+o*4,a/=6*o;break}return[a,c,u]}function addSaturationToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=(function(){var t=[],e,n;for(e=0;e<256;e+=1)n=e.toString(16),t[e]=n.length===1?"0"+n:n;return function(s,i,o){return s<0&&(s=0),i<0&&(i=0),o<0&&(o=0),"#"+t[s]+t[i]+t[o]}})(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}var dataManager=(function(){var t=1,e=[],n,s,i={onmessage:function(){},postMessage:function(E){n({data:E})}},o={postMessage:function(E){i.onmessage({data:E})}};function a(x){if(window.Worker&&window.Blob&&getWebWorker()){var E=new Blob(["var _workerSelf = self; self.onmessage = ",x.toString()],{type:"text/javascript"}),T=URL.createObjectURL(E);return new Worker(T)}return n=x,i}function c(){s||(s=a(function(E){function T(){function k(Re,G){var q,M,z=Re.length,ee,W,ie,se;for(M=0;M<z;M+=1)if(q=Re[M],"ks"in q&&!q.completed){if(q.completed=!0,q.hasMask){var Pe=q.masksProperties;for(W=Pe.length,ee=0;ee<W;ee+=1)if(Pe[ee].pt.k.i)O(Pe[ee].pt.k);else for(se=Pe[ee].pt.k.length,ie=0;ie<se;ie+=1)Pe[ee].pt.k[ie].s&&O(Pe[ee].pt.k[ie].s[0]),Pe[ee].pt.k[ie].e&&O(Pe[ee].pt.k[ie].e[0])}q.ty===0?(q.layers=A(q.refId,G),k(q.layers,G)):q.ty===4?j(q.shapes):q.ty===5&&K(q)}}function I(Re,G){if(Re){var q=0,M=Re.length;for(q=0;q<M;q+=1)Re[q].t===1&&(Re[q].data.layers=A(Re[q].data.refId,G),k(Re[q].data.layers,G))}}function P(Re,G){for(var q=0,M=G.length;q<M;){if(G[q].id===Re)return G[q];q+=1}return null}function A(Re,G){var q=P(Re,G);return q?q.layers.__used?JSON.parse(JSON.stringify(q.layers)):(q.layers.__used=!0,q.layers):null}function j(Re){var G,q=Re.length,M,z;for(G=q-1;G>=0;G-=1)if(Re[G].ty==="sh")if(Re[G].ks.k.i)O(Re[G].ks.k);else for(z=Re[G].ks.k.length,M=0;M<z;M+=1)Re[G].ks.k[M].s&&O(Re[G].ks.k[M].s[0]),Re[G].ks.k[M].e&&O(Re[G].ks.k[M].e[0]);else Re[G].ty==="gr"&&j(Re[G].it)}function O(Re){var G,q=Re.i.length;for(G=0;G<q;G+=1)Re.i[G][0]+=Re.v[G][0],Re.i[G][1]+=Re.v[G][1],Re.o[G][0]+=Re.v[G][0],Re.o[G][1]+=Re.v[G][1]}function $(Re,G){var q=G?G.split("."):[100,100,100];return Re[0]>q[0]?!0:q[0]>Re[0]?!1:Re[1]>q[1]?!0:q[1]>Re[1]?!1:Re[2]>q[2]?!0:q[2]>Re[2]?!1:null}var V=(function(){var Re=[4,4,14];function G(M){var z=M.t.d;M.t.d={k:[{s:z,t:0}]}}function q(M){var z,ee=M.length;for(z=0;z<ee;z+=1)M[z].ty===5&&G(M[z])}return function(M){if($(Re,M.v)&&(q(M.layers),M.assets)){var z,ee=M.assets.length;for(z=0;z<ee;z+=1)M.assets[z].layers&&q(M.assets[z].layers)}}})(),L=(function(){var Re=[4,7,99];return function(G){if(G.chars&&!$(Re,G.v)){var q,M=G.chars.length;for(q=0;q<M;q+=1){var z=G.chars[q];z.data&&z.data.shapes&&(j(z.data.shapes),z.data.ip=0,z.data.op=99999,z.data.st=0,z.data.sr=1,z.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},G.chars[q].t||(z.data.shapes.push({ty:"no"}),z.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),U=(function(){var Re=[5,7,15];function G(M){var z=M.t.p;typeof z.a=="number"&&(z.a={a:0,k:z.a}),typeof z.p=="number"&&(z.p={a:0,k:z.p}),typeof z.r=="number"&&(z.r={a:0,k:z.r})}function q(M){var z,ee=M.length;for(z=0;z<ee;z+=1)M[z].ty===5&&G(M[z])}return function(M){if($(Re,M.v)&&(q(M.layers),M.assets)){var z,ee=M.assets.length;for(z=0;z<ee;z+=1)M.assets[z].layers&&q(M.assets[z].layers)}}})(),J=(function(){var Re=[4,1,9];function G(M){var z,ee=M.length,W,ie;for(z=0;z<ee;z+=1)if(M[z].ty==="gr")G(M[z].it);else if(M[z].ty==="fl"||M[z].ty==="st")if(M[z].c.k&&M[z].c.k[0].i)for(ie=M[z].c.k.length,W=0;W<ie;W+=1)M[z].c.k[W].s&&(M[z].c.k[W].s[0]/=255,M[z].c.k[W].s[1]/=255,M[z].c.k[W].s[2]/=255,M[z].c.k[W].s[3]/=255),M[z].c.k[W].e&&(M[z].c.k[W].e[0]/=255,M[z].c.k[W].e[1]/=255,M[z].c.k[W].e[2]/=255,M[z].c.k[W].e[3]/=255);else M[z].c.k[0]/=255,M[z].c.k[1]/=255,M[z].c.k[2]/=255,M[z].c.k[3]/=255}function q(M){var z,ee=M.length;for(z=0;z<ee;z+=1)M[z].ty===4&&G(M[z].shapes)}return function(M){if($(Re,M.v)&&(q(M.layers),M.assets)){var z,ee=M.assets.length;for(z=0;z<ee;z+=1)M.assets[z].layers&&q(M.assets[z].layers)}}})(),Z=(function(){var Re=[4,4,18];function G(M){var z,ee=M.length,W,ie;for(z=ee-1;z>=0;z-=1)if(M[z].ty==="sh")if(M[z].ks.k.i)M[z].ks.k.c=M[z].closed;else for(ie=M[z].ks.k.length,W=0;W<ie;W+=1)M[z].ks.k[W].s&&(M[z].ks.k[W].s[0].c=M[z].closed),M[z].ks.k[W].e&&(M[z].ks.k[W].e[0].c=M[z].closed);else M[z].ty==="gr"&&G(M[z].it)}function q(M){var z,ee,W=M.length,ie,se,Pe,Ne;for(ee=0;ee<W;ee+=1){if(z=M[ee],z.hasMask){var Oe=z.masksProperties;for(se=Oe.length,ie=0;ie<se;ie+=1)if(Oe[ie].pt.k.i)Oe[ie].pt.k.c=Oe[ie].cl;else for(Ne=Oe[ie].pt.k.length,Pe=0;Pe<Ne;Pe+=1)Oe[ie].pt.k[Pe].s&&(Oe[ie].pt.k[Pe].s[0].c=Oe[ie].cl),Oe[ie].pt.k[Pe].e&&(Oe[ie].pt.k[Pe].e[0].c=Oe[ie].cl)}z.ty===4&&G(z.shapes)}}return function(M){if($(Re,M.v)&&(q(M.layers),M.assets)){var z,ee=M.assets.length;for(z=0;z<ee;z+=1)M.assets[z].layers&&q(M.assets[z].layers)}}})();function Y(Re){Re.__complete||(J(Re),V(Re),L(Re),U(Re),Z(Re),k(Re.layers,Re.assets),I(Re.chars,Re.assets),Re.__complete=!0)}function K(Re){Re.t.a.length===0&&"m"in Re.t.p}var ke={};return ke.completeData=Y,ke.checkColors=J,ke.checkChars=L,ke.checkPathProperties=U,ke.checkShapes=Z,ke.completeLayers=k,ke}if(o.dataManager||(o.dataManager=T()),o.assetLoader||(o.assetLoader=(function(){function k(P){var A=P.getResponseHeader("content-type");return A&&P.responseType==="json"&&A.indexOf("json")!==-1||P.response&&_typeof$5(P.response)==="object"?P.response:P.response&&typeof P.response=="string"?JSON.parse(P.response):P.responseText?JSON.parse(P.responseText):null}function I(P,A,j,O){var $,V=new XMLHttpRequest;try{V.responseType="json"}catch{}V.onreadystatechange=function(){if(V.readyState===4)if(V.status===200)$=k(V),j($);else try{$=k(V),j($)}catch(L){O&&O(L)}};try{V.open(["G","E","T"].join(""),P,!0)}catch{V.open(["G","E","T"].join(""),A+"/"+P,!0)}V.send()}return{load:I}})()),E.data.type==="loadAnimation")o.assetLoader.load(E.data.path,E.data.fullPath,function(k){o.dataManager.completeData(k),o.postMessage({id:E.data.id,payload:k,status:"success"})},function(){o.postMessage({id:E.data.id,status:"error"})});else if(E.data.type==="complete"){var _=E.data.animation;o.dataManager.completeData(_),o.postMessage({id:E.data.id,payload:_,status:"success"})}else E.data.type==="loadData"&&o.assetLoader.load(E.data.path,E.data.fullPath,function(k){o.postMessage({id:E.data.id,payload:k,status:"success"})},function(){o.postMessage({id:E.data.id,status:"error"})})}),s.onmessage=function(x){var E=x.data,T=E.id,_=e[T];e[T]=null,E.status==="success"?_.onComplete(E.payload):_.onError&&_.onError()})}function u(x,E){t+=1;var T="processId_"+t;return e[T]={onComplete:x,onError:E},T}function f(x,E,T){c();var _=u(E,T);s.postMessage({type:"loadAnimation",path:x,fullPath:window.location.origin+window.location.pathname,id:_})}function p(x,E,T){c();var _=u(E,T);s.postMessage({type:"loadData",path:x,fullPath:window.location.origin+window.location.pathname,id:_})}function m(x,E,T){c();var _=u(E,T);s.postMessage({type:"complete",animation:x,id:_})}return{loadAnimation:f,loadData:p,completeAnimation:m}})(),ImagePreloader=(function(){var t=(function(){var I=createTag("canvas");I.width=1,I.height=1;var P=I.getContext("2d");return P.fillStyle="rgba(0,0,0,0)",P.fillRect(0,0,1,1),I})();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(I,P,A){var j="";if(I.e)j=I.p;else if(P){var O=I.p;O.indexOf("images/")!==-1&&(O=O.split("/")[1]),j=P+O}else j=A,j+=I.u?I.u:"",j+=I.p;return j}function i(I){var P=0,A=setInterval((function(){var j=I.getBBox();(j.width||P>500)&&(this._imageLoaded(),clearInterval(A)),P+=1}).bind(this),50)}function o(I){var P=s(I,this.assetsPath,this.path),A=createNS("image");isSafari?this.testImageLoaded(A):A.addEventListener("load",this._imageLoaded,!1),A.addEventListener("error",(function(){j.img=t,this._imageLoaded()}).bind(this),!1),A.setAttributeNS("http://www.w3.org/1999/xlink","href",P),this._elementHelper.append?this._elementHelper.append(A):this._elementHelper.appendChild(A);var j={img:A,assetData:I};return j}function a(I){var P=s(I,this.assetsPath,this.path),A=createTag("img");A.crossOrigin="anonymous",A.addEventListener("load",this._imageLoaded,!1),A.addEventListener("error",(function(){j.img=t,this._imageLoaded()}).bind(this),!1),A.src=P;var j={img:A,assetData:I};return j}function c(I){var P={assetData:I},A=s(I,this.assetsPath,this.path);return dataManager.loadData(A,(function(j){P.img=j,this._footageLoaded()}).bind(this),(function(){P.img={},this._footageLoaded()}).bind(this)),P}function u(I,P){this.imagesLoadedCb=P;var A,j=I.length;for(A=0;A<j;A+=1)I[A].layers||(!I[A].t||I[A].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(I[A]))):I[A].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(I[A]))))}function f(I){this.path=I||""}function p(I){this.assetsPath=I||""}function m(I){for(var P=0,A=this.images.length;P<A;){if(this.images[P].assetData===I)return this.images[P].img;P+=1}return null}function x(){this.imagesLoadedCb=null,this.images.length=0}function E(){return this.totalImages===this.loadedAssets}function T(){return this.totalFootages===this.loadedFootagesCount}function _(I,P){I==="svg"?(this._elementHelper=P,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function k(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=c.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return k.prototype={loadAssets:u,setAssetsPath:p,setPath:f,loadedImages:E,loadedFootages:T,destroy:x,getAsset:m,createImgData:a,createImageData:o,imageLoaded:e,footageLoaded:n,setCacheType:_},k})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,n){if(this._cbs[e])for(var s=this._cbs[e],i=0;i<s.length;i+=1)s[i](n)},addEventListener:function(e,n){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(n),(function(){this.removeEventListener(e,n)}).bind(this)},removeEventListener:function(e,n){if(!n)this._cbs[e]=null;else if(this._cbs[e]){for(var s=0,i=this._cbs[e].length;s<i;)this._cbs[e][s]===n&&(this._cbs[e].splice(s,1),s-=1,i-=1),s+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=(function(){function t(e){for(var n=e.split(`\r
`),s={},i,o=0,a=0;a<n.length;a+=1)i=n[a].split(":"),i.length===2&&(s[i[0]]=i[1].trim(),o+=1);if(o===0)throw new Error;return s}return function(e){for(var n=[],s=0;s<e.length;s+=1){var i=e[s],o={time:i.tm,duration:i.dr};try{o.payload=JSON.parse(e[s].cm)}catch{try{o.payload=t(e[s].cm)}catch{o.payload={name:e[s].cm}}}n.push(o)}return n}})(),ProjectInterface=(function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var s=0,i=this.compositions.length;s<i;){if(this.compositions[s].data&&this.compositions[s].data.nm===n)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}})(),renderers={},registerRenderer=function(e,n){renderers[e]=n};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},s=t.attributes;n.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",n.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";i==="false"?n.loop=!1:i==="true"?n.loop=!0:i!==""&&(n.loop=parseInt(i,10));var o=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:s.getNamedItem("bm-autoplay")?s.getNamedItem("bm-autoplay").value:!0;n.autoplay=o!=="false",n.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"";var a=s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"";a==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,n,s=e.length,i=t.layers,o,a=i.length;for(o=0;o<a;o+=1)for(n=0;n<s;){if(e[n].id===i[o].id){e[n]=i[o];break}n+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,n=0;n<s;n+=1)this.animationData.assets.push(t.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,s=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,s)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if(e=this.markers[n],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!(n&&this.name!==n)){var s=Number(t);if(isNaN(s)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!(n&&this.name!==n)){var s=Number(t);if(isNaN(s)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(s,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,e=0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,s=t.length;for(n=0;n<s;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{var s=this.renderer.getElementByPath(t);s.updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=(function(){var t={},e=[],n=0,s=0,i=0,o=!0,a=!1;function c(G){for(var q=0,M=G.target;q<s;)e[q].animation===M&&(e.splice(q,1),q-=1,s-=1,M.isPaused||m()),q+=1}function u(G,q){if(!G)return null;for(var M=0;M<s;){if(e[M].elem===G&&e[M].elem!==null)return e[M].animation;M+=1}var z=new AnimationItem;return x(z,G),z.setData(G,q),z}function f(){var G,q=e.length,M=[];for(G=0;G<q;G+=1)M.push(e[G].animation);return M}function p(){i+=1,J()}function m(){i-=1}function x(G,q){G.addEventListener("destroy",c),G.addEventListener("_active",p),G.addEventListener("_idle",m),e.push({elem:q,animation:G}),s+=1}function E(G){var q=new AnimationItem;return x(q,null),q.setParams(G),q}function T(G,q){var M;for(M=0;M<s;M+=1)e[M].animation.setSpeed(G,q)}function _(G,q){var M;for(M=0;M<s;M+=1)e[M].animation.setDirection(G,q)}function k(G){var q;for(q=0;q<s;q+=1)e[q].animation.play(G)}function I(G){var q=G-n,M;for(M=0;M<s;M+=1)e[M].animation.advanceTime(q);n=G,i&&!a?window.requestAnimationFrame(I):o=!0}function P(G){n=G,window.requestAnimationFrame(I)}function A(G){var q;for(q=0;q<s;q+=1)e[q].animation.pause(G)}function j(G,q,M){var z;for(z=0;z<s;z+=1)e[z].animation.goToAndStop(G,q,M)}function O(G){var q;for(q=0;q<s;q+=1)e[q].animation.stop(G)}function $(G){var q;for(q=0;q<s;q+=1)e[q].animation.togglePause(G)}function V(G){var q;for(q=s-1;q>=0;q-=1)e[q].animation.destroy(G)}function L(G,q,M){var z=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ee,W=z.length;for(ee=0;ee<W;ee+=1)M&&z[ee].setAttribute("data-bm-type",M),u(z[ee],G);if(q&&W===0){M||(M="svg");var ie=document.getElementsByTagName("body")[0];ie.innerText="";var se=createTag("div");se.style.width="100%",se.style.height="100%",se.setAttribute("data-bm-type",M),ie.appendChild(se),u(se,G)}}function U(){var G;for(G=0;G<s;G+=1)e[G].animation.resize()}function J(){!a&&i&&o&&(window.requestAnimationFrame(P),o=!1)}function Z(){a=!0}function Y(){a=!1,J()}function K(G,q){var M;for(M=0;M<s;M+=1)e[M].animation.setVolume(G,q)}function ke(G){var q;for(q=0;q<s;q+=1)e[q].animation.mute(G)}function Re(G){var q;for(q=0;q<s;q+=1)e[q].animation.unmute(G)}return t.registerAnimation=u,t.loadAnimation=E,t.setSpeed=T,t.setDirection=_,t.play=k,t.pause=A,t.stop=O,t.togglePause=$,t.searchAnimations=L,t.resize=U,t.goToAndStop=j,t.destroy=V,t.freeze=Z,t.unfreeze=Y,t.setVolume=K,t.mute=ke,t.unmute=Re,t.getRegisteredAnimations=f,t})(),BezierFactory=(function(){var t={};t.getBezierEasing=n;var e={};function n(P,A,j,O,$){var V=$||("bez_"+P+"_"+A+"_"+j+"_"+O).replace(/\./g,"p");if(e[V])return e[V];var L=new I([P,A,j,O]);return e[V]=L,L}var s=4,i=.001,o=1e-7,a=10,c=11,u=1/(c-1),f=typeof Float32Array=="function";function p(P,A){return 1-3*A+3*P}function m(P,A){return 3*A-6*P}function x(P){return 3*P}function E(P,A,j){return((p(A,j)*P+m(A,j))*P+x(A))*P}function T(P,A,j){return 3*p(A,j)*P*P+2*m(A,j)*P+x(A)}function _(P,A,j,O,$){var V,L,U=0;do L=A+(j-A)/2,V=E(L,O,$)-P,V>0?j=L:A=L;while(Math.abs(V)>o&&++U<a);return L}function k(P,A,j,O){for(var $=0;$<s;++$){var V=T(A,j,O);if(V===0)return A;var L=E(A,j,O)-P;A-=L/V}return A}function I(P){this._p=P,this._mSampleValues=f?new Float32Array(c):new Array(c),this._precomputed=!1,this.get=this.get.bind(this)}return I.prototype={get:function(A){var j=this._p[0],O=this._p[1],$=this._p[2],V=this._p[3];return this._precomputed||this._precompute(),j===O&&$===V?A:A===0?0:A===1?1:E(this._getTForX(A),O,V)},_precompute:function(){var A=this._p[0],j=this._p[1],O=this._p[2],$=this._p[3];this._precomputed=!0,(A!==j||O!==$)&&this._calcSampleValues()},_calcSampleValues:function(){for(var A=this._p[0],j=this._p[2],O=0;O<c;++O)this._mSampleValues[O]=E(O*u,A,j)},_getTForX:function(A){for(var j=this._p[0],O=this._p[2],$=this._mSampleValues,V=0,L=1,U=c-1;L!==U&&$[L]<=A;++L)V+=u;--L;var J=(A-$[L])/($[L+1]-$[L]),Z=V+J*u,Y=T(Z,j,O);return Y>=i?k(A,Z,j,O):Y===0?Z:_(A,V,V+u,j,O)}},t})(),pooling=(function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}})(),poolFactory=(function(){return function(t,e,n){var s=0,i=t,o=createSizedArray(i),a={newElement:c,release:u};function c(){var f;return s?(s-=1,f=o[s]):f=e(),f}function u(f){s===i&&(o=pooling.double(o),i*=2),n&&n(f),o[s]=f,s+=1}return a}})(),bezierLengthPool=(function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)})(),segmentsLengthPool=(function(){function t(){return{lengths:[],totalLength:0}}function e(n){var s,i=n.lengths.length;for(s=0;s<i;s+=1)bezierLengthPool.release(n.lengths[s]);n.lengths.length=0}return poolFactory(8,t,e)})();function bezFunction(){var t=Math;function e(x,E,T,_,k,I){var P=x*_+E*k+T*I-k*_-I*x-T*E;return P>-.001&&P<.001}function n(x,E,T,_,k,I,P,A,j){if(T===0&&I===0&&j===0)return e(x,E,_,k,P,A);var O=t.sqrt(t.pow(_-x,2)+t.pow(k-E,2)+t.pow(I-T,2)),$=t.sqrt(t.pow(P-x,2)+t.pow(A-E,2)+t.pow(j-T,2)),V=t.sqrt(t.pow(P-_,2)+t.pow(A-k,2)+t.pow(j-I,2)),L;return O>$?O>V?L=O-$-V:L=V-$-O:V>$?L=V-$-O:L=$-O-V,L>-1e-4&&L<1e-4}var s=(function(){return function(x,E,T,_){var k=getDefaultCurveSegments(),I,P,A,j,O,$=0,V,L=[],U=[],J=bezierLengthPool.newElement();for(A=T.length,I=0;I<k;I+=1){for(O=I/(k-1),V=0,P=0;P<A;P+=1)j=bmPow(1-O,3)*x[P]+3*bmPow(1-O,2)*O*T[P]+3*(1-O)*bmPow(O,2)*_[P]+bmPow(O,3)*E[P],L[P]=j,U[P]!==null&&(V+=bmPow(L[P]-U[P],2)),U[P]=L[P];V&&(V=bmSqrt(V),$+=V),J.percents[I]=O,J.lengths[I]=$}return J.addedLength=$,J}})();function i(x){var E=segmentsLengthPool.newElement(),T=x.c,_=x.v,k=x.o,I=x.i,P,A=x._length,j=E.lengths,O=0;for(P=0;P<A-1;P+=1)j[P]=s(_[P],_[P+1],k[P],I[P+1]),O+=j[P].addedLength;return T&&A&&(j[P]=s(_[P],_[0],k[P],I[0]),O+=j[P].addedLength),E.totalLength=O,E}function o(x){this.segmentLength=0,this.points=new Array(x)}function a(x,E){this.partialLength=x,this.point=E}var c=(function(){var x={};return function(E,T,_,k){var I=(E[0]+"_"+E[1]+"_"+T[0]+"_"+T[1]+"_"+_[0]+"_"+_[1]+"_"+k[0]+"_"+k[1]).replace(/\./g,"p");if(!x[I]){var P=getDefaultCurveSegments(),A,j,O,$,V,L=0,U,J,Z=null;E.length===2&&(E[0]!==T[0]||E[1]!==T[1])&&e(E[0],E[1],T[0],T[1],E[0]+_[0],E[1]+_[1])&&e(E[0],E[1],T[0],T[1],T[0]+k[0],T[1]+k[1])&&(P=2);var Y=new o(P);for(O=_.length,A=0;A<P;A+=1){for(J=createSizedArray(O),V=A/(P-1),U=0,j=0;j<O;j+=1)$=bmPow(1-V,3)*E[j]+3*bmPow(1-V,2)*V*(E[j]+_[j])+3*(1-V)*bmPow(V,2)*(T[j]+k[j])+bmPow(V,3)*T[j],J[j]=$,Z!==null&&(U+=bmPow(J[j]-Z[j],2));U=bmSqrt(U),L+=U,Y.points[A]=new a(U,J),Z=J}Y.segmentLength=L,x[I]=Y}return x[I]}})();function u(x,E){var T=E.percents,_=E.lengths,k=T.length,I=bmFloor((k-1)*x),P=x*E.addedLength,A=0;if(I===k-1||I===0||P===_[I])return T[I];for(var j=_[I]>P?-1:1,O=!0;O;)if(_[I]<=P&&_[I+1]>P?(A=(P-_[I])/(_[I+1]-_[I]),O=!1):I+=j,I<0||I>=k-1){if(I===k-1)return T[I];O=!1}return T[I]+(T[I+1]-T[I])*A}function f(x,E,T,_,k,I){var P=u(k,I),A=1-P,j=t.round((A*A*A*x[0]+(P*A*A+A*P*A+A*A*P)*T[0]+(P*P*A+A*P*P+P*A*P)*_[0]+P*P*P*E[0])*1e3)/1e3,O=t.round((A*A*A*x[1]+(P*A*A+A*P*A+A*A*P)*T[1]+(P*P*A+A*P*P+P*A*P)*_[1]+P*P*P*E[1])*1e3)/1e3;return[j,O]}var p=createTypedArray("float32",8);function m(x,E,T,_,k,I,P){k<0?k=0:k>1&&(k=1);var A=u(k,P);I=I>1?1:I;var j=u(I,P),O,$=x.length,V=1-A,L=1-j,U=V*V*V,J=A*V*V*3,Z=A*A*V*3,Y=A*A*A,K=V*V*L,ke=A*V*L+V*A*L+V*V*j,Re=A*A*L+V*A*j+A*V*j,G=A*A*j,q=V*L*L,M=A*L*L+V*j*L+V*L*j,z=A*j*L+V*j*j+A*L*j,ee=A*j*j,W=L*L*L,ie=j*L*L+L*j*L+L*L*j,se=j*j*L+L*j*j+j*L*j,Pe=j*j*j;for(O=0;O<$;O+=1)p[O*4]=t.round((U*x[O]+J*T[O]+Z*_[O]+Y*E[O])*1e3)/1e3,p[O*4+1]=t.round((K*x[O]+ke*T[O]+Re*_[O]+G*E[O])*1e3)/1e3,p[O*4+2]=t.round((q*x[O]+M*T[O]+z*_[O]+ee*E[O])*1e3)/1e3,p[O*4+3]=t.round((W*x[O]+ie*T[O]+se*_[O]+Pe*E[O])*1e3)/1e3;return p}return{getSegmentsLength:i,getNewSegment:m,getPointInSegment:f,buildBezierData:c,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n=this.offsetTime,s;this.propType==="multidimensional"&&(s=createTypedArray("float32",this.pv.length));for(var i=e.lastIndex,o=i,a=this.keyframes.length-1,c=!0,u,f,p;c;){if(u=this.keyframes[o],f=this.keyframes[o+1],o===a-1&&t>=f.t-n){u.h&&(u=f),i=0;break}if(f.t-n>t){i=o;break}o<a-1?o+=1:(i=0,c=!1)}p=this.keyframesMetadata[o]||{};var m,x,E,T,_,k,I=f.t-n,P=u.t-n,A;if(u.to){p.bezierData||(p.bezierData=bez.buildBezierData(u.s,f.s||u.e,u.to,u.ti));var j=p.bezierData;if(t>=I||t<P){var O=t>=I?j.points.length-1:0;for(x=j.points[O].point.length,m=0;m<x;m+=1)s[m]=j.points[O].point[m]}else{p.__fnct?k=p.__fnct:(k=BezierFactory.getBezierEasing(u.o.x,u.o.y,u.i.x,u.i.y,u.n).get,p.__fnct=k),E=k((t-P)/(I-P));var $=j.segmentLength*E,V,L=e.lastFrame<t&&e._lastKeyframeIndex===o?e._lastAddedLength:0;for(_=e.lastFrame<t&&e._lastKeyframeIndex===o?e._lastPoint:0,c=!0,T=j.points.length;c;){if(L+=j.points[_].partialLength,$===0||E===0||_===j.points.length-1){for(x=j.points[_].point.length,m=0;m<x;m+=1)s[m]=j.points[_].point[m];break}else if($>=L&&$<L+j.points[_+1].partialLength){for(V=($-L)/j.points[_+1].partialLength,x=j.points[_].point.length,m=0;m<x;m+=1)s[m]=j.points[_].point[m]+(j.points[_+1].point[m]-j.points[_].point[m])*V;break}_<T-1?_+=1:c=!1}e._lastPoint=_,e._lastAddedLength=L-j.points[_].partialLength,e._lastKeyframeIndex=o}}else{var U,J,Z,Y,K;if(a=u.s.length,A=f.s||u.e,this.sh&&u.h!==1)if(t>=I)s[0]=A[0],s[1]=A[1],s[2]=A[2];else if(t<=P)s[0]=u.s[0],s[1]=u.s[1],s[2]=u.s[2];else{var ke=createQuaternion(u.s),Re=createQuaternion(A),G=(t-P)/(I-P);quaternionToEuler(s,slerp(ke,Re,G))}else for(o=0;o<a;o+=1)u.h!==1&&(t>=I?E=1:t<P?E=0:(u.o.x.constructor===Array?(p.__fnct||(p.__fnct=[]),p.__fnct[o]?k=p.__fnct[o]:(U=u.o.x[o]===void 0?u.o.x[0]:u.o.x[o],J=u.o.y[o]===void 0?u.o.y[0]:u.o.y[o],Z=u.i.x[o]===void 0?u.i.x[0]:u.i.x[o],Y=u.i.y[o]===void 0?u.i.y[0]:u.i.y[o],k=BezierFactory.getBezierEasing(U,J,Z,Y).get,p.__fnct[o]=k)):p.__fnct?k=p.__fnct:(U=u.o.x,J=u.o.y,Z=u.i.x,Y=u.i.y,k=BezierFactory.getBezierEasing(U,J,Z,Y).get,u.keyframeMetadata=k),E=k((t-P)/(I-P)))),A=f.s||u.e,K=u.h===1?u.s[o]:u.s[o]+(A[o]-u.s[o])*E,this.propType==="multidimensional"?s[o]=K:s=K}return e.lastIndex=i,s}function slerp(t,e,n){var s=[],i=t[0],o=t[1],a=t[2],c=t[3],u=e[0],f=e[1],p=e[2],m=e[3],x,E,T,_,k;return E=i*u+o*f+a*p+c*m,E<0&&(E=-E,u=-u,f=-f,p=-p,m=-m),1-E>1e-6?(x=Math.acos(E),T=Math.sin(x),_=Math.sin((1-n)*x)/T,k=Math.sin(n*x)/T):(_=1-n,k=n),s[0]=_*i+k*u,s[1]=_*o+k*f,s[2]=_*a+k*p,s[3]=_*c+k*m,s}function quaternionToEuler(t,e){var n=e[0],s=e[1],i=e[2],o=e[3],a=Math.atan2(2*s*o-2*n*i,1-2*s*s-2*i*i),c=Math.asin(2*n*s+2*i*o),u=Math.atan2(2*n*o-2*s*i,1-2*n*n-2*i*i);t[0]=a/degToRads,t[1]=c/degToRads,t[2]=u/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,s=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(n/2),a=Math.cos(s/2),c=Math.sin(e/2),u=Math.sin(n/2),f=Math.sin(s/2),p=i*o*a-c*u*f,m=c*u*a+i*o*f,x=c*o*a+i*u*f,E=i*u*a-c*o*f;return[m,x,E,p]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(t,this._caching);this.pv=s}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,s=this.v.length;n<s;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,s){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,s){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,o=e.k.length;for(this.v=createTypedArray("float32",o),this.pv=createTypedArray("float32",o),this.vel=createTypedArray("float32",o),i=0;i<o;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,s){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=s,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,s){this.propType="multidimensional";var i,o=e.k.length,a,c,u,f;for(i=0;i<o-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(a=e.k[i].s,c=e.k[i+1].s,u=e.k[i].to,f=e.k[i].ti,(a.length===2&&!(a[0]===c[0]&&a[1]===c[1])&&bez.pointOnLine2D(a[0],a[1],c[0],c[1],a[0]+u[0],a[1]+u[1])&&bez.pointOnLine2D(a[0],a[1],c[0],c[1],c[0]+f[0],c[1]+f[1])||a.length===3&&!(a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2])&&bez.pointOnLine3D(a[0],a[1],a[2],c[0],c[1],c[2],a[0]+u[0],a[1]+u[1],a[2]+u[2])&&bez.pointOnLine3D(a[0],a[1],a[2],c[0],c[1],c[2],c[0]+f[0],c[1]+f[1],c[2]+f[2]))&&(e.k[i].to=null,e.k[i].ti=null),a[0]===c[0]&&a[1]===c[1]&&u[0]===0&&u[1]===0&&f[0]===0&&f[1]===0&&(a.length===2||a[2]===c[2]&&u[2]===0&&f[2]===0)&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=s,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var p=e.k[0].s.length;for(this.v=createTypedArray("float32",p),this.pv=createTypedArray("float32",p),i=0;i<p;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",p)},this.addEffect=addEffect}var PropertyFactory=(function(){function t(n,s,i,o,a){s.sid&&(s=n.globalData.slotManager.getProp(s));var c;if(!s.k.length)c=new ValueProperty(n,s,o,a);else if(typeof s.k[0]=="number")c=new MultiDimensionalProperty(n,s,o,a);else switch(i){case 0:c=new KeyframedValueProperty(n,s,o,a);break;case 1:c=new KeyframedMultidimensionalProperty(n,s,o,a);break}return c.effectsSequence.length&&a.addDynamicProperty(c),c}var e={getProp:t};return e})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,n=this.dynamicProperties.length;for(e=0;e<n;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,s,i){var o;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[];break}(!o[s]||o[s]&&!i)&&(o[s]=pointPool.newElement()),o[s][0]=t,o[s][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,s,i,o,a,c){this.setXYAt(t,e,"v",a,c),this.setXYAt(n,s,"o",a,c),this.setXYAt(i,o,"i",a,c)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,s=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],s[0][0],s[0][1],n[0][0],n[0][1],0,!1),i=1);var o=this._length-1,a=this._length,c;for(c=i;c<a;c+=1)t.setTripleAt(e[o][0],e[o][1],s[o][0],s[o][1],n[o][0],n[o][1],c,!1),o-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function t(){return new ShapePath}function e(i){var o=i._length,a;for(a=0;a<o;a+=1)pointPool.release(i.v[a]),pointPool.release(i.i[a]),pointPool.release(i.o[a]),i.v[a]=null,i.i[a]=null,i.o[a]=null;i._length=0,i.c=!1}function n(i){var o=s.newElement(),a,c=i._length===void 0?i.v.length:i._length;for(o.setLength(c),o.c=i.c,a=0;a<c;a+=1)o.setTripleAt(i.v[a][0],i.v[a][1],i.o[a][0],i.o[a][1],i.i[a][0],i.i[a][1],a);return o}var s=poolFactory(4,t,e);return s.clone=n,s})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(function(){var t={newShapeCollection:i,release:o},e=0,n=4,s=createSizedArray(n);function i(){var a;return e?(e-=1,a=s[e]):a=new ShapeCollection,a}function o(a){var c,u=a._length;for(c=0;c<u;c+=1)shapePool.release(a.shapes[c]);a._length=0,e===n&&(s=pooling.double(s),n*=2),s[e]=a,e+=1}return t})(),ShapePropertyFactory=(function(){var t=-999999;function e(I,P,A){var j=A.lastIndex,O,$,V,L,U,J,Z,Y,K,ke=this.keyframes;if(I<ke[0].t-this.offsetTime)O=ke[0].s[0],V=!0,j=0;else if(I>=ke[ke.length-1].t-this.offsetTime)O=ke[ke.length-1].s?ke[ke.length-1].s[0]:ke[ke.length-2].e[0],V=!0;else{for(var Re=j,G=ke.length-1,q=!0,M,z,ee;q&&(M=ke[Re],z=ke[Re+1],!(z.t-this.offsetTime>I));)Re<G-1?Re+=1:q=!1;if(ee=this.keyframesMetadata[Re]||{},V=M.h===1,j=Re,!V){if(I>=z.t-this.offsetTime)Y=1;else if(I<M.t-this.offsetTime)Y=0;else{var W;ee.__fnct?W=ee.__fnct:(W=BezierFactory.getBezierEasing(M.o.x,M.o.y,M.i.x,M.i.y).get,ee.__fnct=W),Y=W((I-(M.t-this.offsetTime))/(z.t-this.offsetTime-(M.t-this.offsetTime)))}$=z.s?z.s[0]:M.e[0]}O=M.s[0]}for(J=P._length,Z=O.i[0].length,A.lastIndex=j,L=0;L<J;L+=1)for(U=0;U<Z;U+=1)K=V?O.i[L][U]:O.i[L][U]+($.i[L][U]-O.i[L][U])*Y,P.i[L][U]=K,K=V?O.o[L][U]:O.o[L][U]+($.o[L][U]-O.o[L][U])*Y,P.o[L][U]=K,K=V?O.v[L][U]:O.v[L][U]+($.v[L][U]-O.v[L][U])*Y,P.v[L][U]=K}function n(){var I=this.comp.renderedFrame-this.offsetTime,P=this.keyframes[0].t-this.offsetTime,A=this.keyframes[this.keyframes.length-1].t-this.offsetTime,j=this._caching.lastFrame;return j!==t&&(j<P&&I<P||j>A&&I>A)||(this._caching.lastIndex=j<I?this._caching.lastIndex:0,this.interpolateShape(I,this.pv,this._caching)),this._caching.lastFrame=I,this.pv}function s(){this.paths=this.localShapeCollection}function i(I,P){if(I._length!==P._length||I.c!==P.c)return!1;var A,j=I._length;for(A=0;A<j;A+=1)if(I.v[A][0]!==P.v[A][0]||I.v[A][1]!==P.v[A][1]||I.o[A][0]!==P.o[A][0]||I.o[A][1]!==P.o[A][1]||I.i[A][0]!==P.i[A][0]||I.i[A][1]!==P.i[A][1])return!1;return!0}function o(I){i(this.v,I)||(this.v=shapePool.clone(I),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var I;this.kf?I=this.pv:this.data.ks?I=this.data.ks.k:I=this.data.pt.k;var P,A=this.effectsSequence.length;for(P=0;P<A;P+=1)I=this.effectsSequence[P](I);this.setVValue(I),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function c(I,P,A){this.propType="shape",this.comp=I.comp,this.container=I,this.elem=I,this.data=P,this.k=!1,this.kf=!1,this._mdf=!1;var j=A===3?P.pt.k:P.ks.k;this.v=shapePool.clone(j),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function u(I){this.effectsSequence.push(I),this.container.addDynamicProperty(this)}c.prototype.interpolateShape=e,c.prototype.getValue=a,c.prototype.setVValue=o,c.prototype.addEffect=u;function f(I,P,A){this.propType="shape",this.comp=I.comp,this.elem=I,this.container=I,this.offsetTime=I.data.st,this.keyframes=A===3?P.pt.k:P.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var j=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,j),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}f.prototype.getValue=a,f.prototype.interpolateShape=e,f.prototype.setVValue=o,f.prototype.addEffect=u;var p=(function(){var I=roundCorner;function P(A,j){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=j.d,this.elem=A,this.comp=A.comp,this.frameId=-1,this.initDynamicPropertyContainer(A),this.p=PropertyFactory.getProp(A,j.p,1,0,this),this.s=PropertyFactory.getProp(A,j.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return P.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var j=this.p.v[0],O=this.p.v[1],$=this.s.v[0]/2,V=this.s.v[1]/2,L=this.d!==3,U=this.v;U.v[0][0]=j,U.v[0][1]=O-V,U.v[1][0]=L?j+$:j-$,U.v[1][1]=O,U.v[2][0]=j,U.v[2][1]=O+V,U.v[3][0]=L?j-$:j+$,U.v[3][1]=O,U.i[0][0]=L?j-$*I:j+$*I,U.i[0][1]=O-V,U.i[1][0]=L?j+$:j-$,U.i[1][1]=O-V*I,U.i[2][0]=L?j+$*I:j-$*I,U.i[2][1]=O+V,U.i[3][0]=L?j-$:j+$,U.i[3][1]=O+V*I,U.o[0][0]=L?j+$*I:j-$*I,U.o[0][1]=O-V,U.o[1][0]=L?j+$:j-$,U.o[1][1]=O+V*I,U.o[2][0]=L?j-$*I:j+$*I,U.o[2][1]=O+V,U.o[3][0]=L?j-$:j+$,U.o[3][1]=O-V*I}},extendPrototype([DynamicPropertyContainer],P),P})(),m=(function(){function I(P,A){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=P,this.comp=P.comp,this.data=A,this.frameId=-1,this.d=A.d,this.initDynamicPropertyContainer(P),A.sy===1?(this.ir=PropertyFactory.getProp(P,A.ir,0,0,this),this.is=PropertyFactory.getProp(P,A.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(P,A.pt,0,0,this),this.p=PropertyFactory.getProp(P,A.p,1,0,this),this.r=PropertyFactory.getProp(P,A.r,0,degToRads,this),this.or=PropertyFactory.getProp(P,A.or,0,0,this),this.os=PropertyFactory.getProp(P,A.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return I.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var A=Math.floor(this.pt.v)*2,j=Math.PI*2/A,O=!0,$=this.or.v,V=this.ir.v,L=this.os.v,U=this.is.v,J=2*Math.PI*$/(A*2),Z=2*Math.PI*V/(A*2),Y,K,ke,Re,G=-Math.PI/2;G+=this.r.v;var q=this.data.d===3?-1:1;for(this.v._length=0,Y=0;Y<A;Y+=1){K=O?$:V,ke=O?L:U,Re=O?J:Z;var M=K*Math.cos(G),z=K*Math.sin(G),ee=M===0&&z===0?0:z/Math.sqrt(M*M+z*z),W=M===0&&z===0?0:-M/Math.sqrt(M*M+z*z);M+=+this.p.v[0],z+=+this.p.v[1],this.v.setTripleAt(M,z,M-ee*Re*ke*q,z-W*Re*ke*q,M+ee*Re*ke*q,z+W*Re*ke*q,Y,!0),O=!O,G+=j*q}},convertPolygonToPath:function(){var A=Math.floor(this.pt.v),j=Math.PI*2/A,O=this.or.v,$=this.os.v,V=2*Math.PI*O/(A*4),L,U=-Math.PI*.5,J=this.data.d===3?-1:1;for(U+=this.r.v,this.v._length=0,L=0;L<A;L+=1){var Z=O*Math.cos(U),Y=O*Math.sin(U),K=Z===0&&Y===0?0:Y/Math.sqrt(Z*Z+Y*Y),ke=Z===0&&Y===0?0:-Z/Math.sqrt(Z*Z+Y*Y);Z+=+this.p.v[0],Y+=+this.p.v[1],this.v.setTripleAt(Z,Y,Z-K*V*$*J,Y-ke*V*$*J,Z+K*V*$*J,Y+ke*V*$*J,L,!0),U+=j*J}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],I),I})(),x=(function(){function I(P,A){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=P,this.comp=P.comp,this.frameId=-1,this.d=A.d,this.initDynamicPropertyContainer(P),this.p=PropertyFactory.getProp(P,A.p,1,0,this),this.s=PropertyFactory.getProp(P,A.s,1,0,this),this.r=PropertyFactory.getProp(P,A.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return I.prototype={convertRectToPath:function(){var A=this.p.v[0],j=this.p.v[1],O=this.s.v[0]/2,$=this.s.v[1]/2,V=bmMin(O,$,this.r.v),L=V*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(A+O,j-$+V,A+O,j-$+V,A+O,j-$+L,0,!0),this.v.setTripleAt(A+O,j+$-V,A+O,j+$-L,A+O,j+$-V,1,!0),V!==0?(this.v.setTripleAt(A+O-V,j+$,A+O-V,j+$,A+O-L,j+$,2,!0),this.v.setTripleAt(A-O+V,j+$,A-O+L,j+$,A-O+V,j+$,3,!0),this.v.setTripleAt(A-O,j+$-V,A-O,j+$-V,A-O,j+$-L,4,!0),this.v.setTripleAt(A-O,j-$+V,A-O,j-$+L,A-O,j-$+V,5,!0),this.v.setTripleAt(A-O+V,j-$,A-O+V,j-$,A-O+L,j-$,6,!0),this.v.setTripleAt(A+O-V,j-$,A+O-L,j-$,A+O-V,j-$,7,!0)):(this.v.setTripleAt(A-O,j+$,A-O+L,j+$,A-O,j+$,2),this.v.setTripleAt(A-O,j-$,A-O,j-$+L,A-O,j-$,3))):(this.v.setTripleAt(A+O,j-$+V,A+O,j-$+L,A+O,j-$+V,0,!0),V!==0?(this.v.setTripleAt(A+O-V,j-$,A+O-V,j-$,A+O-L,j-$,1,!0),this.v.setTripleAt(A-O+V,j-$,A-O+L,j-$,A-O+V,j-$,2,!0),this.v.setTripleAt(A-O,j-$+V,A-O,j-$+V,A-O,j-$+L,3,!0),this.v.setTripleAt(A-O,j+$-V,A-O,j+$-L,A-O,j+$-V,4,!0),this.v.setTripleAt(A-O+V,j+$,A-O+V,j+$,A-O+L,j+$,5,!0),this.v.setTripleAt(A+O-V,j+$,A+O-L,j+$,A+O-V,j+$,6,!0),this.v.setTripleAt(A+O,j+$-V,A+O,j+$-V,A+O,j+$-L,7,!0)):(this.v.setTripleAt(A-O,j-$,A-O+L,j-$,A-O,j-$,1,!0),this.v.setTripleAt(A-O,j+$,A-O,j+$-L,A-O,j+$,2,!0),this.v.setTripleAt(A+O,j+$,A+O-L,j+$,A+O,j+$,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],I),I})();function E(I,P,A){var j;if(A===3||A===4){var O=A===3?P.pt:P.ks,$=O.k;$.length?j=new f(I,P,A):j=new c(I,P,A)}else A===5?j=new x(I,P):A===6?j=new p(I,P):A===7&&(j=new m(I,P));return j.k&&I.addDynamicProperty(j),j}function T(){return c}function _(){return f}var k={};return k.getShapeProp=E,k.getConstructorFunction=T,k.getKeyframedConstructorFunction=_,k})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var t=Math.cos,e=Math.sin,n=Math.tan,s=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(M){if(M===0)return this;var z=t(M),ee=e(M);return this._t(z,-ee,0,0,ee,z,0,0,0,0,1,0,0,0,0,1)}function a(M){if(M===0)return this;var z=t(M),ee=e(M);return this._t(1,0,0,0,0,z,-ee,0,0,ee,z,0,0,0,0,1)}function c(M){if(M===0)return this;var z=t(M),ee=e(M);return this._t(z,0,ee,0,0,1,0,0,-ee,0,z,0,0,0,0,1)}function u(M){if(M===0)return this;var z=t(M),ee=e(M);return this._t(z,-ee,0,0,ee,z,0,0,0,0,1,0,0,0,0,1)}function f(M,z){return this._t(1,z,M,1,0,0)}function p(M,z){return this.shear(n(M),n(z))}function m(M,z){var ee=t(z),W=e(z);return this._t(ee,W,0,0,-W,ee,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(M),1,0,0,0,0,1,0,0,0,0,1)._t(ee,-W,0,0,W,ee,0,0,0,0,1,0,0,0,0,1)}function x(M,z,ee){return!ee&&ee!==0&&(ee=1),M===1&&z===1&&ee===1?this:this._t(M,0,0,0,0,z,0,0,0,0,ee,0,0,0,0,1)}function E(M,z,ee,W,ie,se,Pe,Ne,Oe,je,Be,We,Ue,Ze,ot,Je){return this.props[0]=M,this.props[1]=z,this.props[2]=ee,this.props[3]=W,this.props[4]=ie,this.props[5]=se,this.props[6]=Pe,this.props[7]=Ne,this.props[8]=Oe,this.props[9]=je,this.props[10]=Be,this.props[11]=We,this.props[12]=Ue,this.props[13]=Ze,this.props[14]=ot,this.props[15]=Je,this}function T(M,z,ee){return ee=ee||0,M!==0||z!==0||ee!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,M,z,ee,1):this}function _(M,z,ee,W,ie,se,Pe,Ne,Oe,je,Be,We,Ue,Ze,ot,Je){var He=this.props;if(M===1&&z===0&&ee===0&&W===0&&ie===0&&se===1&&Pe===0&&Ne===0&&Oe===0&&je===0&&Be===1&&We===0)return He[12]=He[12]*M+He[15]*Ue,He[13]=He[13]*se+He[15]*Ze,He[14]=He[14]*Be+He[15]*ot,He[15]*=Je,this._identityCalculated=!1,this;var Ge=He[0],at=He[1],et=He[2],lt=He[3],pt=He[4],Tt=He[5],yt=He[6],_t=He[7],Pt=He[8],Lt=He[9],Jt=He[10],Ct=He[11],It=He[12],Yt=He[13],Zt=He[14],er=He[15];return He[0]=Ge*M+at*ie+et*Oe+lt*Ue,He[1]=Ge*z+at*se+et*je+lt*Ze,He[2]=Ge*ee+at*Pe+et*Be+lt*ot,He[3]=Ge*W+at*Ne+et*We+lt*Je,He[4]=pt*M+Tt*ie+yt*Oe+_t*Ue,He[5]=pt*z+Tt*se+yt*je+_t*Ze,He[6]=pt*ee+Tt*Pe+yt*Be+_t*ot,He[7]=pt*W+Tt*Ne+yt*We+_t*Je,He[8]=Pt*M+Lt*ie+Jt*Oe+Ct*Ue,He[9]=Pt*z+Lt*se+Jt*je+Ct*Ze,He[10]=Pt*ee+Lt*Pe+Jt*Be+Ct*ot,He[11]=Pt*W+Lt*Ne+Jt*We+Ct*Je,He[12]=It*M+Yt*ie+Zt*Oe+er*Ue,He[13]=It*z+Yt*se+Zt*je+er*Ze,He[14]=It*ee+Yt*Pe+Zt*Be+er*ot,He[15]=It*W+Yt*Ne+Zt*We+er*Je,this._identityCalculated=!1,this}function k(M){var z=M.props;return this.transform(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15])}function I(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function P(M){for(var z=0;z<16;){if(M.props[z]!==this.props[z])return!1;z+=1}return!0}function A(M){var z;for(z=0;z<16;z+=1)M.props[z]=this.props[z];return M}function j(M){var z;for(z=0;z<16;z+=1)this.props[z]=M[z]}function O(M,z,ee){return{x:M*this.props[0]+z*this.props[4]+ee*this.props[8]+this.props[12],y:M*this.props[1]+z*this.props[5]+ee*this.props[9]+this.props[13],z:M*this.props[2]+z*this.props[6]+ee*this.props[10]+this.props[14]}}function $(M,z,ee){return M*this.props[0]+z*this.props[4]+ee*this.props[8]+this.props[12]}function V(M,z,ee){return M*this.props[1]+z*this.props[5]+ee*this.props[9]+this.props[13]}function L(M,z,ee){return M*this.props[2]+z*this.props[6]+ee*this.props[10]+this.props[14]}function U(){var M=this.props[0]*this.props[5]-this.props[1]*this.props[4],z=this.props[5]/M,ee=-this.props[1]/M,W=-this.props[4]/M,ie=this.props[0]/M,se=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/M,Pe=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/M,Ne=new Matrix;return Ne.props[0]=z,Ne.props[1]=ee,Ne.props[4]=W,Ne.props[5]=ie,Ne.props[12]=se,Ne.props[13]=Pe,Ne}function J(M){var z=this.getInverseMatrix();return z.applyToPointArray(M[0],M[1],M[2]||0)}function Z(M){var z,ee=M.length,W=[];for(z=0;z<ee;z+=1)W[z]=J(M[z]);return W}function Y(M,z,ee){var W=createTypedArray("float32",6);if(this.isIdentity())W[0]=M[0],W[1]=M[1],W[2]=z[0],W[3]=z[1],W[4]=ee[0],W[5]=ee[1];else{var ie=this.props[0],se=this.props[1],Pe=this.props[4],Ne=this.props[5],Oe=this.props[12],je=this.props[13];W[0]=M[0]*ie+M[1]*Pe+Oe,W[1]=M[0]*se+M[1]*Ne+je,W[2]=z[0]*ie+z[1]*Pe+Oe,W[3]=z[0]*se+z[1]*Ne+je,W[4]=ee[0]*ie+ee[1]*Pe+Oe,W[5]=ee[0]*se+ee[1]*Ne+je}return W}function K(M,z,ee){var W;return this.isIdentity()?W=[M,z,ee]:W=[M*this.props[0]+z*this.props[4]+ee*this.props[8]+this.props[12],M*this.props[1]+z*this.props[5]+ee*this.props[9]+this.props[13],M*this.props[2]+z*this.props[6]+ee*this.props[10]+this.props[14]],W}function ke(M,z){if(this.isIdentity())return M+","+z;var ee=this.props;return Math.round((M*ee[0]+z*ee[4]+ee[12])*100)/100+","+Math.round((M*ee[1]+z*ee[5]+ee[13])*100)/100}function Re(){for(var M=0,z=this.props,ee="matrix3d(",W=1e4;M<16;)ee+=s(z[M]*W)/W,ee+=M===15?")":",",M+=1;return ee}function G(M){var z=1e4;return M<1e-6&&M>0||M>-1e-6&&M<0?s(M*z)/z:M}function q(){var M=this.props,z=G(M[0]),ee=G(M[1]),W=G(M[4]),ie=G(M[5]),se=G(M[12]),Pe=G(M[13]);return"matrix("+z+","+ee+","+W+","+ie+","+se+","+Pe+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=c,this.rotateZ=u,this.skew=p,this.skewFromAxis=m,this.shear=f,this.scale=x,this.setTransform=E,this.translate=T,this.transform=_,this.multiply=k,this.applyToPoint=O,this.applyToX=$,this.applyToY=V,this.applyToZ=L,this.applyToPointArray=K,this.applyToTriplePoints=Y,this.applyToPointStringified=ke,this.toCSS=Re,this.to2dCSS=q,this.clone=A,this.cloneFromProps=j,this.equals=P,this.inversePoints=Z,this.inversePoint=J,this.getInverseMatrix=U,this._t=this.transform,this.isIdentity=I,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var s=e[n].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=(function(){var t={},e={};t.registerModifier=n,t.getModifier=s;function n(i,o){e[i]||(e[i]=o)}function s(i,o,a){return new e[i](o,a)}return t})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,s,i){var o=[];e<=1?o.push({s:t,e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var a=[],c,u=o.length,f;for(c=0;c<u;c+=1)if(f=o[c],!(f.e*i<s||f.s*i>s+n)){var p,m;f.s*i<=s?p=0:p=(f.s*i-s)/n,f.e*i>=s+n?m=1:m=(f.e*i-s)/n,a.push([p,m])}return a.length||a.push([0,0]),a},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),this.s.v>1?e=1+s:this.s.v<0?e=0+s:e=this.s.v+s,this.e.v>1?n=1+s:this.e.v<0?n=0+s:n=this.e.v+s,e>n){var i=e;e=n,n=i}e=Math.round(e*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var o,a,c=this.shapes.length,u,f,p,m,x,E=0;if(n===e)for(a=0;a<c;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(a=0;a<c;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var T=[],_,k;for(a=0;a<c;a+=1)if(_=this.shapes[a],!_.shape._mdf&&!this._mdf&&!t&&this.m!==2)_.shape.paths=_.localShapeCollection;else{if(o=_.shape.paths,f=o._length,x=0,!_.shape._mdf&&_.pathsData.length)x=_.totalShapeLength;else{for(p=this.releasePathsData(_.pathsData),u=0;u<f;u+=1)m=bez.getSegmentsLength(o.shapes[u]),p.push(m),x+=m.totalLength;_.totalShapeLength=x,_.pathsData=p}E+=x,_.shape._mdf=!0}var I=e,P=n,A=0,j;for(a=c-1;a>=0;a-=1)if(_=this.shapes[a],_.shape._mdf){for(k=_.localShapeCollection,k.releaseShapes(),this.m===2&&c>1?(j=this.calculateShapeEdges(e,n,_.totalShapeLength,A,E),A+=_.totalShapeLength):j=[[I,P]],f=j.length,u=0;u<f;u+=1){I=j[u][0],P=j[u][1],T.length=0,P<=1?T.push({s:_.totalShapeLength*I,e:_.totalShapeLength*P}):I>=1?T.push({s:_.totalShapeLength*(I-1),e:_.totalShapeLength*(P-1)}):(T.push({s:_.totalShapeLength*I,e:_.totalShapeLength}),T.push({s:0,e:_.totalShapeLength*(P-1)}));var O=this.addShapes(_,T[0]);if(T[0].s!==T[0].e){if(T.length>1){var $=_.shape.paths.shapes[_.shape.paths._length-1];if($.c){var V=O.pop();this.addPaths(O,k),O=this.addShapes(_,T[1],V)}else this.addPaths(O,k),O=this.addShapes(_,T[1])}this.addPaths(O,k)}}_.shape.paths=k}}},TrimModifier.prototype.addPaths=function(t,e){var n,s=t.length;for(n=0;n<s;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,s,i,o,a){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),a&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(s[0],s[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,s){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),s&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var s=t.pathsData,i=t.shape.paths.shapes,o,a=t.shape.paths._length,c,u,f=0,p,m,x,E,T=[],_,k=!0;for(n?(m=n._length,_=n._length):(n=shapePool.newElement(),m=0,_=0),T.push(n),o=0;o<a;o+=1){for(x=s[o].lengths,n.c=i[o].c,u=i[o].c?x.length:x.length+1,c=1;c<u;c+=1)if(p=x[c-1],f+p.addedLength<e.s)f+=p.addedLength,n.c=!1;else if(f>e.e){n.c=!1;break}else e.s<=f&&e.e>=f+p.addedLength?(this.addSegment(i[o].v[c-1],i[o].o[c-1],i[o].i[c],i[o].v[c],n,m,k),k=!1):(E=bez.getNewSegment(i[o].v[c-1],i[o].v[c],i[o].o[c-1],i[o].i[c],(e.s-f)/p.addedLength,(e.e-f)/p.addedLength,x[c-1]),this.addSegmentFromArray(E,n,m,k),k=!1,n.c=!1),f+=p.addedLength,m+=1;if(i[o].c&&x.length){if(p=x[c-1],f<=e.e){var I=x[c-1].addedLength;e.s<=f&&e.e>=f+I?(this.addSegment(i[o].v[c-1],i[o].o[c-1],i[o].i[0],i[o].v[0],n,m,k),k=!1):(E=bez.getNewSegment(i[o].v[c-1],i[o].v[0],i[o].o[c-1],i[o].i[0],(e.s-f)/I,(e.e-f)/I,x[c-1]),this.addSegmentFromArray(E,n,m,k),k=!1,n.c=!1)}else n.c=!1;f+=p.addedLength,m+=1}if(n._length&&(n.setXYAt(n.v[_][0],n.v[_][1],"i",_),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;o<a-1&&(n=shapePool.newElement(),k=!0,T.push(n),m=0)}return T};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,s=[0,0],i=t._length,o=0;for(o=0;o<i;o+=1)s[0]+=t.v[o][0],s[1]+=t.v[o][1];s[0]/=i,s[1]/=i;var a=shapePool.newElement();a.c=t.c;var c,u,f,p,m,x;for(o=0;o<i;o+=1)c=t.v[o][0]+(s[0]-t.v[o][0])*n,u=t.v[o][1]+(s[1]-t.v[o][1])*n,f=t.o[o][0]+(s[0]-t.o[o][0])*-n,p=t.o[o][1]+(s[1]-t.o[o][1])*-n,m=t.i[o][0]+(s[0]-t.i[o][0])*-n,x=t.i[o][1]+(s[1]-t.i[o][1])*-n,a.setTripleAt(c,u,f,p,m,x,o);return a},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,s=this.shapes.length,i,o,a=this.amount.v;if(a!==0){var c,u;for(n=0;n<s;n+=1){if(c=this.shapes[n],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,i=0;i<o;i+=1)u.addShape(this.processPath(e[i],a));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var t=[0,0];function e(u){var f=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||f,this.a&&u.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&u.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&u.skewFromAxis(-this.sk.v,this.sa.v),this.r?u.rotate(-this.r.v):u.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?u.translate(this.px.v,this.py.v,-this.pz.v):u.translate(this.px.v,this.py.v,0):u.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(u){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||u){var f;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var p,m;if(f=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(p=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/f,0),m=this.p.getValueAtTime(this.p.keyframes[0].t/f,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(p=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/f,0),m=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/f,0)):(p=this.p.pv,m=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/f,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){p=[],m=[];var x=this.px,E=this.py;x._caching.lastFrame+x.offsetTime<=x.keyframes[0].t?(p[0]=x.getValueAtTime((x.keyframes[0].t+.01)/f,0),p[1]=E.getValueAtTime((E.keyframes[0].t+.01)/f,0),m[0]=x.getValueAtTime(x.keyframes[0].t/f,0),m[1]=E.getValueAtTime(E.keyframes[0].t/f,0)):x._caching.lastFrame+x.offsetTime>=x.keyframes[x.keyframes.length-1].t?(p[0]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/f,0),p[1]=E.getValueAtTime(E.keyframes[E.keyframes.length-1].t/f,0),m[0]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/f,0),m[1]=E.getValueAtTime((E.keyframes[E.keyframes.length-1].t-.01)/f,0)):(p=[x.pv,E.pv],m[0]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/f,x.offsetTime),m[1]=E.getValueAtTime((E._caching.lastFrame+E.offsetTime-.01)/f,E.offsetTime))}else m=t,p=m;this.v.rotate(-Math.atan2(p[1]-m[1],p[0]-m[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function s(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function i(){}function o(u){this._addDynamicProperty(u),this.elem.addDynamicProperty(u),this._isDirty=!0}function a(u,f,p){if(this.elem=u,this.frameId=-1,this.propType="transform",this.data=f,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(p||u),f.p&&f.p.s?(this.px=PropertyFactory.getProp(u,f.p.x,0,0,this),this.py=PropertyFactory.getProp(u,f.p.y,0,0,this),f.p.z&&(this.pz=PropertyFactory.getProp(u,f.p.z,0,0,this))):this.p=PropertyFactory.getProp(u,f.p||{k:[0,0,0]},1,0,this),f.rx){if(this.rx=PropertyFactory.getProp(u,f.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(u,f.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(u,f.rz,0,degToRads,this),f.or.k[0].ti){var m,x=f.or.k.length;for(m=0;m<x;m+=1)f.or.k[m].to=null,f.or.k[m].ti=null}this.or=PropertyFactory.getProp(u,f.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(u,f.r||{k:0},0,degToRads,this);f.sk&&(this.sk=PropertyFactory.getProp(u,f.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(u,f.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(u,f.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(u,f.s||{k:[100,100,100]},1,.01,this),f.o?this.o=PropertyFactory.getProp(u,f.o,0,.01,u):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}a.prototype={applyToMatrix:e,getValue:n,precalculateMatrix:s,autoOrient:i},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=o,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function c(u,f,p){return new a(u,f,p)}return{getTransformProperty:c}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,s,i,o){var a=o?-1:1,c=s.s.v[0]+(1-s.s.v[0])*(1-i),u=s.s.v[1]+(1-s.s.v[1])*(1-i);t.translate(s.p.v[0]*a*i,s.p.v[1]*a*i,s.p.v[2]),e.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),e.rotate(-s.r.v*a*i),e.translate(s.a.v[0],s.a.v[1],s.a.v[2]),n.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),n.scale(o?1/c:c,o?1/u:u),n.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,s){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,s=t.length;for(n=0;n<s;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,s,i,o,a=!1;if(this._mdf||t){var c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var u={it:this.cloneElements(this._elements),ty:"gr"};u.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,u),this._groups.splice(0,0,u),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}o=0;var f;for(s=0;s<=this._groups.length-1;s+=1){if(f=o<c,this._groups[s]._render=f,this.changeGroupRender(this._groups[s].it,f),!f){var p=this.elemsData[s].it,m=p[p.length-1];m.transform.op.v!==0?(m.transform.op._mdf=!0,m.transform.op.v=0):m.transform.op._mdf=!1}o+=1}this._currentCopies=c;var x=this.o.v,E=x%1,T=x>0?Math.floor(x):Math.ceil(x),_=this.pMatrix.props,k=this.rMatrix.props,I=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var P=0;if(x>0){for(;P<T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),P+=1;E&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,E,!1),P+=E)}else if(x<0){for(;P>T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),P-=1;E&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-E,!0),P-=E)}s=this.data.m===1?0:this._currentCopies-1,i=this.data.m===1?1:-1,o=this._currentCopies;for(var A,j;o;){if(e=this.elemsData[s].it,n=e[e.length-1].transform.mProps.v.props,j=n.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),P!==0){for((s!==0&&i===1||s!==this._currentCopies-1&&i===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]),this.matrix.transform(I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),A=0;A<j;A+=1)n[A]=this.matrix.props[A];this.matrix.reset()}else for(this.matrix.reset(),A=0;A<j;A+=1)n[A]=this.matrix.props[A];P+=1,o-=1,s+=i}}else for(o=this._currentCopies,s=0,i=1;o;)e=this.elemsData[s].it,n=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,s+=i;return a},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shapePool.newElement();n.c=t.c;var s,i=t._length,o,a,c,u,f,p,m=0,x,E,T,_,k,I;for(s=0;s<i;s+=1)o=t.v[s],c=t.o[s],a=t.i[s],o[0]===c[0]&&o[1]===c[1]&&o[0]===a[0]&&o[1]===a[1]?(s===0||s===i-1)&&!t.c?(n.setTripleAt(o[0],o[1],c[0],c[1],a[0],a[1],m),m+=1):(s===0?u=t.v[i-1]:u=t.v[s-1],f=Math.sqrt(Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2)),p=f?Math.min(f/2,e)/f:0,k=o[0]+(u[0]-o[0])*p,x=k,I=o[1]-(o[1]-u[1])*p,E=I,T=x-(x-o[0])*roundCorner,_=E-(E-o[1])*roundCorner,n.setTripleAt(x,E,T,_,k,I,m),m+=1,s===i-1?u=t.v[0]:u=t.v[s+1],f=Math.sqrt(Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2)),p=f?Math.min(f/2,e)/f:0,T=o[0]+(u[0]-o[0])*p,x=T,_=o[1]+(u[1]-o[1])*p,E=_,k=x-(x-o[0])*roundCorner,I=E-(E-o[1])*roundCorner,n.setTripleAt(x,E,T,_,k,I,m),m+=1):(n.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],m),m+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,s=this.shapes.length,i,o,a=this.rd.v;if(a!==0){var c,u;for(n=0;n<s;n+=1){if(c=this.shapes[n],u=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(u.releaseShapes(),c.shape._mdf=!0,e=c.shape.paths.shapes,o=c.shape.paths._length,i=0;i<o;i+=1)u.addShape(this.processPath(e[i],a));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var s=e*e-4*t*n;if(s<0)return[];var i=-e/(2*t);if(s===0)return[i];var o=Math.sqrt(s)/(2*t);return[i-o,i+o]}function polynomialCoefficients(t,e,n,s){return[-t+3*e-3*n+s,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,s,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,s,1/3)),i&&pointEqual(n,s)&&(n=lerpPoint(t,s,2/3));var o=polynomialCoefficients(t[0],e[0],n[0],s[0]),a=polynomialCoefficients(t[1],e[1],n[1],s[1]);this.a=[o[0],a[0]],this.b=[o[1],a[1]],this.c=[o[2],a[2]],this.d=[o[3],a[3]],this.points=[t,e,n,s]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var s=Math.sqrt(n);return floatZero(s)?s>0&&s<1?[e]:[]:[e-s,e+s].filter(function(i){return i>0&&i<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),s=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),o=lerpPoint(n,s,t),a=lerpPoint(i,o,t);return[new PolynomialBezier(this.points[0],e,i,a,!0),new PolynomialBezier(a,o,s,this.points[3],!0)]};function extrema(t,e){var n=t.points[0][e],s=t.points[t.points.length-1][e];if(n>s){var i=s;s=n,n=i}for(var o=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<o.length;a+=1)if(o[a]>0&&o[a]<1){var c=t.point(o[a])[e];c<n?n=c:c>s&&(s=c)}return{min:n,max:s}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,n){var s=t.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,n,s,i,o){if(boxIntersect(t,e)){if(n>=o||t.width<=s&&t.height<=s&&e.width<=s&&e.height<=s){i.push([t.t,e.t]);return}var a=splitData(t),c=splitData(e);intersectsImpl(a[0],c[0],n+1,s,i,o),intersectsImpl(a[0],c[1],n+1,s,i,o),intersectsImpl(a[1],c[0],n+1,s,i,o),intersectsImpl(a[1],c[1],n+1,s,i,o)}}PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,s,n),s},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,s){var i=[t[0],t[1],1],o=[e[0],e[1],1],a=[n[0],n[1],1],c=[s[0],s[1],1],u=crossProduct(crossProduct(i,o),crossProduct(a,c));return floatZero(u[2])?null:[u[0]/u[2],u[1]/u[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,n,s,i,o,a){var c=n-Math.PI/2,u=n+Math.PI/2,f=e[0]+Math.cos(n)*s*i,p=e[1]-Math.sin(n)*s*i;t.setTripleAt(f,p,f+Math.cos(c)*o,p-Math.sin(c)*o,f+Math.cos(u)*a,p-Math.sin(u)*a,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],s=-Math.PI*.5,i=[Math.cos(s)*n[0]-Math.sin(s)*n[1],Math.sin(s)*n[0]+Math.cos(s)*n[1]];return i}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,s=(e+1)%t.length(),i=t.v[n],o=t.v[s],a=getPerpendicularVector(i,o);return Math.atan2(0,1)-Math.atan2(a[1],a[0])}function zigZagCorner(t,e,n,s,i,o,a){var c=getProjectingAngle(e,n),u=e.v[n%e._length],f=e.v[n===0?e._length-1:n-1],p=e.v[(n+1)%e._length],m=o===2?Math.sqrt(Math.pow(u[0]-f[0],2)+Math.pow(u[1]-f[1],2)):0,x=o===2?Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)):0;setPoint(t,e.v[n%e._length],c,a,s,x/((i+1)*2),m/((i+1)*2))}function zigZagSegment(t,e,n,s,i,o){for(var a=0;a<s;a+=1){var c=(a+1)/(s+1),u=i===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,f=e.normalAngle(c),p=e.point(c);setPoint(t,p,f,o,n,u/((s+1)*2),u/((s+1)*2)),o=-o}return o}ZigZagModifier.prototype.processPath=function(t,e,n,s){var i=t._length,o=shapePool.newElement();if(o.c=t.c,t.c||(i-=1),i===0)return o;var a=-1,c=PolynomialBezier.shapeSegment(t,0);zigZagCorner(o,t,0,e,n,s,a);for(var u=0;u<i;u+=1)a=zigZagSegment(o,c,e,n,s,-a),u===i-1&&!t.c?c=null:c=PolynomialBezier.shapeSegment(t,(u+1)%i),zigZagCorner(o,t,u+1,e,n,s,a);return o},ZigZagModifier.prototype.processShapes=function(t){var e,n,s=this.shapes.length,i,o,a=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(a!==0){var f,p;for(n=0;n<s;n+=1){if(f=this.shapes[n],p=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!t))for(p.releaseShapes(),f.shape._mdf=!0,e=f.shape.paths.shapes,o=f.shape.paths._length,i=0;i<o;i+=1)p.addShape(this.processPath(e[i],a,c,u));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,n){var s=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,s,n),polarOffset(e,s,n)]}function offsetSegment(t,e){var n,s,i,o,a,c,u;u=linearOffset(t.points[0],t.points[1],e),n=u[0],s=u[1],u=linearOffset(t.points[1],t.points[2],e),i=u[0],o=u[1],u=linearOffset(t.points[2],t.points[3],e),a=u[0],c=u[1];var f=lineIntersection(n,s,i,o);f===null&&(f=s);var p=lineIntersection(a,c,i,o);return p===null&&(p=a),new PolynomialBezier(n,f,p,c)}function joinLines(t,e,n,s,i){var o=e.points[3],a=n.points[0];if(s===3||pointEqual(o,a))return o;if(s===2){var c=-e.tangentAngle(1),u=-n.tangentAngle(0)+Math.PI,f=lineIntersection(o,polarOffset(o,c+Math.PI/2,100),a,polarOffset(a,c+Math.PI/2,100)),p=f?pointDistance(f,o):pointDistance(o,a)/2,m=polarOffset(o,c,2*p*roundCorner);return t.setXYAt(m[0],m[1],"o",t.length()-1),m=polarOffset(a,u,2*p*roundCorner),t.setTripleAt(a[0],a[1],a[0],a[1],m[0],m[1],t.length()),a}var x=pointEqual(o,e.points[2])?e.points[0]:e.points[2],E=pointEqual(a,n.points[1])?n.points[3]:n.points[1],T=lineIntersection(x,o,a,E);return T&&pointDistance(T,o)<i?(t.setTripleAt(T[0],T[1],T[0],T[1],T[0],T[1],t.length()),T):o}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),s=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],s[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]),i)?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,s]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n=t.inflectionPoints(),s,i,o,a;if(n.length===0)return[offsetSegment(t,e)];if(n.length===1||floatEqual(n[1],1))return o=t.split(n[0]),s=o[0],i=o[1],[offsetSegment(s,e),offsetSegment(i,e)];o=t.split(n[0]),s=o[0];var c=(n[1]-n[0])/(1-n[0]);return o=o[1].split(c),a=o[0],i=o[1],[offsetSegment(s,e),offsetSegment(a,e),offsetSegment(i,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,s){var i=shapePool.newElement();i.c=t.c;var o=t.length();t.c||(o-=1);var a,c,u,f=[];for(a=0;a<o;a+=1)u=PolynomialBezier.shapeSegment(t,a),f.push(offsetSegmentSplit(u,e));if(!t.c)for(a=o-1;a>=0;a-=1)u=PolynomialBezier.shapeSegmentInverted(t,a),f.push(offsetSegmentSplit(u,e));f=pruneIntersections(f);var p=null,m=null;for(a=0;a<f.length;a+=1){var x=f[a];for(m&&(p=joinLines(i,m,x[0],n,s)),m=x[x.length-1],c=0;c<x.length;c+=1)u=x[c],p&&pointEqual(u.points[0],p)?i.setXYAt(u.points[1][0],u.points[1][1],"o",i.length()-1):i.setTripleAt(u.points[0][0],u.points[0][1],u.points[1][0],u.points[1][1],u.points[0][0],u.points[0][1],i.length()),i.setTripleAt(u.points[3][0],u.points[3][1],u.points[3][0],u.points[3][1],u.points[2][0],u.points[2][1],i.length()),p=u.points[3]}return f.length&&joinLines(i,m,f[0][0],n,s),i},OffsetPathModifier.prototype.processShapes=function(t){var e,n,s=this.shapes.length,i,o,a=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(a!==0){var f,p;for(n=0;n<s;n+=1){if(f=this.shapes[n],p=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!t))for(p.releaseShapes(),f.shape._mdf=!0,e=f.shape.paths.shapes,o=f.shape.paths._length,i=0;i<o;i+=1)p.addShape(this.processPath(e[i],a,u,c));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",s="normal",i=e.length,o,a=0;a<i;a+=1)switch(o=e[a].toLowerCase(),o){case"italic":s="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:s,weight:t.fWeight||n}}var FontManager=(function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=127988,i=917631,o=917601,a=917626,c=65039,u=8205,f=127462,p=127487,m=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function x(G){var q=G.split(","),M,z=q.length,ee=[];for(M=0;M<z;M+=1)q[M]!=="sans-serif"&&q[M]!=="monospace"&&ee.push(q[M]);return ee.join(",")}function E(G,q){var M=createTag("span");M.setAttribute("aria-hidden",!0),M.style.fontFamily=q;var z=createTag("span");z.innerText="giItT1WQy@!-/#",M.style.position="absolute",M.style.left="-10000px",M.style.top="-10000px",M.style.fontSize="300px",M.style.fontVariant="normal",M.style.fontStyle="normal",M.style.fontWeight="normal",M.style.letterSpacing="0",M.appendChild(z),document.body.appendChild(M);var ee=z.offsetWidth;return z.style.fontFamily=x(G)+", "+q,{node:z,w:ee,parent:M}}function T(){var G,q=this.fonts.length,M,z,ee=q;for(G=0;G<q;G+=1)this.fonts[G].loaded?ee-=1:this.fonts[G].fOrigin==="n"||this.fonts[G].origin===0?this.fonts[G].loaded=!0:(M=this.fonts[G].monoCase.node,z=this.fonts[G].monoCase.w,M.offsetWidth!==z?(ee-=1,this.fonts[G].loaded=!0):(M=this.fonts[G].sansCase.node,z=this.fonts[G].sansCase.w,M.offsetWidth!==z&&(ee-=1,this.fonts[G].loaded=!0)),this.fonts[G].loaded&&(this.fonts[G].sansCase.parent.parentNode.removeChild(this.fonts[G].sansCase.parent),this.fonts[G].monoCase.parent.parentNode.removeChild(this.fonts[G].monoCase.parent)));ee!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function _(G,q){var M=document.body&&q?"svg":"canvas",z,ee=getFontProperties(G);if(M==="svg"){var W=createNS("text");W.style.fontSize="100px",W.setAttribute("font-family",G.fFamily),W.setAttribute("font-style",ee.style),W.setAttribute("font-weight",ee.weight),W.textContent="1",G.fClass?(W.style.fontFamily="inherit",W.setAttribute("class",G.fClass)):W.style.fontFamily=G.fFamily,q.appendChild(W),z=W}else{var ie=new OffscreenCanvas(500,500).getContext("2d");ie.font=ee.style+" "+ee.weight+" 100px "+G.fFamily,z=ie}function se(Pe){return M==="svg"?(z.textContent=Pe,z.getComputedTextLength()):z.measureText(Pe).width}return{measureText:se}}function k(G,q){if(!G){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=G.list;return}if(!document.body){this.isLoaded=!0,G.list.forEach(function(Be){Be.helper=_(Be),Be.cache={}}),this.fonts=G.list;return}var M=G.list,z,ee=M.length,W=ee;for(z=0;z<ee;z+=1){var ie=!0,se,Pe;if(M[z].loaded=!1,M[z].monoCase=E(M[z].fFamily,"monospace"),M[z].sansCase=E(M[z].fFamily,"sans-serif"),!M[z].fPath)M[z].loaded=!0,W-=1;else if(M[z].fOrigin==="p"||M[z].origin===3){if(se=document.querySelectorAll('style[f-forigin="p"][f-family="'+M[z].fFamily+'"], style[f-origin="3"][f-family="'+M[z].fFamily+'"]'),se.length>0&&(ie=!1),ie){var Ne=createTag("style");Ne.setAttribute("f-forigin",M[z].fOrigin),Ne.setAttribute("f-origin",M[z].origin),Ne.setAttribute("f-family",M[z].fFamily),Ne.type="text/css",Ne.innerText="@font-face {font-family: "+M[z].fFamily+"; font-style: normal; src: url('"+M[z].fPath+"');}",q.appendChild(Ne)}}else if(M[z].fOrigin==="g"||M[z].origin===1){for(se=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Pe=0;Pe<se.length;Pe+=1)se[Pe].href.indexOf(M[z].fPath)!==-1&&(ie=!1);if(ie){var Oe=createTag("link");Oe.setAttribute("f-forigin",M[z].fOrigin),Oe.setAttribute("f-origin",M[z].origin),Oe.type="text/css",Oe.rel="stylesheet",Oe.href=M[z].fPath,document.body.appendChild(Oe)}}else if(M[z].fOrigin==="t"||M[z].origin===2){for(se=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Pe=0;Pe<se.length;Pe+=1)M[z].fPath===se[Pe].src&&(ie=!1);if(ie){var je=createTag("link");je.setAttribute("f-forigin",M[z].fOrigin),je.setAttribute("f-origin",M[z].origin),je.setAttribute("rel","stylesheet"),je.setAttribute("href",M[z].fPath),q.appendChild(je)}}M[z].helper=_(M[z],q),M[z].cache={},this.fonts.push(M[z])}W===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function I(G){if(G){this.chars||(this.chars=[]);var q,M=G.length,z,ee=this.chars.length,W;for(q=0;q<M;q+=1){for(z=0,W=!1;z<ee;)this.chars[z].style===G[q].style&&this.chars[z].fFamily===G[q].fFamily&&this.chars[z].ch===G[q].ch&&(W=!0),z+=1;W||(this.chars.push(G[q]),ee+=1)}}}function P(G,q,M){for(var z=0,ee=this.chars.length;z<ee;){if(this.chars[z].ch===G&&this.chars[z].style===q&&this.chars[z].fFamily===M)return this.chars[z];z+=1}return(typeof G=="string"&&G.charCodeAt(0)!==13||!G)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",G,q,M)),e}function A(G,q,M){var z=this.getFontByName(q),ee=G;if(!z.cache[ee]){var W=z.helper;if(G===" "){var ie=W.measureText("|"+G+"|"),se=W.measureText("||");z.cache[ee]=(ie-se)/100}else z.cache[ee]=W.measureText(G)/100}return z.cache[ee]*M}function j(G){for(var q=0,M=this.fonts.length;q<M;){if(this.fonts[q].fName===G)return this.fonts[q];q+=1}return this.fonts[0]}function O(G){var q=0,M=G.charCodeAt(0);if(M>=55296&&M<=56319){var z=G.charCodeAt(1);z>=56320&&z<=57343&&(q=(M-55296)*1024+z-56320+65536)}return q}function $(G,q){var M=G.toString(16)+q.toString(16);return m.indexOf(M)!==-1}function V(G){return G===u}function L(G){return G===c}function U(G){var q=O(G);return q>=f&&q<=p}function J(G){return U(G.substr(0,2))&&U(G.substr(2,2))}function Z(G){return n.indexOf(G)!==-1}function Y(G,q){var M=O(G.substr(q,2));if(M!==s)return!1;var z=0;for(q+=2;z<5;){if(M=O(G.substr(q,2)),M<o||M>a)return!1;z+=1,q+=2}return O(G.substr(q,2))===i}function K(){this.isLoaded=!0}var ke=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ke.isModifier=$,ke.isZeroWidthJoiner=V,ke.isFlagEmoji=J,ke.isRegionalCode=U,ke.isCombinedCharacter=Z,ke.isRegionalFlag=Y,ke.isVariationSelector=L,ke.BLACK_FLAG_CODE_POINT=s;var Re={addChars:I,addFonts:k,getCharData:P,getFontByName:j,measureText:A,checkLoadedFonts:T,setIsLoaded:K};return ke.prototype=Re,ke})();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,n=this.renderableComponents.length;for(e=0;e<n;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}})();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var s,i=n.length,o;for(s=0;s<i;s+=1)o=new GroupEffect(n[s],e),this.effectElements.push(o)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,s=this.data.ef.length,i,o=this.data.ef;for(n=0;n<s;n+=1){switch(i=null,o[n].ty){case 0:i=new SliderEffect(o[n],e,this);break;case 1:i=new AngleEffect(o[n],e,this);break;case 2:i=new ColorEffect(o[n],e,this);break;case 3:i=new PointEffect(o[n],e,this);break;case 4:case 7:i=new CheckboxEffect(o[n],e,this);break;case 10:i=new LayerIndexEffect(o[n],e,this);break;case 11:i=new MaskIndexEffect(o[n],e,this);break;case 5:i=new EffectsManager(o[n],e);break;default:i=new NoValueEffect(o[n]);break}i&&this.effectElements.push(i)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,n=this.data.masksProperties.length;e<n;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var n=e("layer"),s=e("effects"),i=e("shape"),o=e("text"),a=e("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var c=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(c),this.data.ty===0||this.data.xt?this.compInterface=a(this):this.data.ty===4?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=e},initBaseData:function(e,n,s){this.globalData=n,this.comp=s,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,n){var s,i=this.dynamicProperties.length;for(s=0;s<i;s+=1)(n||this._isParent&&this.dynamicProperties[s].propType==="transform")&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,n=this.layers.length,s;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(s=this.layers[e],s.ip-s.st<=t-this.layers[e].st&&s.op-s.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n=t.length,s,i=this.layers.length;for(e=0;e<n;e+=1)for(s=0;s<i;){if(this.layers[s].id===t[e].id){this.layers[s]=t[e];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var s=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==e&&(!s[o]||s[o]===!0?(this.buildItem(o),this.addPendingElement(t)):(n.push(s[o]),s[o].setAsParent(),i[o].parent!==void 0?this.buildElementParenting(t,i[o].parent,n):t.setHierarchy(n))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var s=this.createComp(t[e]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),n;if(typeof e=="number")n=this.elements[e];else{var s,i=this.elements.length;for(s=0;s<i;s+=1)if(this.elements[s].data.nm===e){n=this.elements[s];break}}return t.length===0?n:n.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,n=this.finalTransform.mat,s=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<i;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,n.cloneFromProps(e),s=0;s<i;s+=1)n.multiply(this.hierarchy[s].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<n;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var s=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(s),e=1;e<n;e+=1){var i=this.localTransforms[e].matrix;s.multiply(i)}s.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var o=this.finalTransform.localOpacity;for(e=0;e<n;e+=1)o*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=o}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,s=e.length;for(n=0;n<s;n+=1)this.localTransforms.push(e[n])}}},globalToLocal:function(e){var n=[];n.push(this.finalTransform);for(var s=!0,i=this.comp;s;)i.finalTransform?(i.data.hasMask&&n.splice(0,0,i.finalTransform),i=i.comp):s=!1;var o,a=n.length,c;for(o=0;o<a;o+=1)c=n[o].mat.applyToPointArray(0,0,0),e=[e[0]-c[0],e[1]-c[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s=this.globalData.defs,i,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,c=this.masksProperties,u=0,f=[],p,m,x=createElementID(),E,T,_,k,I="clipPath",P="clip-path";for(i=0;i<o;i+=1)if((c[i].mode!=="a"&&c[i].mode!=="n"||c[i].inv||c[i].o.k!==100||c[i].o.x)&&(I="mask",P="mask"),(c[i].mode==="s"||c[i].mode==="i")&&u===0?(E=createNS("rect"),E.setAttribute("fill","#ffffff"),E.setAttribute("width",this.element.comp.data.w||0),E.setAttribute("height",this.element.comp.data.h||0),f.push(E)):E=null,a=createNS("path"),c[i].mode==="n")this.viewData[i]={op:PropertyFactory.getProp(this.element,c[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[i],3),elem:a,lastPath:""},s.appendChild(a);else{u+=1,a.setAttribute("fill",c[i].mode==="s"?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero");var A;if(c[i].x.k!==0?(I="mask",P="mask",k=PropertyFactory.getProp(this.element,c[i].x,0,null,this.element),A=createElementID(),T=createNS("filter"),T.setAttribute("id",A),_=createNS("feMorphology"),_.setAttribute("operator","erode"),_.setAttribute("in","SourceGraphic"),_.setAttribute("radius","0"),T.appendChild(_),s.appendChild(T),a.setAttribute("stroke",c[i].mode==="s"?"#000000":"#ffffff")):(_=null,k=null),this.storedData[i]={elem:a,x:k,expan:_,lastPath:"",lastOperator:"",filterId:A,lastRadius:0},c[i].mode==="i"){m=f.length;var j=createNS("g");for(p=0;p<m;p+=1)j.appendChild(f[p]);var O=createNS("mask");O.setAttribute("mask-type","alpha"),O.setAttribute("id",x+"_"+u),O.appendChild(a),s.appendChild(O),j.setAttribute("mask","url("+getLocationHref()+"#"+x+"_"+u+")"),f.length=0,f.push(j)}else f.push(a);c[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,c[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[i],3),invRect:E},this.viewData[i].prop.k||this.drawPath(c[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(I),o=f.length,i=0;i<o;i+=1)this.maskElement.appendChild(f[i]);u>0&&(this.maskElement.setAttribute("id",x),this.element.maskedElement.setAttribute(P,"url("+getLocationHref()+"#"+x+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,n,s=this.masksProperties.length;for(n=0;n<s;n+=1)if((this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t))){var i=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),i.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,n){var s=" M"+e.v[0][0]+","+e.v[0][1],i,o;for(o=e._length,i=1;i<o;i+=1)s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&o>1&&(s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==s){var a="";n.elem&&(e.c&&(a=t.inv?this.solidPath+s:s),n.elem.setAttribute("d",a)),n.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=n;function e(s,i){var o=createNS("filter");return o.setAttribute("id",s),i!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o}function n(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}return t})(),featureSupport=(function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n="SourceGraphic",s=t.data.ef?t.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i,!0),a=0;this.filters=[];var c;for(e=0;e<s;e+=1){c=null;var u=t.data.ef[e].ty;if(registeredEffects$1[u]){var f=registeredEffects$1[u].effect;c=new f(o,t.effectsManager.effectElements[e],t,idPrefix+a,n),n=idPrefix+a,registeredEffects$1[u].countsAsEffect&&(a+=1)}c&&this.filters.push(c)}a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,s=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&s.push(this.filters[e]);return s};function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),e=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var s=createNS("clipPath"),i=createNS("path");i.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(s.setAttribute("id",o),s.appendChild(i),this.globalData.defs.appendChild(s),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),a.appendChild(this.layerElement),this.transformedElement=a,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var n=this.layerId+"_"+e,s,i,o,a;if(e===1||e===3){var c=createNS("mask");c.setAttribute("id",n),c.setAttribute("mask-type",e===3?"luminance":"alpha"),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),c.appendChild(o),this.globalData.defs.appendChild(c),!featureSupport.maskType&&e===1&&(c.setAttribute("mask-type","luminance"),s=createElementID(),i=filtersFactory.createFilter(s),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),a.appendChild(o),c.appendChild(a),a.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(e===2){var u=createNS("mask");u.setAttribute("id",n),u.setAttribute("mask-type","alpha");var f=createNS("g");u.appendChild(f),s=createElementID(),i=filtersFactory.createFilter(s);var p=createNS("feComponentTransfer");p.setAttribute("in","SourceGraphic"),i.appendChild(p);var m=createNS("feFuncA");m.setAttribute("type","table"),m.setAttribute("tableValues","1.0 0.0"),p.appendChild(m),this.globalData.defs.appendChild(i);var x=createNS("rect");x.setAttribute("width",this.comp.data.w),x.setAttribute("height",this.comp.data.h),x.setAttribute("x","0"),x.setAttribute("y","0"),x.setAttribute("fill","#ffffff"),x.setAttribute("opacity","0"),f.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),f.appendChild(x),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),f.appendChild(o),featureSupport.maskType||(u.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),f.appendChild(x),a.appendChild(this.layerElement),f.appendChild(a)),this.globalData.defs.appendChild(u)}this.matteMasks[e]=n}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(n,s,i){this.initFrame(),this.initBaseData(n,s,i),this.initTransform(n,s,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var n,s=this.shapeModifiers.length;for(n=0;n<s;n+=1)this.shapeModifiers[n].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var n=0,s=this.shapeModifiers.length;n<s;)if(this.shapeModifiers[n].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,n=this.shapes.length;for(e=0;e<n;e+=1)this.shapes[e].sh.reset();n=this.shapeModifiers.length;var s;for(e=n-1;e>=0&&(s=this.shapeModifiers[e].processShapes(this._isFirstFrame),!s);e-=1);}},searchProcessedElement:function(e){for(var n=this.processedElements,s=0,i=n.length;s<i;){if(n[s].elem===e)return n[s].pos;s+=1}return 0},addProcessedElement:function(e,n){for(var s=this.processedElements,i=s.length;i;)if(i-=1,s[i].elem===e){s[i].pos=n;return}s.push(new ProcessedElement(e,n))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var s=0,i=t.length;s<i;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,n,s){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var i,o=e.length||0,a;for(i=0;i<o;i+=1)a=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=a.k||this.k,this.dataProps[i]={n:e[i].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var s=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,s=this.o.length/2,i;n<s;){if(i=Math.abs(t[n*4]-t[e*4+n*2]),i>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n=this.data.p*4,s,i;for(e=0;e<n;e+=1)s=e%4===0?100:255,i=Math.round(this.prop.v[e]*s),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=this.data.p*4;e<n;e+=1)s=e%2===0?100:1,i=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==i&&(this.o[e-this.data.p*4]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),s=createNS(e.t===1?"linearGradient":"radialGradient");s.setAttribute("id",n),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var i=[],o,a,c;for(c=e.g.p*4,a=0;a<c;a+=4)o=createNS("stop"),s.appendChild(o),i.push(o);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=s,this.cst=i},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,s,i,o=createNS("mask"),a=createNS("path");o.appendChild(a);var c=createElementID(),u=createElementID();o.setAttribute("id",u);var f=createNS(t.t===1?"linearGradient":"radialGradient");f.setAttribute("id",c),f.setAttribute("spreadMethod","pad"),f.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var p=this.stops;for(s=t.g.p*4;s<i;s+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),f.appendChild(n),p.push(n);a.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+c+")"),t.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=f,this.ms=o,this.ost=p,this.maskId=u,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,n,s,i){if(n===0)return"";var o=e.o,a=e.i,c=e.v,u,f=" M"+i.applyToPointStringified(c[0][0],c[0][1]);for(u=1;u<n;u+=1)f+=" C"+i.applyToPointStringified(o[u-1][0],o[u-1][1])+" "+i.applyToPointStringified(a[u][0],a[u][1])+" "+i.applyToPointStringified(c[u][0],c[u][1]);return s&&n&&(f+=" C"+i.applyToPointStringified(o[u-1][0],o[u-1][1])+" "+i.applyToPointStringified(a[0][0],a[0][1])+" "+i.applyToPointStringified(c[0][0],c[0][1]),f+="z"),f},SVGElementsRenderer=(function(){var t=new Matrix,e=new Matrix,n={createRenderFunction:s};function s(m){switch(m.ty){case"fl":return c;case"gf":return f;case"gs":return u;case"st":return p;case"sh":case"el":case"rc":case"sr":return a;case"tr":return i;case"no":return o;default:return null}}function i(m,x,E){(E||x.transform.op._mdf)&&x.transform.container.setAttribute("opacity",x.transform.op.v),(E||x.transform.mProps._mdf)&&x.transform.container.setAttribute("transform",x.transform.mProps.v.to2dCSS())}function o(){}function a(m,x,E){var T,_,k,I,P,A,j=x.styles.length,O=x.lvl,$,V,L,U;for(A=0;A<j;A+=1){if(I=x.sh._mdf||E,x.styles[A].lvl<O){for(V=e.reset(),L=O-x.styles[A].lvl,U=x.transformers.length-1;!I&&L>0;)I=x.transformers[U].mProps._mdf||I,L-=1,U-=1;if(I)for(L=O-x.styles[A].lvl,U=x.transformers.length-1;L>0;)V.multiply(x.transformers[U].mProps.v),L-=1,U-=1}else V=t;if($=x.sh.paths,_=$._length,I){for(k="",T=0;T<_;T+=1)P=$.shapes[T],P&&P._length&&(k+=buildShapeString(P,P._length,P.c,V));x.caches[A]=k}else k=x.caches[A];x.styles[A].d+=m.hd===!0?"":k,x.styles[A]._mdf=I||x.styles[A]._mdf}}function c(m,x,E){var T=x.style;(x.c._mdf||E)&&T.pElem.setAttribute("fill","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||E)&&T.pElem.setAttribute("fill-opacity",x.o.v)}function u(m,x,E){f(m,x,E),p(m,x,E)}function f(m,x,E){var T=x.gf,_=x.g._hasOpacity,k=x.s.v,I=x.e.v;if(x.o._mdf||E){var P=m.ty==="gf"?"fill-opacity":"stroke-opacity";x.style.pElem.setAttribute(P,x.o.v)}if(x.s._mdf||E){var A=m.t===1?"x1":"cx",j=A==="x1"?"y1":"cy";T.setAttribute(A,k[0]),T.setAttribute(j,k[1]),_&&!x.g._collapsable&&(x.of.setAttribute(A,k[0]),x.of.setAttribute(j,k[1]))}var O,$,V,L;if(x.g._cmdf||E){O=x.cst;var U=x.g.c;for(V=O.length,$=0;$<V;$+=1)L=O[$],L.setAttribute("offset",U[$*4]+"%"),L.setAttribute("stop-color","rgb("+U[$*4+1]+","+U[$*4+2]+","+U[$*4+3]+")")}if(_&&(x.g._omdf||E)){var J=x.g.o;for(x.g._collapsable?O=x.cst:O=x.ost,V=O.length,$=0;$<V;$+=1)L=O[$],x.g._collapsable||L.setAttribute("offset",J[$*2]+"%"),L.setAttribute("stop-opacity",J[$*2+1])}if(m.t===1)(x.e._mdf||E)&&(T.setAttribute("x2",I[0]),T.setAttribute("y2",I[1]),_&&!x.g._collapsable&&(x.of.setAttribute("x2",I[0]),x.of.setAttribute("y2",I[1])));else{var Z;if((x.s._mdf||x.e._mdf||E)&&(Z=Math.sqrt(Math.pow(k[0]-I[0],2)+Math.pow(k[1]-I[1],2)),T.setAttribute("r",Z),_&&!x.g._collapsable&&x.of.setAttribute("r",Z)),x.s._mdf||x.e._mdf||x.h._mdf||x.a._mdf||E){Z||(Z=Math.sqrt(Math.pow(k[0]-I[0],2)+Math.pow(k[1]-I[1],2)));var Y=Math.atan2(I[1]-k[1],I[0]-k[0]),K=x.h.v;K>=1?K=.99:K<=-1&&(K=-.99);var ke=Z*K,Re=Math.cos(Y+x.a.v)*ke+k[0],G=Math.sin(Y+x.a.v)*ke+k[1];T.setAttribute("fx",Re),T.setAttribute("fy",G),_&&!x.g._collapsable&&(x.of.setAttribute("fx",Re),x.of.setAttribute("fy",G))}}}function p(m,x,E){var T=x.style,_=x.d;_&&(_._mdf||E)&&_.dashStr&&(T.pElem.setAttribute("stroke-dasharray",_.dashStr),T.pElem.setAttribute("stroke-dashoffset",_.dashoffset[0])),x.c&&(x.c._mdf||E)&&T.pElem.setAttribute("stroke","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||E)&&T.pElem.setAttribute("stroke-opacity",x.o.v),(x.w._mdf||E)&&(T.pElem.setAttribute("stroke-width",x.w.v),T.msElem&&T.msElem.setAttribute("stroke-width",x.w.v))}return n})();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,n,s,i=this.stylesList.length,o,a=[],c=!1;for(s=0;s<i;s+=1){for(o=this.stylesList[s],c=!1,a.length=0,t=0;t<e;t+=1)n=this.shapes[t],n.styles.indexOf(o)!==-1&&(a.push(n),c=n._isAnimated||c);a.length>1&&c&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,s=new SVGStyleData(t,e),i=s.pElem;if(t.ty==="st")n=new SVGStrokeStyleData(this,t,s);else if(t.ty==="fl")n=new SVGFillStyleData(this,t,s);else if(t.ty==="gf"||t.ty==="gs"){var o=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new o(this,t,s),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else t.ty==="no"&&(n=new SVGNoStyleData(this,t,s));return(t.ty==="st"||t.ty==="gs")&&(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),t.lj===1&&i.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7);var i=ShapePropertyFactory.getShapeProp(this,t,s,this),o=new SVGShapeData(e,n,i);return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,s=this.animatedContents.length;n<s;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,n,s=this.stylesList.length;for(n=0;n<s;n+=1)e.indexOf(this.stylesList[n])===-1&&!this.stylesList[n].closed&&e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,s,i,o,a){var c=[].concat(o),u,f=t.length-1,p,m,x=[],E=[],T,_,k;for(u=f;u>=0;u-=1){if(k=this.searchProcessedElement(t[u]),k?e[u]=n[k-1]:t[u]._render=a,t[u].ty==="fl"||t[u].ty==="st"||t[u].ty==="gf"||t[u].ty==="gs"||t[u].ty==="no")k?e[u].style.closed=t[u].hd:e[u]=this.createStyleElement(t[u],i),t[u]._render&&e[u].style.pElem.parentNode!==s&&s.appendChild(e[u].style.pElem),x.push(e[u].style);else if(t[u].ty==="gr"){if(!k)e[u]=this.createGroupElement(t[u]);else for(m=e[u].it.length,p=0;p<m;p+=1)e[u].prevViewData[p]=e[u].it[p];this.searchShapes(t[u].it,e[u].it,e[u].prevViewData,e[u].gr,i+1,c,a),t[u]._render&&e[u].gr.parentNode!==s&&s.appendChild(e[u].gr)}else t[u].ty==="tr"?(k||(e[u]=this.createTransformElement(t[u],s)),T=e[u].transform,c.push(T)):t[u].ty==="sh"||t[u].ty==="rc"||t[u].ty==="el"||t[u].ty==="sr"?(k||(e[u]=this.createShapeElement(t[u],c,i)),this.setElementStyles(e[u])):t[u].ty==="tm"||t[u].ty==="rd"||t[u].ty==="ms"||t[u].ty==="pb"||t[u].ty==="zz"||t[u].ty==="op"?(k?(_=e[u],_.closed=!1):(_=ShapeModifiers.getModifier(t[u].ty),_.init(this,t[u]),e[u]=_,this.shapeModifiers.push(_)),E.push(_)):t[u].ty==="rp"&&(k?(_=e[u],_.closed=!0):(_=ShapeModifiers.getModifier(t[u].ty),e[u]=_,_.init(this,t,u,e),this.shapeModifiers.push(_),a=!1),E.push(_));this.addProcessedElement(t[u],u+1)}for(f=x.length,u=0;u<f;u+=1)x[u].closed=!0;for(f=E.length,u=0;u<f;u+=1)E[u].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,n;for(t=0;t<e;t+=1)n=this.animatedContents[t],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,n,s,i,o){this.o=t,this.sw=e,this.sc=n,this.fc=s,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!s,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,n,s,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),o.length&&(this.p[0]!==o[0]||this.p[1]!==o[1]||this.p[4]!==o[4]||this.p[5]!==o[5]||this.p[12]!==o[12]||this.p[13]!==o[13])&&(this.p=o,this._mdf.p=!0,a=!0),a};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var s,i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(s=0;s<i;s+=1)n!==this.keysIndex?o=this.effectsSequence[s](o,o.t):o=this.effectsSequence[s](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,s=t.length;n<=s-1&&!(n===s-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],n=0,s=t.length,i,o,a=!1,c=!1,u="";n<s;)a=c,c=!1,i=t.charCodeAt(n),u=t.charAt(n),FontManager.isCombinedCharacter(i)?a=!0:i>=55296&&i<=56319?FontManager.isRegionalFlag(t,n)?u=t.substr(n,14):(o=t.charCodeAt(n+1),o>=56320&&o<=57343&&(FontManager.isModifier(i,o)?(u=t.substr(n,2),a=!0):FontManager.isFlagEmoji(t.substr(n,4))?u=t.substr(n,4):u=t.substr(n,2))):i>56319?(o=t.charCodeAt(n+1),FontManager.isVariationSelector(i)&&(a=!0)):FontManager.isZeroWidthJoiner(i)&&(a=!0,c=!0),a?(e[e.length-1]+=u,a=!1):e.push(u),n+=u.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,n=this.data,s=[],i,o,a,c=0,u,f=n.m.g,p=0,m=0,x=0,E=[],T=0,_=0,k,I,P=e.getFontByName(t.f),A,j=0,O=getFontProperties(P);t.fWeight=O.weight,t.fStyle=O.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),o=t.finalText.length,t.finalLineHeight=t.lh;var $=t.tr/1e3*t.finalSize,V;if(t.sz)for(var L=!0,U=t.sz[0],J=t.sz[1],Z,Y;L;){Y=this.buildFinalText(t.t),Z=0,T=0,o=Y.length,$=t.tr/1e3*t.finalSize;var K=-1;for(i=0;i<o;i+=1)V=Y[i].charCodeAt(0),a=!1,Y[i]===" "?K=i:(V===13||V===3)&&(T=0,a=!0,Z+=t.finalLineHeight||t.finalSize*1.2),e.chars?(A=e.getCharData(Y[i],P.fStyle,P.fFamily),j=a?0:A.w*t.finalSize/100):j=e.measureText(Y[i],t.f,t.finalSize),T+j>U&&Y[i]!==" "?(K===-1?o+=1:i=K,Z+=t.finalLineHeight||t.finalSize*1.2,Y.splice(i,K===i?1:0,"\r"),K=-1,T=0):(T+=j,T+=$);Z+=P.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&J<Z?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=Y,o=t.finalText.length,L=!1)}T=-$,j=0;var ke=0,Re;for(i=0;i<o;i+=1)if(a=!1,Re=t.finalText[i],V=Re.charCodeAt(0),V===13||V===3?(ke=0,E.push(T),_=T>_?T:_,T=-2*$,u="",a=!0,x+=1):u=Re,e.chars?(A=e.getCharData(Re,P.fStyle,e.getFontByName(t.f).fFamily),j=a?0:A.w*t.finalSize/100):j=e.measureText(u,t.f,t.finalSize),Re===" "?ke+=j+$:(T+=j+$+ke,ke=0),s.push({l:j,an:j,add:p,n:a,anIndexes:[],val:u,line:x,animatorJustifyOffset:0}),f==2){if(p+=j,u===""||u===" "||i===o-1){for((u===""||u===" ")&&(p-=j);m<=i;)s[m].an=p,s[m].ind=c,s[m].extra=j,m+=1;c+=1,p=0}}else if(f==3){if(p+=j,u===""||i===o-1){for(u===""&&(p-=j);m<=i;)s[m].an=p,s[m].ind=c,s[m].extra=j,m+=1;p=0,c+=1}}else s[c].ind=c,s[c].extra=0,c+=1;if(t.l=s,_=T>_?T:_,E.push(T),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=_,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=E;var G=n.a,q,M;I=G.length;var z,ee,W=[];for(k=0;k<I;k+=1){for(q=G[k],q.a.sc&&(t.strokeColorAnim=!0),q.a.sw&&(t.strokeWidthAnim=!0),(q.a.fc||q.a.fh||q.a.fs||q.a.fb)&&(t.fillColorAnim=!0),ee=0,z=q.s.b,i=0;i<o;i+=1)M=s[i],M.anIndexes[k]=ee,(z==1&&M.val!==""||z==2&&M.val!==""&&M.val!==" "||z==3&&(M.n||M.val==" "||i==o-1)||z==4&&(M.n||i==o-1))&&(q.s.rn===1&&W.push(ee),ee+=1);n.a[k].s.totalChars=ee;var ie=-1,se;if(q.s.rn===1)for(i=0;i<o;i+=1)M=s[i],ie!=M.anIndexes[k]&&(ie=M.anIndexes[k],se=W.splice(Math.floor(Math.random()*W.length),1)[0]),M.anIndexes[k]=se}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=P.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var t=Math.max,e=Math.min,n=Math.floor;function s(o,a){this._currentTextLength=-1,this.k=!1,this.data=a,this.elem=o,this.comp=o.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(o),this.s=PropertyFactory.getProp(o,a.s||{k:0},0,0,this),"e"in a?this.e=PropertyFactory.getProp(o,a.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(o,a.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(o,a.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(o,a.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(o,a.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(o,a.a,0,.01,this),this.dynamicProperties.length||this.getValue()}s.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var c=0,u=0,f=1,p=1;this.ne.v>0?c=this.ne.v/100:u=-this.ne.v/100,this.xe.v>0?f=1-this.xe.v/100:p=1+this.xe.v/100;var m=BezierFactory.getBezierEasing(c,u,f,p).get,x=0,E=this.finalS,T=this.finalE,_=this.data.sh;if(_===2)T===E?x=a>=T?1:0:x=t(0,e(.5/(T-E)+(a-E)/(T-E),1)),x=m(x);else if(_===3)T===E?x=a>=T?0:1:x=1-t(0,e(.5/(T-E)+(a-E)/(T-E),1)),x=m(x);else if(_===4)T===E?x=0:(x=t(0,e(.5/(T-E)+(a-E)/(T-E),1)),x<.5?x*=2:x=1-2*(x-.5)),x=m(x);else if(_===5){if(T===E)x=0;else{var k=T-E;a=e(t(0,a+.5-E),T-E);var I=-k/2+a,P=k/2;x=Math.sqrt(1-I*I/(P*P))}x=m(x)}else _===6?(T===E?x=0:(a=e(t(0,a+.5-E),T-E),x=(1+Math.cos(Math.PI+Math.PI*2*a/(T-E)))/2),x=m(x)):(a>=n(E)&&(a-E<0?x=t(0,e(e(T,1)-(E-a),1)):x=t(0,e(T-a,1))),x=m(x));if(this.sm.v!==100){var A=this.sm.v*.01;A===0&&(A=1e-8);var j=.5-A*.5;x<j?x=0:(x=(x-j)/A,x>1&&(x=1))}return x*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&this.data.r===2&&(this.e.v=this._currentTextLength);var c=this.data.r===2?1:100/this.data.totalChars,u=this.o.v/c,f=this.s.v/c+u,p=this.e.v/c+u;if(f>p){var m=f;f=p,p=m}this.finalS=f,this.finalE=p}},extendPrototype([DynamicPropertyContainer],s);function i(o,a,c){return new s(o,a)}return{getTextSelectorProp:i}})();function TextAnimatorDataProperty(t,e,n){var s={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,n):s,rx:o.rx?i(t,o.rx,0,degToRads,n):s,ry:o.ry?i(t,o.ry,0,degToRads,n):s,sk:o.sk?i(t,o.sk,0,degToRads,n):s,sa:o.sa?i(t,o.sa,0,degToRads,n):s,s:o.s?i(t,o.s,1,.01,n):s,a:o.a?i(t,o.a,1,0,n):s,o:o.o?i(t,o.o,0,.01,n):s,p:o.p?i(t,o.p,1,0,n):s,sw:o.sw?i(t,o.sw,0,0,n):s,sc:o.sc?i(t,o.sc,1,0,n):s,fc:o.fc?i(t,o.fc,1,0,n):s,fh:o.fh?i(t,o.fh,0,0,n):s,fs:o.fs?i(t,o.fs,0,.01,n):s,fb:o.fb?i(t,o.fb,0,.01,n):s,t:o.t?i(t,o.t,0,0,n):s},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n,s=PropertyFactory.getProp;for(t=0;t<e;t+=1)n=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,s=this._animatorsData,i=this._textData,o=this.mHelper,a=this._renderType,c=this.renderedLetters.length,u,f,p,m,x=t.l,E,T,_,k,I,P,A,j,O,$,V,L,U,J,Z;if(this._hasMaskedPath){if(Z=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Y=Z.v;this._pathData.r.v&&(Y=Y.reverse()),E={tLength:0,segments:[]},m=Y._length-1;var K;for(L=0,p=0;p<m;p+=1)K=bez.buildBezierData(Y.v[p],Y.v[p+1],[Y.o[p][0]-Y.v[p][0],Y.o[p][1]-Y.v[p][1]],[Y.i[p+1][0]-Y.v[p+1][0],Y.i[p+1][1]-Y.v[p+1][1]]),E.tLength+=K.segmentLength,E.segments.push(K),L+=K.segmentLength;p=m,Z.v.c&&(K=bez.buildBezierData(Y.v[p],Y.v[0],[Y.o[p][0]-Y.v[p][0],Y.o[p][1]-Y.v[p][1]],[Y.i[0][0]-Y.v[0][0],Y.i[0][1]-Y.v[0][1]]),E.tLength+=K.segmentLength,E.segments.push(K),L+=K.segmentLength),this._pathData.pi=E}if(E=this._pathData.pi,T=this._pathData.f.v,A=0,P=1,k=0,I=!0,$=E.segments,T<0&&Z.v.c)for(E.tLength<Math.abs(T)&&(T=-Math.abs(T)%E.tLength),A=$.length-1,O=$[A].points,P=O.length-1;T<0;)T+=O[P].partialLength,P-=1,P<0&&(A-=1,O=$[A].points,P=O.length-1);O=$[A].points,j=O[P-1],_=O[P],V=_.partialLength}m=x.length,u=0,f=0;var ke=t.finalSize*1.2*.714,Re=!0,G,q,M,z,ee;z=s.length;var W,ie=-1,se,Pe,Ne,Oe=T,je=A,Be=P,We=-1,Ue,Ze,ot,Je,He,Ge,at,et,lt="",pt=this.defaultPropsArray,Tt;if(t.j===2||t.j===1){var yt=0,_t=0,Pt=t.j===2?-.5:-1,Lt=0,Jt=!0;for(p=0;p<m;p+=1)if(x[p].n){for(yt&&(yt+=_t);Lt<p;)x[Lt].animatorJustifyOffset=yt,Lt+=1;yt=0,Jt=!0}else{for(M=0;M<z;M+=1)G=s[M].a,G.t.propType&&(Jt&&t.j===2&&(_t+=G.t.v*Pt),q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),W.length?yt+=G.t.v*W[0]*Pt:yt+=G.t.v*W*Pt);Jt=!1}for(yt&&(yt+=_t);Lt<p;)x[Lt].animatorJustifyOffset=yt,Lt+=1}for(p=0;p<m;p+=1){if(o.reset(),Ue=1,x[p].n)u=0,f+=t.yOffset,f+=Re?1:0,T=Oe,Re=!1,this._hasMaskedPath&&(A=je,P=Be,O=$[A].points,j=O[P-1],_=O[P],V=_.partialLength,k=0),lt="",et="",Ge="",Tt="",pt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(We!==x[p].line){switch(t.j){case 1:T+=L-t.lineWidths[x[p].line];break;case 2:T+=(L-t.lineWidths[x[p].line])/2;break}We=x[p].line}ie!==x[p].ind&&(x[ie]&&(T+=x[ie].extra),T+=x[p].an/2,ie=x[p].ind),T+=n[0]*x[p].an*.005;var Ct=0;for(M=0;M<z;M+=1)G=s[M].a,G.p.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),W.length?Ct+=G.p.v[0]*W[0]:Ct+=G.p.v[0]*W),G.a.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),W.length?Ct+=G.a.v[0]*W[0]:Ct+=G.a.v[0]*W);for(I=!0,this._pathData.a.v&&(T=x[0].an*.5+(L-this._pathData.f.v-x[0].an*.5-x[x.length-1].an*.5)*ie/(m-1),T+=this._pathData.f.v);I;)k+V>=T+Ct||!O?(U=(T+Ct-k)/_.partialLength,Pe=j.point[0]+(_.point[0]-j.point[0])*U,Ne=j.point[1]+(_.point[1]-j.point[1])*U,o.translate(-n[0]*x[p].an*.005,-(n[1]*ke)*.01),I=!1):O&&(k+=_.partialLength,P+=1,P>=O.length&&(P=0,A+=1,$[A]?O=$[A].points:Z.v.c?(P=0,A=0,O=$[A].points):(k-=_.partialLength,O=null)),O&&(j=_,_=O[P],V=_.partialLength));se=x[p].an/2-x[p].add,o.translate(-se,0,0)}else se=x[p].an/2-x[p].add,o.translate(-se,0,0),o.translate(-n[0]*x[p].an*.005,-n[1]*ke*.01,0);for(M=0;M<z;M+=1)G=s[M].a,G.t.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),(u!==0||t.j!==0)&&(this._hasMaskedPath?W.length?T+=G.t.v*W[0]:T+=G.t.v*W:W.length?u+=G.t.v*W[0]:u+=G.t.v*W));for(t.strokeWidthAnim&&(ot=t.sw||0),t.strokeColorAnim&&(t.sc?Ze=[t.sc[0],t.sc[1],t.sc[2]]:Ze=[0,0,0]),t.fillColorAnim&&t.fc&&(Je=[t.fc[0],t.fc[1],t.fc[2]]),M=0;M<z;M+=1)G=s[M].a,G.a.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),W.length?o.translate(-G.a.v[0]*W[0],-G.a.v[1]*W[1],G.a.v[2]*W[2]):o.translate(-G.a.v[0]*W,-G.a.v[1]*W,G.a.v[2]*W));for(M=0;M<z;M+=1)G=s[M].a,G.s.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),W.length?o.scale(1+(G.s.v[0]-1)*W[0],1+(G.s.v[1]-1)*W[1],1):o.scale(1+(G.s.v[0]-1)*W,1+(G.s.v[1]-1)*W,1));for(M=0;M<z;M+=1){if(G=s[M].a,q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),G.sk.propType&&(W.length?o.skewFromAxis(-G.sk.v*W[0],G.sa.v*W[1]):o.skewFromAxis(-G.sk.v*W,G.sa.v*W)),G.r.propType&&(W.length?o.rotateZ(-G.r.v*W[2]):o.rotateZ(-G.r.v*W)),G.ry.propType&&(W.length?o.rotateY(G.ry.v*W[1]):o.rotateY(G.ry.v*W)),G.rx.propType&&(W.length?o.rotateX(G.rx.v*W[0]):o.rotateX(G.rx.v*W)),G.o.propType&&(W.length?Ue+=(G.o.v*W[0]-Ue)*W[0]:Ue+=(G.o.v*W-Ue)*W),t.strokeWidthAnim&&G.sw.propType&&(W.length?ot+=G.sw.v*W[0]:ot+=G.sw.v*W),t.strokeColorAnim&&G.sc.propType)for(He=0;He<3;He+=1)W.length?Ze[He]+=(G.sc.v[He]-Ze[He])*W[0]:Ze[He]+=(G.sc.v[He]-Ze[He])*W;if(t.fillColorAnim&&t.fc){if(G.fc.propType)for(He=0;He<3;He+=1)W.length?Je[He]+=(G.fc.v[He]-Je[He])*W[0]:Je[He]+=(G.fc.v[He]-Je[He])*W;G.fh.propType&&(W.length?Je=addHueToRGB(Je,G.fh.v*W[0]):Je=addHueToRGB(Je,G.fh.v*W)),G.fs.propType&&(W.length?Je=addSaturationToRGB(Je,G.fs.v*W[0]):Je=addSaturationToRGB(Je,G.fs.v*W)),G.fb.propType&&(W.length?Je=addBrightnessToRGB(Je,G.fb.v*W[0]):Je=addBrightnessToRGB(Je,G.fb.v*W))}}for(M=0;M<z;M+=1)G=s[M].a,G.p.propType&&(q=s[M].s,W=q.getMult(x[p].anIndexes[M],i.a[M].s.totalChars),this._hasMaskedPath?W.length?o.translate(0,G.p.v[1]*W[0],-G.p.v[2]*W[1]):o.translate(0,G.p.v[1]*W,-G.p.v[2]*W):W.length?o.translate(G.p.v[0]*W[0],G.p.v[1]*W[1],-G.p.v[2]*W[2]):o.translate(G.p.v[0]*W,G.p.v[1]*W,-G.p.v[2]*W));if(t.strokeWidthAnim&&(Ge=ot<0?0:ot),t.strokeColorAnim&&(at="rgb("+Math.round(Ze[0]*255)+","+Math.round(Ze[1]*255)+","+Math.round(Ze[2]*255)+")"),t.fillColorAnim&&t.fc&&(et="rgb("+Math.round(Je[0]*255)+","+Math.round(Je[1]*255)+","+Math.round(Je[2]*255)+")"),this._hasMaskedPath){if(o.translate(0,-t.ls),o.translate(0,n[1]*ke*.01+f,0),this._pathData.p.v){J=(_.point[1]-j.point[1])/(_.point[0]-j.point[0]);var It=Math.atan(J)*180/Math.PI;_.point[0]<j.point[0]&&(It+=180),o.rotate(-It*Math.PI/180)}o.translate(Pe,Ne,0),T-=n[0]*x[p].an*.005,x[p+1]&&ie!==x[p+1].ind&&(T+=x[p].an/2,T+=t.tr*.001*t.finalSize)}else{switch(o.translate(u,f,0),t.ps&&o.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:o.translate(x[p].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[x[p].line]),0,0);break;case 2:o.translate(x[p].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[x[p].line])/2,0,0);break}o.translate(0,-t.ls),o.translate(se,0,0),o.translate(n[0]*x[p].an*.005,n[1]*ke*.01,0),u+=x[p].l+t.tr*.001*t.finalSize}a==="html"?lt=o.toCSS():a==="svg"?lt=o.to2dCSS():pt=[o.props[0],o.props[1],o.props[2],o.props[3],o.props[4],o.props[5],o.props[6],o.props[7],o.props[8],o.props[9],o.props[10],o.props[11],o.props[12],o.props[13],o.props[14],o.props[15]],Tt=Ue}c<=p?(ee=new LetterProps(Tt,Ge,at,et,lt,pt),this.renderedLetters.push(ee),c+=1,this.lettersChangedFlag=!0):(ee=this.renderedLetters[p],this.lettersChangedFlag=ee.update(Tt,Ge,at,et,lt,pt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,s=e.length,i,o="";for(n=0;n<s;n+=1)e[n].ty==="sh"&&(i=e[n].ks.k,o+=buildShapeString(i,i.i.length,!0,t));return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,s,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break}e.translate(s,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,s=[],i="";e<n;)t[e]==="\r"||t[e]===""?(s.push(i),i=""):i+=t[e],e+=1;return s.push(i),s},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var s=n.it[n.it.length-1];s.s&&(s.s.k[0]=e,s.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var s=this.globalData.fontManager.getFontByName(n.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var i=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var a=n.l||[],c=!!this.globalData.fontManager.chars;e=a.length;var u,f=this.mHelper,p="",m=this.data.singleShape,x=0,E=0,T=!0,_=n.tr*.001*n.finalSize;if(m&&!c&&!n.sz){var k=this.textContainer,I="start";switch(n.j){case 1:I="end";break;case 2:I="middle";break;default:I="start";break}k.setAttribute("text-anchor",I),k.setAttribute("letter-spacing",_);var P=this.buildTextContents(n.finalText);for(e=P.length,E=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)u=this.textSpans[t].span||createNS("tspan"),u.textContent=P[t],u.setAttribute("x",0),u.setAttribute("y",E),u.style.display="inherit",k.appendChild(u),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=u,E+=n.finalLineHeight;this.layerElement.appendChild(k)}else{var A=this.textSpans.length,j;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!c||!m||t===0){if(u=A>t?this.textSpans[t].span:createNS(c?"g":"text"),A<=t){if(u.setAttribute("stroke-linecap","butt"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=u,c){var O=createNS("g");u.appendChild(O),this.textSpans[t].childSpan=O}this.textSpans[t].span=u,this.layerElement.appendChild(u)}u.style.display="inherit"}if(f.reset(),m&&(a[t].n&&(x=-_,E+=n.yOffset,E+=T?1:0,T=!1),this.applyTextPropertiesToMatrix(n,f,a[t].line,x,E),x+=a[t].l||0,x+=_),c){j=this.globalData.fontManager.getCharData(n.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var $;if(j.t===1)$=new SVGCompElement(j.data,this.globalData,this);else{var V=emptyShapeData;j.data&&j.data.shapes&&(V=this.buildShapeData(j.data,n.finalSize)),$=new SVGShapeElement(V,this.globalData,this)}if(this.textSpans[t].glyph){var L=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(L.layerElement),L.destroy()}this.textSpans[t].glyph=$,$._debug=!0,$.prepareFrame(0),$.renderFrame(),this.textSpans[t].childSpan.appendChild($.layerElement),j.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else m&&u.setAttribute("transform","translate("+f.props[12]+","+f.props[13]+")"),u.textContent=a[t].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&u&&u.setAttribute("d",p)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)n=this.textSpans[t].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;e=s.length;var i,o,a;for(t=0;t<e;t+=1)s[t].n||(i=n[t],o=this.textSpans[t].span,a=this.textSpans[t].glyph,a&&a.renderFrame(),i._mdf.m&&o.setAttribute("transform",i.m),i._mdf.o&&o.setAttribute("opacity",i.o),i._mdf.sw&&o.setAttribute("stroke-width",i.sw),i._mdf.sc&&o.setAttribute("stroke",i.sc),i._mdf.fc&&o.setAttribute("fill",i.fc))}};function ISolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var s="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(s===-1)return;if(!this.elements[s]||this.elements[s]===!0)this.buildItem(s),this.addPendingElement(n);else{var i=e[s],o=i.getMatte(this.layers[t].tt);n.setMatte(o)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var s="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[s],o=i.getMatte(this.layers[e].tt);t.setMatte(o);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var s=0,i;s<e;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement()&&(i=this.elements[s].getBaseElement()),s+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=s-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var s=createNS("title"),i=createElementID();s.setAttribute("id",i),s.textContent=e.title,this.svgElement.appendChild(s),n+=i}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var c=createNS("defs");this.svgElement.appendChild(c);var u=createNS("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var n,s=e.length,i="_";for(n=0;n<s;n+=1)i+=e[n].transform.key+"_";var o=this.sequences[i];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=o,this.sequenceList.push(o)),o},processSequence:function(e,n){for(var s=0,i=e.transforms.length,o=n;s<i&&!n;){if(e.transforms[s].transform.mProps._mdf){o=!0;break}s+=1}if(o)for(e.finalTransform.reset(),s=i-1;s>=0;s-=1)e.finalTransform.multiply(e.transforms[s].transform.mProps.v);e._mdf=o},processSequences:function(e){var n,s=this.sequenceList.length;for(n=0;n<s;n+=1)this.processSequence(this.sequenceList[n],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",n=null,s=null,i=null;function o(){var u=createNS("svg"),f=createNS("filter"),p=createNS("feColorMatrix");return f.setAttribute("id",e),p.setAttribute("type","matrix"),p.setAttribute("color-interpolation-filters","sRGB"),p.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),f.appendChild(p),u.appendChild(f),u.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(u.style.display="none"),u}function a(){n||(i=o(),document.body.appendChild(i),n=createTag("canvas"),s=n.getContext("2d"),s.filter="url(#"+e+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}function c(u){return n||a(),n.width=u.width,n.height=u.height,s.filter="url(#"+e+")",n}return{load:a,get:c}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(t){var e,n=t.data.ef?t.data.ef.length:0;this.filters=[];var s;for(e=0;e<n;e+=1){s=null;var i=t.data.ef[e].ty;if(registeredEffects[i]){var o=registeredEffects[i].effect;s=new o(t.effectsManager.effectElements[e],t)}s&&this.filters.push(s)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,s=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&s.push(this.filters[e]);return s};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,s=this.masksProperties.length,i=!1;for(n=0;n<s;n+=1)this.masksProperties[n].mode!=="n"&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,n,s=this.masksProperties.length,i,o,a;for(e.beginPath(),n=0;n<s;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),a=this.viewData[n].v,i=t.applyToPointArray(a.v[0][0],a.v[0][1],0),e.moveTo(i[0],i[1]);var c,u=a._length;for(c=1;c<u;c+=1)o=t.applyToTriplePoints(a.o[c-1],a.i[c],a.v[c]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);o=t.applyToTriplePoints(a.o[c-1],a.i[0],a.v[0]),e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n);var s=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var s=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(s.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var i=assetLoader.getLumaCanvas(this.canvasContext.canvas),o=i.getContext("2d");o.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(i,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,n,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;e.ty==="rc"?i=5:e.ty==="el"?i=6:e.ty==="sr"&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var o,a=n.length,c;for(o=0;o<a;o+=1)n[o].closed||(c={transforms:s.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(c),n[o].elements.push(c))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},s={};if(t.ty==="fl"||t.ty==="st"?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(n.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(n.wi=s.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);s.d=i,s.d.k||(n.da=s.d.dashArray,n.do=s.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),s.style=n,s},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,s,i){var o,a=t.length-1,c,u,f=[],p=[],m,x,E,T=[].concat(i);for(o=a;o>=0;o-=1){if(m=this.searchProcessedElement(t[o]),m?e[o]=n[m-1]:t[o]._shouldRender=s,t[o].ty==="fl"||t[o].ty==="st"||t[o].ty==="gf"||t[o].ty==="gs")m?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],T),f.push(e[o].style);else if(t[o].ty==="gr"){if(!m)e[o]=this.createGroupElement(t[o]);else for(u=e[o].it.length,c=0;c<u;c+=1)e[o].prevViewData[c]=e[o].it[c];this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,s,T)}else t[o].ty==="tr"?(m||(E=this.createTransformElement(t[o]),e[o]=E),T.push(e[o]),this.addTransformToStyleList(e[o])):t[o].ty==="sh"||t[o].ty==="rc"||t[o].ty==="el"||t[o].ty==="sr"?m||(e[o]=this.createShapeElement(t[o])):t[o].ty==="tm"||t[o].ty==="rd"||t[o].ty==="pb"||t[o].ty==="zz"||t[o].ty==="op"?(m?(x=e[o],x.closed=!1):(x=ShapeModifiers.getModifier(t[o].ty),x.init(this,t[o]),e[o]=x,this.shapeModifiers.push(x)),p.push(x)):t[o].ty==="rp"&&(m?(x=e[o],x.closed=!0):(x=ShapeModifiers.getModifier(t[o].ty),e[o]=x,x.init(this,t,o,e),this.shapeModifiers.push(x),s=!1),p.push(x));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),a=p.length,o=0;o<a;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,n,s,i,o,a,c,u=this.globalData.renderer,f=this.globalData.canvasContext,p,m;for(t=0;t<e;t+=1)if(m=this.stylesList[t],p=m.type,!((p==="st"||p==="gs")&&m.wi===0||!m.data._shouldRender||m.coOp===0||this.globalData.currentGlobalAlpha===0)){for(u.save(),a=m.elements,p==="st"||p==="gs"?(u.ctxStrokeStyle(p==="st"?m.co:m.grd),u.ctxLineWidth(m.wi),u.ctxLineCap(m.lc),u.ctxLineJoin(m.lj),u.ctxMiterLimit(m.ml||0)):u.ctxFillStyle(p==="fl"?m.co:m.grd),u.ctxOpacity(m.coOp),p!=="st"&&p!=="gs"&&f.beginPath(),u.ctxTransform(m.preTransforms.finalTransform.props),s=a.length,n=0;n<s;n+=1){for((p==="st"||p==="gs")&&(f.beginPath(),m.da&&(f.setLineDash(m.da),f.lineDashOffset=m.do)),c=a[n].trNodes,o=c.length,i=0;i<o;i+=1)c[i].t==="m"?f.moveTo(c[i].p[0],c[i].p[1]):c[i].t==="c"?f.bezierCurveTo(c[i].pts[0],c[i].pts[1],c[i].pts[2],c[i].pts[3],c[i].pts[4],c[i].pts[5]):f.closePath();(p==="st"||p==="gs")&&(u.ctxStroke(),m.da&&f.setLineDash(this.dashResetter))}p!=="st"&&p!=="gs"&&this.globalData.renderer.ctxFill(m.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,s){var i,o=e.length-1,a;for(a=t,i=o;i>=0;i-=1)e[i].ty==="tr"?(a=n[i].transform,this.renderShapeTransform(t,a)):e[i].ty==="sh"||e[i].ty==="el"||e[i].ty==="rc"||e[i].ty==="sr"?this.renderPath(e[i],n[i]):e[i].ty==="fl"?this.renderFill(e[i],n[i],a):e[i].ty==="st"?this.renderStroke(e[i],n[i],a):e[i].ty==="gf"||e[i].ty==="gs"?this.renderGradientFill(e[i],n[i],a):e[i].ty==="gr"?this.renderShape(a,e[i].it,n[i].it):e[i].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n=t.trNodes,s=e.paths,i,o,a,c=s._length;n.length=0;var u=t.transforms.finalTransform;for(a=0;a<c;a+=1){var f=s.shapes[a];if(f&&f.v){for(o=f._length,i=1;i<o;i+=1)i===1&&n.push({t:"m",p:u.applyToPointArray(f.v[0][0],f.v[0][1],0)}),n.push({t:"c",pts:u.applyToTriplePoints(f.o[i-1],f.i[i],f.v[i])});o===1&&n.push({t:"m",p:u.applyToPointArray(f.v[0][0],f.v[0][1],0)}),f.c&&o&&(n.push({t:"c",pts:u.applyToTriplePoints(f.o[i-1],f.i[0],f.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,s=e.styledShapes.length;for(n=0;n<s;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var s=e.style;(e.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(s.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var s=e.style,i;if(!s.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var o=this.globalData.canvasContext,a=e.s.v,c=e.e.v;if(t.t===1)i=o.createLinearGradient(a[0],a[1],c[0],c[1]);else{var u=Math.sqrt(Math.pow(a[0]-c[0],2)+Math.pow(a[1]-c[1],2)),f=Math.atan2(c[1]-a[1],c[0]-a[0]),p=e.h.v;p>=1?p=.99:p<=-1&&(p=-.99);var m=u*p,x=Math.cos(f+e.a.v)*m+a[0],E=Math.sin(f+e.a.v)*m+a[1];i=o.createRadialGradient(x,E,0,a[0],a[1],u)}var T,_=t.g.p,k=e.g.c,I=1;for(T=0;T<_;T+=1)e.g._hasOpacity&&e.g._collapsable&&(I=e.g.o[T*2+1]),i.addColorStop(k[T*4]/100,"rgba("+k[T*4+1]+","+k[T*4+2]+","+k[T*4+3]+","+I+")");s.grd=i}s.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var s=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(s.da=i.dashArray,s.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(s.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(s.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s=this.globalData.fontManager.getFontByName(t.f),i,o,a=t.l,c=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,o=t.finalText.length;var u,f,p,m,x,E,T,_,k,I,P=this.data.singleShape,A=t.tr*.001*t.finalSize,j=0,O=0,$=!0,V=0;for(i=0;i<o;i+=1){u=this.globalData.fontManager.getCharData(t.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),f=u&&u.data||{},c.reset(),P&&a[i].n&&(j=-A,O+=t.yOffset,O+=$?1:0,$=!1),x=f.shapes?f.shapes[0].it:[],T=x.length,c.scale(t.finalSize/100,t.finalSize/100),P&&this.applyTextPropertiesToMatrix(t,c,a[i].line,j,O),k=createSizedArray(T-1);var L=0;for(E=0;E<T;E+=1)if(x[E].ty==="sh"){for(m=x[E].ks.k.i.length,_=x[E].ks.k,I=[],p=1;p<m;p+=1)p===1&&I.push(c.applyToX(_.v[0][0],_.v[0][1],0),c.applyToY(_.v[0][0],_.v[0][1],0)),I.push(c.applyToX(_.o[p-1][0],_.o[p-1][1],0),c.applyToY(_.o[p-1][0],_.o[p-1][1],0),c.applyToX(_.i[p][0],_.i[p][1],0),c.applyToY(_.i[p][0],_.i[p][1],0),c.applyToX(_.v[p][0],_.v[p][1],0),c.applyToY(_.v[p][0],_.v[p][1],0));I.push(c.applyToX(_.o[p-1][0],_.o[p-1][1],0),c.applyToY(_.o[p-1][0],_.o[p-1][1],0),c.applyToX(_.i[0][0],_.i[0][1],0),c.applyToY(_.i[0][0],_.i[0][1],0),c.applyToX(_.v[0][0],_.v[0][1],0),c.applyToY(_.v[0][0],_.v[0][1],0)),k[L]=I,L+=1}P&&(j+=a[i].l,j+=A),this.textSpans[V]?this.textSpans[V].elem=k:this.textSpans[V]={elem:k},V+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,n,s,i,o,a,c=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;n=u.length;var f,p=null,m=null,x=null,E,T,_=this.globalData.renderer;for(e=0;e<n;e+=1)if(!u[e].n){if(f=c[e],f&&(_.save(),_.ctxTransform(f.p),_.ctxOpacity(f.o)),this.fill){for(f&&f.fc?p!==f.fc&&(_.ctxFillStyle(f.fc),p=f.fc):p!==this.values.fill&&(p=this.values.fill,_.ctxFillStyle(this.values.fill)),E=this.textSpans[e].elem,i=E.length,this.globalData.canvasContext.beginPath(),s=0;s<i;s+=1)for(T=E[s],a=T.length,this.globalData.canvasContext.moveTo(T[0],T[1]),o=2;o<a;o+=6)this.globalData.canvasContext.bezierCurveTo(T[o],T[o+1],T[o+2],T[o+3],T[o+4],T[o+5]);this.globalData.canvasContext.closePath(),_.ctxFill()}if(this.stroke){for(f&&f.sw?x!==f.sw&&(x=f.sw,_.ctxLineWidth(f.sw)):x!==this.values.sWidth&&(x=this.values.sWidth,_.ctxLineWidth(this.values.sWidth)),f&&f.sc?m!==f.sc&&(m=f.sc,_.ctxStrokeStyle(f.sc)):m!==this.values.stroke&&(m=this.values.stroke,_.ctxStrokeStyle(this.values.stroke)),E=this.textSpans[e].elem,i=E.length,this.globalData.canvasContext.beginPath(),s=0;s<i;s+=1)for(T=E[s],a=T.length,this.globalData.canvasContext.moveTo(T[0],T[1]),o=2;o<a;o+=6)this.globalData.canvasContext.bezierCurveTo(T[o],T[o+1],T[o+2],T[o+3],T[o+4],T[o+5]);this.globalData.canvasContext.closePath(),_.ctxStroke()}f&&this.globalData.renderer.restore()}};function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),n=this.img.width,s=this.img.height,i=n/s,o=this.assetData.w/this.assetData.h,a,c,u=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;i>o&&u==="xMidYMid slice"||i<o&&u!=="xMidYMid slice"?(c=s,a=c*o):(a=n,c=a/o),e.drawImage(this.img,(n-a)/2,(s-c)/2,a,c,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,s){this.canvasContext.fillRect(t,e,n,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var n,s;t?(n=t,s=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr);var i,o;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var a=this.renderConfig.preserveAspectRatio.split(" "),c=a[1]||"meet",u=a[0]||"xMidYMid",f=u.substr(0,4),p=u.substr(4);i=n/s,o=this.transformCanvas.w/this.transformCanvas.h,o>i&&c==="meet"||o<i&&c==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),f==="xMid"&&(o<i&&c==="meet"||o>i&&c==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:f==="xMax"&&(o<i&&c==="meet"||o>i&&c==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,p==="YMid"&&(o>i&&c==="meet"||o<i&&c==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:p==="YMax"&&(o>i&&c==="meet"||o<i&&c==="slice")?this.transformCanvas.ty=(s-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=s-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=s-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],n=e.transform,s,i=this.cTr.props;for(s=0;s<16;s+=1)i[s]=n[s];if(t){this.nativeContext.restore();var o=this.stack[this.cArrPos+1];this.appliedFillStyle=o.fillStyle,this.appliedStrokeStyle=o.strokeStyle,this.appliedLineWidth=o.lineWidth,this.appliedLineCap=o.lineCap,this.appliedLineJoin=o.lineJoin,this.appliedMiterLimit=o.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],s;for(s=0;s<16;s+=1)n.transform[s]=e[s];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=n.opacity,i.fillStyle=n.fillStyle,i.strokeStyle=n.strokeStyle,i.lineWidth=n.lineWidth,i.lineCap=n.lineCap,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,n=this.layers.length;for(e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();e.transform=n,e.webkitTransform=n}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,s=t.length;for(n=0;n<s;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n=t.sh.v,s=t.transformers,i,o=n._length,a,c,u,f;if(!(o<=1)){for(i=0;i<o-1;i+=1)a=this.getTransformedPoint(s,n.v[i]),c=this.getTransformedPoint(s,n.o[i]),u=this.getTransformedPoint(s,n.i[i+1]),f=this.getTransformedPoint(s,n.v[i+1]),this.checkBounds(a,c,u,f,e);n.c&&(a=this.getTransformedPoint(s,n.v[i]),c=this.getTransformedPoint(s,n.o[i]),u=this.getTransformedPoint(s,n.i[0]),f=this.getTransformedPoint(s,n.v[0]),this.checkBounds(a,c,u,f,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,s,i){this.getBoundsOfCurve(t,e,n,s);var o=this.shapeBoundingBox;i.x=bmMin(o.left,i.x),i.xMax=bmMax(o.right,i.xMax),i.y=bmMin(o.top,i.y),i.yMax=bmMax(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,s){for(var i=[[t[0],s[0]],[t[1],s[1]]],o,a,c,u,f,p,m,x=0;x<2;++x)a=6*t[x]-12*e[x]+6*n[x],o=-3*t[x]+9*e[x]-9*n[x]+3*s[x],c=3*e[x]-3*t[x],a|=0,o|=0,c|=0,o===0&&a===0||(o===0?(u=-c/a,u>0&&u<1&&i[x].push(this.calculateF(u,t,e,n,s,x))):(f=a*a-4*c*o,f>=0&&(p=(-a+bmSqrt(f))/(2*o),p>0&&p<1&&i[x].push(this.calculateF(p,t,e,n,s,x)),m=(-a-bmSqrt(f))/(2*o),m>0&&m<1&&i[x].push(this.calculateF(m,t,e,n,s,x)))));this.shapeBoundingBox.left=bmMin.apply(null,i[0]),this.shapeBoundingBox.top=bmMin.apply(null,i[1]),this.shapeBoundingBox.right=bmMax.apply(null,i[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,i[1])},HShapeElement.prototype.calculateF=function(t,e,n,s,i,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*n[o]+3*(1-t)*bmPow(t,2)*s[o]+bmPow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,s=t.length;for(n=0;n<s;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var s=0;s<t.keyframes.length;s+=1){var i=t.keyframes[s].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=i,s.webkitTransform=i}}};function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{e.fontFamily=s.fFamily;var i=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=i}var a,c,u=t.l;c=u.length;var f,p,m,x=this.mHelper,E,T="",_=0;for(a=0;a<c;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[_]?f=this.textPaths[_]:(f=createNS("path"),f.setAttribute("stroke-linecap",lineCapEnum[1]),f.setAttribute("stroke-linejoin",lineJoinEnum[2]),f.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[_]?(p=this.textSpans[_],m=p.children[0]):(p=createTag("div"),p.style.lineHeight=0,m=createNS("svg"),m.appendChild(f),styleDiv(p)))):this.isMasked?f=this.textPaths[_]?this.textPaths[_]:createNS("text"):this.textSpans[_]?(p=this.textSpans[_],f=this.textPaths[_]):(p=createTag("span"),styleDiv(p),f=createTag("span"),styleDiv(f),p.appendChild(f)),this.globalData.fontManager.chars){var k=this.globalData.fontManager.getCharData(t.finalText[a],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),I;if(k?I=k.data:I=null,x.reset(),I&&I.shapes&&I.shapes.length&&(E=I.shapes[0].it,x.scale(t.finalSize/100,t.finalSize/100),T=this.createPathShape(x,E),f.setAttribute("d",T)),this.isMasked)this.innerElem.appendChild(f);else{if(this.innerElem.appendChild(p),I&&I.shapes){document.body.appendChild(m);var P=m.getBBox();m.setAttribute("width",P.width+2),m.setAttribute("height",P.height+2),m.setAttribute("viewBox",P.x-1+" "+(P.y-1)+" "+(P.width+2)+" "+(P.height+2));var A=m.style,j="translate("+(P.x-1)+"px,"+(P.y-1)+"px)";A.transform=j,A.webkitTransform=j,u[a].yOffset=P.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);p.appendChild(m)}}else if(f.textContent=u[a].val,f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(f);else{this.innerElem.appendChild(p);var O=f.style,$="translate3d(0,"+-t.finalSize/1.2+"px,0)";O.transform=$,O.webkitTransform=$}this.isMasked?this.textSpans[_]=f:this.textSpans[_]=p,this.textSpans[_].style.display="block",this.textPaths[_]=f,_+=1}for(;_<this.textSpans.length;)this.textSpans[_].style.display="none",_+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,s,i=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;s=a.length;var c,u,f;for(n=0;n<s;n+=1)a[n].n?i+=1:(u=this.textSpans[n],f=this.textPaths[n],c=o[i],i+=1,c._mdf.m&&(this.isMasked?u.setAttribute("transform",c.m):(u.style.webkitTransform=c.m,u.style.transform=c.m)),u.style.opacity=c.o,c.sw&&c._mdf.sw&&f.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&f.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(f.setAttribute("fill",c.fc),f.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var p=this.innerElem.getBBox();this.currentBBox.w!==p.width&&(this.currentBBox.w=p.width,this.svgElement.setAttribute("width",p.width)),this.currentBBox.h!==p.height&&(this.currentBBox.h=p.height,this.svgElement.setAttribute("height",p.height));var m=1;if(this.currentBBox.w!==p.width+m*2||this.currentBBox.h!==p.height+m*2||this.currentBBox.x!==p.x-m||this.currentBBox.y!==p.y-m){this.currentBBox.w=p.width+m*2,this.currentBBox.h=p.height+m*2,this.currentBBox.x=p.x-m,this.currentBBox.y=p.y-m,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var x="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=x,t.webkitTransform=x}}}};function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,n,s,i;for(t=0;t<e;t+=1)if(n=this.comp.threeDElements[t],n.type==="3d"){s=n.perspectiveElem.style,i=n.container.style;var o=this.pe.v+"px",a="0px 0px 0px",c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.perspective=o,s.webkitPerspective=o,i.transformOrigin=a,i.mozTransformOrigin=a,i.webkitTransformOrigin=a,s.transform=c,s.webkitTransform=c}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,n;if(this.hierarchy)for(n=this.hierarchy.length,e=0;e<n;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,e=n;e>=0;e-=1){var s=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;this.p?i=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:i=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/o,i[1]/o,i[2]/o],c=Math.sqrt(a[2]*a[2]+a[0]*a[0]),u=Math.atan2(a[1],c),f=Math.atan2(a[0],-a[2]);this.mat.rotateY(f).rotateX(-u)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var p=!this._prevMat.equals(this.mat);if((p||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var m,x,E;for(e=0;e<n;e+=1)if(m=this.comp.threeDElements[e],m.type==="3d"){if(p){var T=this.mat.toCSS();E=m.container.style,E.transform=T,E.webkitTransform=T}this.pe._mdf&&(x=m.perspectiveElem.style,x.perspective=this.pe.v+"px",x.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var s=this.layers[e];if(!s.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var i=0,o,a,c;i<e;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement&&(a=this.elements[i],c=this.layers[i].ddd?this.getThreeDContainerByPos(i):a.getBaseElement(),o=c||o),i+=1;o?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,o):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n=createTag("div"),s,i;styleDiv(n);var o=createTag("div");if(styleDiv(o),e==="3d"){s=n.style,s.width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var a="50% 50%";s.webkitTransformOrigin=a,s.mozTransformOrigin=a,s.transformOrigin=a,i=o.style;var c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.transform=c,i.webkitTransform=c}n.appendChild(o);var u={container:o,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(u),u},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,n,s="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(s!=="3d"&&(s="3d",n=this.createThreeDContainer(t,"3d")),n.endPos=Math.max(n.endPos,t)):(s!=="2d"&&(s="2d",n=this.createThreeDContainer(t,"2d")),n.endPos=Math.max(n.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,s=this.threeDElements.length;n<s;){if(e<=this.threeDElements[n].endPos){for(var i=this.threeDElements[n].startPos,o;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[n].container.insertBefore(t,o):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,s=e.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=e,styleDiv(e),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),s.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var o=createNS("defs");i.appendChild(o),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,n=t/e,s=this.globalData.compSize.w/this.globalData.compSize.h,i,o,a,c;s>n?(i=t/this.globalData.compSize.w,o=t/this.globalData.compSize.w,a=0,c=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(i=e/this.globalData.compSize.h,o=e/this.globalData.compSize.h,a=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,c=0);var u=this.resizerElem.style;u.webkitTransform="matrix3d("+i+",0,0,0,0,"+o+",0,0,0,0,1,0,"+a+","+c+",0,1)",u.transform=u.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,n,s=this.threeDElements.length;for(n=0;n<s;n+=1){var i=this.threeDElements[n].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,s=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],s,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}};function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n=0,s;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(s=this.elements[n].getBaseElement()),n+=1;s?this.layerElement.insertBefore(t,s):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=(function(){return function(t){function e(n){for(var s=0,i=t.layers.length;s<i;){if(t.layers[s].nm===n||t.layers[s].ind===n)return t.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}})();function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function seedRandom(t,e){var n=this,s=256,i=6,o=52,a="random",c=e.pow(s,i),u=e.pow(2,o),f=u*2,p=s-1,m;function x(A,j,O){var $=[];j=j===!0?{entropy:!0}:j||{};var V=k(_(j.entropy?[A,P(t)]:A===null?I():A,3),$),L=new E($),U=function(){for(var Z=L.g(i),Y=c,K=0;Z<u;)Z=(Z+K)*s,Y*=s,K=L.g(1);for(;Z>=f;)Z/=2,Y/=2,K>>>=1;return(Z+K)/Y};return U.int32=function(){return L.g(4)|0},U.quick=function(){return L.g(4)/4294967296},U.double=U,k(P(L.S),t),(j.pass||O||function(J,Z,Y,K){return K&&(K.S&&T(K,L),J.state=function(){return T(L,{})}),Y?(e[a]=J,Z):J})(U,V,"global"in j?j.global:this==e,j.state)}e["seed"+a]=x;function E(A){var j,O=A.length,$=this,V=0,L=$.i=$.j=0,U=$.S=[];for(O||(A=[O++]);V<s;)U[V]=V++;for(V=0;V<s;V++)U[V]=U[L=p&L+A[V%O]+(j=U[V])],U[L]=j;$.g=function(J){for(var Z,Y=0,K=$.i,ke=$.j,Re=$.S;J--;)Z=Re[K=p&K+1],Y=Y*s+Re[p&(Re[K]=Re[ke=p&ke+Z])+(Re[ke]=Z)];return $.i=K,$.j=ke,Y}}function T(A,j){return j.i=A.i,j.j=A.j,j.S=A.S.slice(),j}function _(A,j){var O=[],$=_typeof$2(A),V;if(j&&$=="object")for(V in A)try{O.push(_(A[V],j-1))}catch{}return O.length?O:$=="string"?A:A+"\0"}function k(A,j){for(var O=A+"",$,V=0;V<O.length;)j[p&V]=p&($^=j[p&V]*19)+O.charCodeAt(V++);return P(j)}function I(){try{var A=new Uint8Array(s);return(n.crypto||n.msCrypto).getRandomValues(A),P(A)}catch{var j=n.navigator,O=j&&j.plugins;return[+new Date,n,O,n.screen,P(t)]}}function P(A){return String.fromCharCode.apply(0,A)}k(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,s=t.length,i=[];for(n=0;n<s;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),s=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(s,e)||n==="string"||s==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,c=[];i<o||i<a;)(typeof t[i]=="number"||t[i]instanceof Number)&&(typeof e[i]=="number"||e[i]instanceof Number)?c[i]=t[i]+e[i]:c[i]=e[i]===void 0?t[i]:t[i]||e[i],i+=1;return c}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),s=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(s,e))return n==="string"&&(t=parseInt(t,10)),s==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,c=[];i<o||i<a;)(typeof t[i]=="number"||t[i]instanceof Number)&&(typeof e[i]=="number"||e[i]instanceof Number)?c[i]=t[i]-e[i]:c[i]=e[i]===void 0?t[i]:t[i]||e[i],i+=1;return c}return 0}function mul(t,e){var n=_typeof$1(t),s=_typeof$1(e),i;if(isNumerable(n,t)&&isNumerable(s,e))return t*e;var o,a;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(a=t.length,i=createTypedArray("float32",a),o=0;o<a;o+=1)i[o]=t[o]*e;return i}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(a=e.length,i=createTypedArray("float32",a),o=0;o<a;o+=1)i[o]=t*e[o];return i}return 0}function div(t,e){var n=_typeof$1(t),s=_typeof$1(e),i;if(isNumerable(n,t)&&isNumerable(s,e))return t/e;var o,a;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(a=t.length,i=createTypedArray("float32",a),o=0;o<a;o+=1)i[o]=t[o]/e;return i}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(a=e.length,i=createTypedArray("float32",a),o=0;o<a;o+=1)i[o]=t/e[o];return i}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var s=n;n=e,e=s}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var n,s=Math.min(t.length,e.length),i=0;for(n=0;n<s;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],n=t[1],s=t[2],i=Math.max(e,n,s),o=Math.min(e,n,s),a,c,u=(i+o)/2;if(i===o)a=0,c=0;else{var f=i-o;switch(c=u>.5?f/(2-i-o):f/(i+o),i){case e:a=(n-s)/f+(n<s?6:0);break;case n:a=(s-e)/f+2;break;case s:a=(e-n)/f+4;break}a/=6}return[a,c,u,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e=t[0],n=t[1],s=t[2],i,o,a;if(n===0)i=s,a=s,o=s;else{var c=s<.5?s*(1+n):s+n-s*n,u=2*s-c;i=hue2rgb(u,c,e+1/3),o=hue2rgb(u,c,e),a=hue2rgb(u,c,e-1/3)}return[i,o,a,t[3]]}function linear(t,e,n,s,i){if((s===void 0||i===void 0)&&(s=e,i=n,e=0,n=1),n<e){var o=n;n=e,e=o}if(t<=e)return s;if(t>=n)return i;var a=n===e?0:(t-e)/(n-e);if(!s.length)return s+(i-s)*a;var c,u=s.length,f=createTypedArray("float32",u);for(c=0;c<u;c+=1)f[c]=s[c]+(i[c]-s[c])*a;return f}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,s=e.length;t||(t=createTypedArray("float32",s));var i=createTypedArray("float32",s),o=BMMath.random();for(n=0;n<s;n+=1)i[n]=t[n]+o*(e[n]-t[n]);return i}t===void 0&&(t=0);var a=BMMath.random();return t+a*(e-t)}function createPath(t,e,n,s){var i,o=t.length,a=shapePool.newElement();a.setPathData(!!s,o);var c=[0,0],u,f;for(i=0;i<o;i+=1)u=e&&e[i]?e[i]:c,f=n&&n[i]?n[i]:c,a.setTripleAt(t[i][0],t[i][1],f[0]+t[i][0],f[1]+t[i][1],u[0]+t[i][0],u[1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(e,n){var s,i,o=this.pv.length?this.pv.length:1,a=createTypedArray("float32",o);e=5;var c=Math.floor(time*e);for(s=0,i=0;s<c;){for(i=0;i<o;i+=1)a[i]+=-n+n*2*BMMath.random();s+=1}var u=time*e,f=u-Math.floor(u),p=createTypedArray("float32",o);if(o>1){for(i=0;i<o;i+=1)p[i]=this.pv[i]+a[i]+(-n+n*2*BMMath.random())*f;return p}return this.pv+a[0]+(-n+n*2*BMMath.random())*f}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],s=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,i=-Math.atan2(n[1],n[2])/degToRads;return[i,s,0]}function easeOut(t,e,n,s,i){return applyEase(easeOutBez,t,e,n,s,i)}function easeIn(t,e,n,s,i){return applyEase(easeInBez,t,e,n,s,i)}function ease(t,e,n,s,i){return applyEase(easeInOutBez,t,e,n,s,i)}function applyEase(t,e,n,s,i,o){i===void 0?(i=n,o=s):e=(e-n)/(s-n),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(i)){var c,u=i.length,f=createTypedArray("float32",u);for(c=0;c<u;c+=1)f[c]=(o[c]-i[c])*a+i[c];return f}return(o-i)*a+i}function nearestKey(t){var e,n=data.k.length,s,i;if(!data.k.length||typeof data.k[0]=="number")s=0,i=0;else if(s=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)s=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1)if(t===data.k[e].t){s=e+1,i=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(s=e+2,i=data.k[e+1].t):(s=e+1,i=data.k[e].t);break}s===-1&&(s=e+1,i=data.k[e].t)}var o={};return o.index=s,o.time=i/elem.comp.globalData.frameRate,o}function key(t){var e,n,s;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(s=i.length,n=0;n<s;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(n){var s=0,i=[];function o(){s+=1}function a(){s-=1,s===0&&u()}function c(f){i.indexOf(f)===-1&&i.push(f)}function u(){var f,p=i.length;for(f=0;f<p;f+=1)i[f].release();i.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=o,n.renderer.globalData.popExpression=a,n.renderer.globalData.registerExpressionProperty=c}return t})(),MaskManagerInterface=(function(){function t(n,s){this._mask=n,this._data=s}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(s){var i=createSizedArray(s.viewData.length),o,a=s.viewData.length;for(o=0;o<a;o+=1)i[o]=new t(s.viewData[o],s.masksProperties[o]);var c=function(f){for(o=0;o<a;){if(s.masksProperties[o].nm===f)return i[o];o+=1}return null};return c};return e})(),ExpressionPropertyInterface=(function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(a,c,u){Object.defineProperty(a,"velocity",{get:function(){return c.getVelocityAtTime(c.comp.currentFrame)}}),a.numKeys=c.keyframes?c.keyframes.length:0,a.key=function(f){if(!a.numKeys)return 0;var p="";"s"in c.keyframes[f-1]?p=c.keyframes[f-1].s:"e"in c.keyframes[f-2]?p=c.keyframes[f-2].e:p=c.keyframes[f-2].s;var m=u==="unidimensional"?new Number(p):Object.assign({},p);return m.time=c.keyframes[f-1].t/c.elem.comp.globalData.frameRate,m.value=u==="unidimensional"?p[0]:p,m},a.valueAtTime=c.getValueAtTime,a.speedAtTime=c.getSpeedAtTime,a.velocityAtTime=c.getVelocityAtTime,a.propertyGroup=c.propertyGroup}function s(a){(!a||!("pv"in a))&&(a=t);var c=1/a.mult,u=a.pv*c,f=new Number(u);return f.value=u,n(f,a,"unidimensional"),function(){return a.k&&a.getValue(),u=a.v*c,f.value!==u&&(f=new Number(u),f.value=u,f[0]=u,n(f,a,"unidimensional")),f}}function i(a){(!a||!("pv"in a))&&(a=e);var c=1/a.mult,u=a.data&&a.data.l||a.pv.length,f=createTypedArray("float32",u),p=createTypedArray("float32",u);return f.value=p,n(f,a,"multidimensional"),function(){a.k&&a.getValue();for(var m=0;m<u;m+=1)p[m]=a.v[m]*c,f[m]=p[m];return f}}function o(){return t}return function(a){return a?a.propType==="unidimensional"?s(a):i(a):o}})(),TransformExpressionInterface=(function(){return function(t){function e(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var n,s,i,o;return t.p?o=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[n(),s(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}})(),LayerExpressionInterface=(function(){function t(f){var p=new Matrix;if(f!==void 0){var m=this._elem.finalTransform.mProp.getValueAtTime(f);m.clone(p)}else{var x=this._elem.finalTransform.mProp;x.applyToMatrix(p)}return p}function e(f,p){var m=this.getMatrix(p);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.applyPoint(m,f)}function n(f,p){var m=this.getMatrix(p);return this.applyPoint(m,f)}function s(f,p){var m=this.getMatrix(p);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.invertPoint(m,f)}function i(f,p){var m=this.getMatrix(p);return this.invertPoint(m,f)}function o(f,p){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,x=this._elem.hierarchy.length;for(m=0;m<x;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(f)}return f.applyToPointArray(p[0],p[1],p[2]||0)}function a(f,p){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,x=this._elem.hierarchy.length;for(m=0;m<x;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(f)}return f.inversePoint(p)}function c(f){var p=new Matrix;if(p.reset(),this._elem.finalTransform.mProp.applyToMatrix(p),this._elem.hierarchy&&this._elem.hierarchy.length){var m,x=this._elem.hierarchy.length;for(m=0;m<x;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(p);return p.inversePoint(f)}return p.inversePoint(f)}function u(){return[1,1,1,1]}return function(f){var p;function m(_){E.mask=new MaskManagerInterface(_,f)}function x(_){E.effect=_}function E(_){switch(_){case"ADBE Root Vectors Group":case"Contents":case 2:return E.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return p;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return E.effect;case"ADBE Text Properties":return E.textInterface;default:return null}}E.getMatrix=t,E.invertPoint=a,E.applyPoint=o,E.toWorld=n,E.toWorldVec=e,E.fromWorld=i,E.fromWorldVec=s,E.toComp=n,E.fromComp=c,E.sampleImage=u,E.sourceRectAtTime=f.sourceRectAtTime.bind(f),E._elem=f,p=TransformExpressionInterface(f.finalTransform.mProp);var T=getDescriptor(p,"anchorPoint");return Object.defineProperties(E,{hasParent:{get:function(){return f.hierarchy.length}},parent:{get:function(){return f.hierarchy[0].layerInterface}},rotation:getDescriptor(p,"rotation"),scale:getDescriptor(p,"scale"),position:getDescriptor(p,"position"),opacity:getDescriptor(p,"opacity"),anchorPoint:T,anchor_point:T,transform:{get:function(){return p}},active:{get:function(){return f.isInRange}}}),E.startTime=f.data.st,E.index=f.data.ind,E.source=f.data.refId,E.height=f.data.ty===0?f.data.h:100,E.width=f.data.ty===0?f.data.w:100,E.inPoint=f.data.ip/f.comp.globalData.frameRate,E.outPoint=f.data.op/f.comp.globalData.frameRate,E._name=f.data.nm,E.registerMaskInterface=m,E.registerEffectsInterface=x,E}})(),propertyGroupFactory=(function(){return function(t,e){return function(n){return n=n===void 0?1:n,n<=0?t:e(n-1)}}})(),PropertyInterface=(function(){return function(t,e){var n={_name:t};function s(i){return i=i===void 0?1:i,i<=0?n:e(i-1)}return s}})(),EffectsExpressionInterface=(function(){var t={createEffectsInterface:e};function e(i,o){if(i.effectsManager){var a=[],c=i.data.ef,u,f=i.effectsManager.effectElements.length;for(u=0;u<f;u+=1)a.push(n(c[u],i.effectsManager.effectElements[u],o,i));var p=i.data.ef||[],m=function(E){for(u=0,f=p.length;u<f;){if(E===p[u].nm||E===p[u].mn||E===p[u].ix)return a[u];u+=1}return null};return Object.defineProperty(m,"numProperties",{get:function(){return p.length}}),m}return null}function n(i,o,a,c){function u(E){for(var T=i.ef,_=0,k=T.length;_<k;){if(E===T[_].nm||E===T[_].mn||E===T[_].ix)return T[_].ty===5?p[_]:p[_]();_+=1}throw new Error}var f=propertyGroupFactory(u,a),p=[],m,x=i.ef.length;for(m=0;m<x;m+=1)i.ef[m].ty===5?p.push(n(i.ef[m],o.effectElements[m],o.effectElements[m].propertyGroup,c)):p.push(s(o.effectElements[m],i.ef[m].ty,c,f));return i.mn==="ADBE Color Control"&&Object.defineProperty(u,"color",{get:function(){return p[0]()}}),Object.defineProperties(u,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:f}}),u.enabled=i.en!==0,u.active=u.enabled,u}function s(i,o,a,c){var u=ExpressionPropertyInterface(i.p);function f(){return o===10?a.comp.compInterface(i.p.v):u()}return i.p.setGroupProperty&&i.p.setGroupProperty(PropertyInterface("",c)),f}return t})(),ShapePathInterface=(function(){return function(e,n,s){var i=n.sh;function o(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?o.path:null}var a=propertyGroupFactory(o,s);return i.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(o,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:s}}),o}})(),ShapeExpressionInterface=(function(){function t(T,_,k){var I=[],P,A=T?T.length:0;for(P=0;P<A;P+=1)T[P].ty==="gr"?I.push(n(T[P],_[P],k)):T[P].ty==="fl"?I.push(s(T[P],_[P],k)):T[P].ty==="st"?I.push(a(T[P],_[P],k)):T[P].ty==="tm"?I.push(c(T[P],_[P],k)):T[P].ty==="tr"||(T[P].ty==="el"?I.push(f(T[P],_[P],k)):T[P].ty==="sr"?I.push(p(T[P],_[P],k)):T[P].ty==="sh"?I.push(ShapePathInterface(T[P],_[P],k)):T[P].ty==="rc"?I.push(m(T[P],_[P],k)):T[P].ty==="rd"?I.push(x(T[P],_[P],k)):T[P].ty==="rp"?I.push(E(T[P],_[P],k)):T[P].ty==="gf"?I.push(i(T[P],_[P],k)):I.push(o(T[P],_[P])));return I}function e(T,_,k){var I,P=function(O){for(var $=0,V=I.length;$<V;){if(I[$]._name===O||I[$].mn===O||I[$].propertyIndex===O||I[$].ix===O||I[$].ind===O)return I[$];$+=1}return typeof O=="number"?I[O-1]:null};P.propertyGroup=propertyGroupFactory(P,k),I=t(T.it,_.it,P.propertyGroup),P.numProperties=I.length;var A=u(T.it[T.it.length-1],_.it[_.it.length-1],P.propertyGroup);return P.transform=A,P.propertyIndex=T.cix,P._name=T.nm,P}function n(T,_,k){var I=function(O){switch(O){case"ADBE Vectors Group":case"Contents":case 2:return I.content;default:return I.transform}};I.propertyGroup=propertyGroupFactory(I,k);var P=e(T,_,I.propertyGroup),A=u(T.it[T.it.length-1],_.it[_.it.length-1],I.propertyGroup);return I.content=P,I.transform=A,Object.defineProperty(I,"_name",{get:function(){return T.nm}}),I.numProperties=T.np,I.propertyIndex=T.ix,I.nm=T.nm,I.mn=T.mn,I}function s(T,_,k){function I(P){return P==="Color"||P==="color"?I.color:P==="Opacity"||P==="opacity"?I.opacity:null}return Object.defineProperties(I,{color:{get:ExpressionPropertyInterface(_.c)},opacity:{get:ExpressionPropertyInterface(_.o)},_name:{value:T.nm},mn:{value:T.mn}}),_.c.setGroupProperty(PropertyInterface("Color",k)),_.o.setGroupProperty(PropertyInterface("Opacity",k)),I}function i(T,_,k){function I(P){return P==="Start Point"||P==="start point"?I.startPoint:P==="End Point"||P==="end point"?I.endPoint:P==="Opacity"||P==="opacity"?I.opacity:null}return Object.defineProperties(I,{startPoint:{get:ExpressionPropertyInterface(_.s)},endPoint:{get:ExpressionPropertyInterface(_.e)},opacity:{get:ExpressionPropertyInterface(_.o)},type:{get:function(){return"a"}},_name:{value:T.nm},mn:{value:T.mn}}),_.s.setGroupProperty(PropertyInterface("Start Point",k)),_.e.setGroupProperty(PropertyInterface("End Point",k)),_.o.setGroupProperty(PropertyInterface("Opacity",k)),I}function o(){function T(){return null}return T}function a(T,_,k){var I=propertyGroupFactory(V,k),P=propertyGroupFactory($,I);function A(L){Object.defineProperty($,T.d[L].nm,{get:ExpressionPropertyInterface(_.d.dataProps[L].p)})}var j,O=T.d?T.d.length:0,$={};for(j=0;j<O;j+=1)A(j),_.d.dataProps[j].p.setGroupProperty(P);function V(L){return L==="Color"||L==="color"?V.color:L==="Opacity"||L==="opacity"?V.opacity:L==="Stroke Width"||L==="stroke width"?V.strokeWidth:null}return Object.defineProperties(V,{color:{get:ExpressionPropertyInterface(_.c)},opacity:{get:ExpressionPropertyInterface(_.o)},strokeWidth:{get:ExpressionPropertyInterface(_.w)},dash:{get:function(){return $}},_name:{value:T.nm},mn:{value:T.mn}}),_.c.setGroupProperty(PropertyInterface("Color",I)),_.o.setGroupProperty(PropertyInterface("Opacity",I)),_.w.setGroupProperty(PropertyInterface("Stroke Width",I)),V}function c(T,_,k){function I(A){return A===T.e.ix||A==="End"||A==="end"?I.end:A===T.s.ix?I.start:A===T.o.ix?I.offset:null}var P=propertyGroupFactory(I,k);return I.propertyIndex=T.ix,_.s.setGroupProperty(PropertyInterface("Start",P)),_.e.setGroupProperty(PropertyInterface("End",P)),_.o.setGroupProperty(PropertyInterface("Offset",P)),I.propertyIndex=T.ix,I.propertyGroup=k,Object.defineProperties(I,{start:{get:ExpressionPropertyInterface(_.s)},end:{get:ExpressionPropertyInterface(_.e)},offset:{get:ExpressionPropertyInterface(_.o)},_name:{value:T.nm}}),I.mn=T.mn,I}function u(T,_,k){function I(A){return T.a.ix===A||A==="Anchor Point"?I.anchorPoint:T.o.ix===A||A==="Opacity"?I.opacity:T.p.ix===A||A==="Position"?I.position:T.r.ix===A||A==="Rotation"||A==="ADBE Vector Rotation"?I.rotation:T.s.ix===A||A==="Scale"?I.scale:T.sk&&T.sk.ix===A||A==="Skew"?I.skew:T.sa&&T.sa.ix===A||A==="Skew Axis"?I.skewAxis:null}var P=propertyGroupFactory(I,k);return _.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",P)),_.transform.mProps.p.setGroupProperty(PropertyInterface("Position",P)),_.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",P)),_.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",P)),_.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",P)),_.transform.mProps.sk&&(_.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",P)),_.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",P))),_.transform.op.setGroupProperty(PropertyInterface("Opacity",P)),Object.defineProperties(I,{opacity:{get:ExpressionPropertyInterface(_.transform.mProps.o)},position:{get:ExpressionPropertyInterface(_.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(_.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(_.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(_.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(_.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(_.transform.mProps.sa)},_name:{value:T.nm}}),I.ty="tr",I.mn=T.mn,I.propertyGroup=k,I}function f(T,_,k){function I(j){return T.p.ix===j?I.position:T.s.ix===j?I.size:null}var P=propertyGroupFactory(I,k);I.propertyIndex=T.ix;var A=_.sh.ty==="tm"?_.sh.prop:_.sh;return A.s.setGroupProperty(PropertyInterface("Size",P)),A.p.setGroupProperty(PropertyInterface("Position",P)),Object.defineProperties(I,{size:{get:ExpressionPropertyInterface(A.s)},position:{get:ExpressionPropertyInterface(A.p)},_name:{value:T.nm}}),I.mn=T.mn,I}function p(T,_,k){function I(j){return T.p.ix===j?I.position:T.r.ix===j?I.rotation:T.pt.ix===j?I.points:T.or.ix===j||j==="ADBE Vector Star Outer Radius"?I.outerRadius:T.os.ix===j?I.outerRoundness:T.ir&&(T.ir.ix===j||j==="ADBE Vector Star Inner Radius")?I.innerRadius:T.is&&T.is.ix===j?I.innerRoundness:null}var P=propertyGroupFactory(I,k),A=_.sh.ty==="tm"?_.sh.prop:_.sh;return I.propertyIndex=T.ix,A.or.setGroupProperty(PropertyInterface("Outer Radius",P)),A.os.setGroupProperty(PropertyInterface("Outer Roundness",P)),A.pt.setGroupProperty(PropertyInterface("Points",P)),A.p.setGroupProperty(PropertyInterface("Position",P)),A.r.setGroupProperty(PropertyInterface("Rotation",P)),T.ir&&(A.ir.setGroupProperty(PropertyInterface("Inner Radius",P)),A.is.setGroupProperty(PropertyInterface("Inner Roundness",P))),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(A.p)},rotation:{get:ExpressionPropertyInterface(A.r)},points:{get:ExpressionPropertyInterface(A.pt)},outerRadius:{get:ExpressionPropertyInterface(A.or)},outerRoundness:{get:ExpressionPropertyInterface(A.os)},innerRadius:{get:ExpressionPropertyInterface(A.ir)},innerRoundness:{get:ExpressionPropertyInterface(A.is)},_name:{value:T.nm}}),I.mn=T.mn,I}function m(T,_,k){function I(j){return T.p.ix===j?I.position:T.r.ix===j?I.roundness:T.s.ix===j||j==="Size"||j==="ADBE Vector Rect Size"?I.size:null}var P=propertyGroupFactory(I,k),A=_.sh.ty==="tm"?_.sh.prop:_.sh;return I.propertyIndex=T.ix,A.p.setGroupProperty(PropertyInterface("Position",P)),A.s.setGroupProperty(PropertyInterface("Size",P)),A.r.setGroupProperty(PropertyInterface("Rotation",P)),Object.defineProperties(I,{position:{get:ExpressionPropertyInterface(A.p)},roundness:{get:ExpressionPropertyInterface(A.r)},size:{get:ExpressionPropertyInterface(A.s)},_name:{value:T.nm}}),I.mn=T.mn,I}function x(T,_,k){function I(j){return T.r.ix===j||j==="Round Corners 1"?I.radius:null}var P=propertyGroupFactory(I,k),A=_;return I.propertyIndex=T.ix,A.rd.setGroupProperty(PropertyInterface("Radius",P)),Object.defineProperties(I,{radius:{get:ExpressionPropertyInterface(A.rd)},_name:{value:T.nm}}),I.mn=T.mn,I}function E(T,_,k){function I(j){return T.c.ix===j||j==="Copies"?I.copies:T.o.ix===j||j==="Offset"?I.offset:null}var P=propertyGroupFactory(I,k),A=_;return I.propertyIndex=T.ix,A.c.setGroupProperty(PropertyInterface("Copies",P)),A.o.setGroupProperty(PropertyInterface("Offset",P)),Object.defineProperties(I,{copies:{get:ExpressionPropertyInterface(A.c)},offset:{get:ExpressionPropertyInterface(A.o)},_name:{value:T.nm}}),I.mn=T.mn,I}return function(T,_,k){var I;function P(j){if(typeof j=="number")return j=j===void 0?1:j,j===0?k:I[j-1];for(var O=0,$=I.length;O<$;){if(I[O]._name===j)return I[O];O+=1}return null}function A(){return k}return P.propertyGroup=propertyGroupFactory(P,A),I=t(T,_,P.propertyGroup),P.numProperties=I.length,P._name="Contents",P}})(),TextExpressionInterface=(function(){return function(t){var e;function n(s){switch(s){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return(!e||i!==e.value)&&(e=new String(i),e.value=i||new String(i),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}})();function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var FootageInterface=(function(){var t=function(s){var i="",o=s.getFootageData();function a(){return i="",o=s.getFootageData(),c}function c(u){if(o[u])return i=u,o=o[u],_typeof(o)==="object"?c:o;var f=u.indexOf(i);if(f!==-1){var p=parseInt(u.substr(f+i.length),10);return o=o[p],_typeof(o)==="object"?c:o}return""}return a},e=function(s){function i(o){return o==="Outline"?i.outlineInterface():null}return i._name="Outline",i.outlineInterface=t(s),i};return function(n){function s(i){return i==="Data"?s.dataInterface:null}return s._name="Data",s.dataInterface=e(n),s}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=(function(){function t(a,c,u){c.x&&(u.k=!0,u.x=!0,u.initiateExpression=ExpressionManager.initiateExpression,u.effectsSequence.push(u.initiateExpression(a,c,u).bind(u)))}function e(a){return a*=this.elem.globalData.frameRate,a-=this.offsetTime,a!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value}function n(a){var c=-.01,u=this.getValueAtTime(a),f=this.getValueAtTime(a+c),p=0;if(u.length){var m;for(m=0;m<u.length;m+=1)p+=Math.pow(f[m]-u[m],2);p=Math.sqrt(p)*100}else p=0;return p}function s(a){if(this.vel!==void 0)return this.vel;var c=-.001,u=this.getValueAtTime(a),f=this.getValueAtTime(a+c),p;if(u.length){p=createTypedArray("float32",u.length);var m;for(m=0;m<u.length;m+=1)p[m]=(f[m]-u[m])/c}else p=(f-u)/c;return p}function i(){return this.pv}function o(a){this.propertyGroup=a}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:s,getValueAtTime:e,getStaticValueAtTime:i,setGroupProperty:o}})();function addPropertyDecorator(){function t(x,E,T){if(!this.k||!this.keyframes)return this.pv;x=x?x.toLowerCase():"";var _=this.comp.renderedFrame,k=this.keyframes,I=k[k.length-1].t;if(_<=I)return this.pv;var P,A;T?(E?P=Math.abs(I-this.elem.comp.globalData.frameRate*E):P=Math.max(0,I-this.elem.data.ip),A=I-P):((!E||E>k.length-1)&&(E=k.length-1),A=k[k.length-1-E].t,P=I-A);var j,O,$;if(x==="pingpong"){var V=Math.floor((_-A)/P);if(V%2!==0)return this.getValueAtTime((P-(_-A)%P+A)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var L=this.getValueAtTime(A/this.comp.globalData.frameRate,0),U=this.getValueAtTime(I/this.comp.globalData.frameRate,0),J=this.getValueAtTime(((_-A)%P+A)/this.comp.globalData.frameRate,0),Z=Math.floor((_-A)/P);if(this.pv.length){for($=new Array(L.length),O=$.length,j=0;j<O;j+=1)$[j]=(U[j]-L[j])*Z+J[j];return $}return(U-L)*Z+J}else if(x==="continue"){var Y=this.getValueAtTime(I/this.comp.globalData.frameRate,0),K=this.getValueAtTime((I-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=new Array(Y.length),O=$.length,j=0;j<O;j+=1)$[j]=Y[j]+(Y[j]-K[j])*((_-I)/this.comp.globalData.frameRate)/5e-4;return $}return Y+(Y-K)*((_-I)/.001)}return this.getValueAtTime(((_-A)%P+A)/this.comp.globalData.frameRate,0)}function e(x,E,T){if(!this.k)return this.pv;x=x?x.toLowerCase():"";var _=this.comp.renderedFrame,k=this.keyframes,I=k[0].t;if(_>=I)return this.pv;var P,A;T?(E?P=Math.abs(this.elem.comp.globalData.frameRate*E):P=Math.max(0,this.elem.data.op-I),A=I+P):((!E||E>k.length-1)&&(E=k.length-1),A=k[E].t,P=A-I);var j,O,$;if(x==="pingpong"){var V=Math.floor((I-_)/P);if(V%2===0)return this.getValueAtTime(((I-_)%P+I)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var L=this.getValueAtTime(I/this.comp.globalData.frameRate,0),U=this.getValueAtTime(A/this.comp.globalData.frameRate,0),J=this.getValueAtTime((P-(I-_)%P+I)/this.comp.globalData.frameRate,0),Z=Math.floor((I-_)/P)+1;if(this.pv.length){for($=new Array(L.length),O=$.length,j=0;j<O;j+=1)$[j]=J[j]-(U[j]-L[j])*Z;return $}return J-(U-L)*Z}else if(x==="continue"){var Y=this.getValueAtTime(I/this.comp.globalData.frameRate,0),K=this.getValueAtTime((I+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for($=new Array(Y.length),O=$.length,j=0;j<O;j+=1)$[j]=Y[j]+(Y[j]-K[j])*(I-_)/.001;return $}return Y+(Y-K)*(I-_)/.001}return this.getValueAtTime((P-((I-_)%P+I))/this.comp.globalData.frameRate,0)}function n(x,E){if(!this.k)return this.pv;if(x=(x||.4)*.5,E=Math.floor(E||5),E<=1)return this.pv;var T=this.comp.renderedFrame/this.comp.globalData.frameRate,_=T-x,k=T+x,I=E>1?(k-_)/(E-1):1,P=0,A=0,j;this.pv.length?j=createTypedArray("float32",this.pv.length):j=0;for(var O;P<E;){if(O=this.getValueAtTime(_+P*I),this.pv.length)for(A=0;A<this.pv.length;A+=1)j[A]+=O[A];else j+=O;P+=1}if(this.pv.length)for(A=0;A<this.pv.length;A+=1)j[A]/=E;else j/=E;return j}function s(x){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var E=this._transformCachingAtTime.v;if(E.cloneFromProps(this.pre.props),this.appliedTransformations<1){var T=this.a.getValueAtTime(x);E.translate(-T[0]*this.a.mult,-T[1]*this.a.mult,T[2]*this.a.mult)}if(this.appliedTransformations<2){var _=this.s.getValueAtTime(x);E.scale(_[0]*this.s.mult,_[1]*this.s.mult,_[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var k=this.sk.getValueAtTime(x),I=this.sa.getValueAtTime(x);E.skewFromAxis(-k*this.sk.mult,I*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var P=this.r.getValueAtTime(x);E.rotate(-P*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var A=this.rz.getValueAtTime(x),j=this.ry.getValueAtTime(x),O=this.rx.getValueAtTime(x),$=this.or.getValueAtTime(x);E.rotateZ(-A*this.rz.mult).rotateY(j*this.ry.mult).rotateX(O*this.rx.mult).rotateZ(-$[2]*this.or.mult).rotateY($[1]*this.or.mult).rotateX($[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var V=this.px.getValueAtTime(x),L=this.py.getValueAtTime(x);if(this.data.p.z){var U=this.pz.getValueAtTime(x);E.translate(V*this.px.mult,L*this.py.mult,-U*this.pz.mult)}else E.translate(V*this.px.mult,L*this.py.mult,0)}else{var J=this.p.getValueAtTime(x);E.translate(J[0]*this.p.mult,J[1]*this.p.mult,-J[2]*this.p.mult)}return E}function i(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(x,E,T){var _=o(x,E,T);return _.dynamicProperties.length?_.getValueAtTime=s.bind(_):_.getValueAtTime=i.bind(_),_.setGroupProperty=expressionHelpers.setGroupProperty,_};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(x,E,T,_,k){var I=a(x,E,T,_,k);I.kf?I.getValueAtTime=expressionHelpers.getValueAtTime.bind(I):I.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(I),I.setGroupProperty=expressionHelpers.setGroupProperty,I.loopOut=t,I.loopIn=e,I.smooth=n,I.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(I),I.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(I),I.numKeys=E.a===1?E.k.length:0,I.propertyIndex=E.ix;var P=0;return T!==0&&(P=createTypedArray("float32",E.a===1?E.k[0].s.length:E.k.length)),I._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:P},expressionHelpers.searchExpressions(x,E,I),I.k&&k.addDynamicProperty(I),I};function c(x){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),x*=this.elem.globalData.frameRate,x-=this.offsetTime,x!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<x?this._caching.lastIndex:0,this._cachingAtTime.lastTime=x,this.interpolateShape(x,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var u=ShapePropertyFactory.getConstructorFunction(),f=ShapePropertyFactory.getKeyframedConstructorFunction();function p(){}p.prototype={vertices:function(E,T){this.k&&this.getValue();var _=this.v;T!==void 0&&(_=this.getValueAtTime(T,0));var k,I=_._length,P=_[E],A=_.v,j=createSizedArray(I);for(k=0;k<I;k+=1)E==="i"||E==="o"?j[k]=[P[k][0]-A[k][0],P[k][1]-A[k][1]]:j[k]=[P[k][0],P[k][1]];return j},points:function(E){return this.vertices("v",E)},inTangents:function(E){return this.vertices("i",E)},outTangents:function(E){return this.vertices("o",E)},isClosed:function(){return this.v.c},pointOnPath:function(E,T){var _=this.v;T!==void 0&&(_=this.getValueAtTime(T,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(_));for(var k=this._segmentsLength,I=k.lengths,P=k.totalLength*E,A=0,j=I.length,O=0,$;A<j;){if(O+I[A].addedLength>P){var V=A,L=_.c&&A===j-1?0:A+1,U=(P-O)/I[A].addedLength;$=bez.getPointInSegment(_.v[V],_.v[L],_.o[V],_.i[L],U,I[A]);break}else O+=I[A].addedLength;A+=1}return $||($=_.c?[_.v[0][0],_.v[0][1]]:[_.v[_._length-1][0],_.v[_._length-1][1]]),$},vectorOnPath:function(E,T,_){E==1?E=this.v.c:E==0&&(E=.999);var k=this.pointOnPath(E,T),I=this.pointOnPath(E+.001,T),P=I[0]-k[0],A=I[1]-k[1],j=Math.sqrt(Math.pow(P,2)+Math.pow(A,2));if(j===0)return[0,0];var O=_==="tangent"?[P/j,A/j]:[-A/j,P/j];return O},tangentOnPath:function(E,T){return this.vectorOnPath(E,T,"tangent")},normalOnPath:function(E,T){return this.vectorOnPath(E,T,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([p],u),extendPrototype([p],f),f.prototype.getValueAtTime=c,f.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(x,E,T,_,k){var I=m(x,E,T,_,k);return I.propertyIndex=E.ix,I.lock=!1,T===3?expressionHelpers.searchExpressions(x,E.pt,I):T===4&&expressionHelpers.searchExpressions(x,E.ks,I),I.k&&x.addDynamicProperty(I),I}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,n){var s=this.calculateExpression(n);if(e.t!==s){var i={};return this.copyData(i,e),i.t=s.toString(),i.__complete=!1,i}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),n=this.searchExpressions();return this.kf=e||n,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,n){var s=createNS("feMerge");s.setAttribute("result",e);var i,o;for(o=0;o<n.length;o+=1)i=createNS("feMergeNode"),i.setAttribute("in",n[o]),s.appendChild(i),s.appendChild(i);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,s,i){this.filterManager=e;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=o,o.setAttribute("result",s+"_tint_1"),t.appendChild(o),o=createNS("feColorMatrix"),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",s+"_tint_2"),t.appendChild(o),this.matrixFilter=o;var a=this.createMergeNode(s,[i,s+"_tint_1",s+"_tint_2"]);t.appendChild(a)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,n,s){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",s),t.appendChild(i),this.matrixFilter=i}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,n,s,i;for(this.filterManager.effectElements[1].p.v===1?(i=this.elem.maskManager.masksProperties.length,s=0):(s=this.filterManager.effectElements[0].p.v-1,i=s+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),s;s<i;s+=1)e=createNS("path"),n.appendChild(e),this.paths.push({p:e,m:s});if(this.filterManager.effectElements[10].p.v===3){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(n),this.elem.globalData.defs.appendChild(o);var c=createNS("g");for(c.setAttribute("mask","url("+getLocationHref()+"#"+a+")");t[0];)c.appendChild(t[0]);this.elem.layerElement.appendChild(c),this.masker=o,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n=this.paths.length,s,i;for(e=0;e<n;e+=1)if(this.paths[e].m!==-1&&(s=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||s.prop._mdf)&&i.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var o;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,c=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,u=i.getTotalLength();o="0 0 0 "+u*a+" ";var f=u*(c-a),p=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,m=Math.floor(f/p),x;for(x=0;x<m;x+=1)o+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+u*10+" 0 0"}else o="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var E=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(E[0]*255)+","+bmFloor(E[1]*255)+","+bmFloor(E[2]*255)+")")}};function SVGTritoneFilter(t,e,n,s){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",s),this.matrixFilter=o;var a=createNS("feFuncR");a.setAttribute("type","table"),o.appendChild(a),this.feFuncR=a;var c=createNS("feFuncG");c.setAttribute("type","table"),o.appendChild(c),this.feFuncG=c;var u=createNS("feFuncB");u.setAttribute("type","table"),o.appendChild(u),this.feFuncB=u,t.appendChild(o)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,i=s[0]+" "+n[0]+" "+e[0],o=s[1]+" "+n[1]+" "+e[1],a=s[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}};function SVGProLevelsFilter(t,e,n,s){this.filterManager=e;var i=this.filterManager.effectElements,o=createNS("feComponentTransfer");(i[10].p.k||i[10].p.v!==0||i[11].p.k||i[11].p.v!==1||i[12].p.k||i[12].p.v!==1||i[13].p.k||i[13].p.v!==0||i[14].p.k||i[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(i[17].p.k||i[17].p.v!==0||i[18].p.k||i[18].p.v!==1||i[19].p.k||i[19].p.v!==1||i[20].p.k||i[20].p.v!==0||i[21].p.k||i[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(i[24].p.k||i[24].p.v!==0||i[25].p.k||i[25].p.v!==1||i[26].p.k||i[26].p.v!==1||i[27].p.k||i[27].p.v!==0||i[28].p.k||i[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(i[31].p.k||i[31].p.v!==0||i[32].p.k||i[32].p.v!==1||i[33].p.k||i[33].p.v!==1||i[34].p.k||i[34].p.v!==0||i[35].p.k||i[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o)),(i[3].p.k||i[3].p.v!==0||i[4].p.k||i[4].p.v!==1||i[5].p.k||i[5].p.v!==1||i[6].p.k||i[6].p.v!==0||i[7].p.k||i[7].p.v!==1)&&(o=createNS("feComponentTransfer"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",s),t.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,s,i){for(var o=0,a=256,c,u=Math.min(t,e),f=Math.max(t,e),p=Array.call(null,{length:a}),m,x=0,E=i-s,T=e-t;o<=256;)c=o/256,c<=u?m=T<0?i:s:c>=f?m=T<0?s:i:m=s+E*Math.pow((c-t)/T,1/n),p[x]=m,x+=1,o+=256/(a-1);return p.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,n,s,i){var o=e.container.globalData.renderConfig.filterSize,a=e.data.fs||o;t.setAttribute("x",a.x||o.x),t.setAttribute("y",a.y||o.y),t.setAttribute("width",a.width||o.width),t.setAttribute("height",a.height||o.height),this.filterManager=e;var c=createNS("feGaussianBlur");c.setAttribute("in","SourceAlpha"),c.setAttribute("result",s+"_drop_shadow_1"),c.setAttribute("stdDeviation","0"),this.feGaussianBlur=c,t.appendChild(c);var u=createNS("feOffset");u.setAttribute("dx","25"),u.setAttribute("dy","0"),u.setAttribute("in",s+"_drop_shadow_1"),u.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=u,t.appendChild(u);var f=createNS("feFlood");f.setAttribute("flood-color","#00ff00"),f.setAttribute("flood-opacity","1"),f.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=f,t.appendChild(f);var p=createNS("feComposite");p.setAttribute("in",s+"_drop_shadow_3"),p.setAttribute("in2",s+"_drop_shadow_2"),p.setAttribute("operator","in"),p.setAttribute("result",s+"_drop_shadow_4"),t.appendChild(p);var m=this.createMergeNode(s,[s+"_drop_shadow_4",i]);t.appendChild(m)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(s),o=n*Math.sin(s);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var s=n.children,i=0,o=s.length;i<o&&s[i]!==t.layerElement;)i+=1;var a;i<=o-2&&(a=s[i+1]);var c=createNS("use");c.setAttribute("href","#"+e),a?n.insertBefore(c,a):n.appendChild(c)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),s=createNS("mask");s.setAttribute("id",e.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(s);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(e,n),o.appendChild(e.layerElement),i.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+n),s.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,s=e.length;n<s;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,n,s){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",s),t.appendChild(i),this.feGaussianBlur=i}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,s=this.filterManager.effectElements[1].p.v,i=s==3?0:n,o=s==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+o);var a=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,s=e[1].p.v,i=e[2].p.v===1,o=e[3].p.v,a=i?o:e[4].p.v,c=e[5].p.v,u=e[6].p.v,f=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(a*.01,o*.01,1),this.matrix.rotate(-f*degToRads),this.matrix.skewFromAxis(-c*degToRads,(u+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,i,o,a,c=[],u=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(s=o.call(n)).done)&&(c.push(s.value),c.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return c}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(s){_defineProperty(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _objectWithoutProperties(t,e){if(t==null)return{};var n,s,i=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _toPrimitive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:e+""}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function t(e,n){var s=e.animationData,i=e.loop,o=e.autoplay,a=e.initialSegment,c=e.onComplete,u=e.onLoopComplete,f=e.onEnterFrame,p=e.onSegmentStart,m=e.onConfigReady,x=e.onDataReady,E=e.onDataFailed,T=e.onLoadedImages,_=e.onDOMLoaded,k=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var I=_objectWithoutProperties(e,_excluded$1),P=reactExports.useState(!1),A=_slicedToArray(P,2),j=A[0],O=A[1],$=reactExports.useRef(),V=reactExports.useRef(null),L=function(){var ie;(ie=$.current)===null||ie===void 0||ie.play()},U=function(){var ie;(ie=$.current)===null||ie===void 0||ie.stop()},J=function(){var ie;(ie=$.current)===null||ie===void 0||ie.pause()},Z=function(ie){var se;(se=$.current)===null||se===void 0||se.setSpeed(ie)},Y=function(ie,se){var Pe;(Pe=$.current)===null||Pe===void 0||Pe.goToAndPlay(ie,se)},K=function(ie,se){var Pe;(Pe=$.current)===null||Pe===void 0||Pe.goToAndStop(ie,se)},ke=function(ie){var se;(se=$.current)===null||se===void 0||se.setDirection(ie)},Re=function(ie,se){var Pe;(Pe=$.current)===null||Pe===void 0||Pe.playSegments(ie,se)},G=function(ie){var se;(se=$.current)===null||se===void 0||se.setSubframe(ie)},q=function(ie){var se;return(se=$.current)===null||se===void 0?void 0:se.getDuration(ie)},M=function(){var ie;(ie=$.current)===null||ie===void 0||ie.destroy(),$.current=void 0},z=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se;if(V.current){(se=$.current)===null||se===void 0||se.destroy();var Pe=_objectSpread2(_objectSpread2(_objectSpread2({},e),ie),{},{container:V.current});return $.current=lottie.loadAnimation(Pe),O(!!$.current),function(){var Ne;(Ne=$.current)===null||Ne===void 0||Ne.destroy(),$.current=void 0}}};reactExports.useEffect(function(){var W=z();return function(){return W?.()}},[s,i]),reactExports.useEffect(function(){$.current&&($.current.autoplay=!!o)},[o]),reactExports.useEffect(function(){if($.current){if(!a){$.current.resetSegments(!0);return}!Array.isArray(a)||!a.length||(($.current.currentRawFrame<a[0]||$.current.currentRawFrame>a[1])&&($.current.currentRawFrame=a[0]),$.current.setSegment(a[0],a[1]))}},[a]),reactExports.useEffect(function(){var W=[{name:"complete",handler:c},{name:"loopComplete",handler:u},{name:"enterFrame",handler:f},{name:"segmentStart",handler:p},{name:"config_ready",handler:m},{name:"data_ready",handler:x},{name:"data_failed",handler:E},{name:"loaded_images",handler:T},{name:"DOMLoaded",handler:_},{name:"destroy",handler:k}],ie=W.filter(function(Pe){return Pe.handler!=null});if(ie.length){var se=ie.map(function(Pe){var Ne;return(Ne=$.current)===null||Ne===void 0||Ne.addEventListener(Pe.name,Pe.handler),function(){var Oe;(Oe=$.current)===null||Oe===void 0||Oe.removeEventListener(Pe.name,Pe.handler)}});return function(){se.forEach(function(Pe){return Pe()})}}},[c,u,f,p,m,x,E,T,_,k]);var ee=React.createElement("div",_objectSpread2({style:n,ref:V},I));return{View:ee,play:L,stop:U,pause:J,setSpeed:Z,goToAndStop:K,goToAndPlay:Y,setDirection:ke,playSegments:Re,setSubframe:G,getDuration:q,destroy:M,animationContainerRef:V,animationLoaded:j,animationItem:$.current}};function getContainerVisibility(t){var e=t.getBoundingClientRect(),n=e.top,s=e.height,i=window.innerHeight-n,o=window.innerHeight+s;return i/o}function getContainerCursorPosition(t,e,n){var s=t.getBoundingClientRect(),i=s.top,o=s.left,a=s.width,c=s.height,u=(e-o)/a,f=(n-i)/c;return{x:u,y:f}}var useInitInteractivity=function t(e){var n=e.wrapperRef,s=e.animationItem,i=e.mode,o=e.actions;reactExports.useEffect(function(){var a=n.current;if(!(!a||!s||!o.length)){s.stop();var c=function(){var p=null,m=function(){var E=getContainerVisibility(a),T=o.find(function(k){var I=k.visibility;return I&&E>=I[0]&&E<=I[1]});if(T){if(T.type==="seek"&&T.visibility&&T.frames.length===2){var _=T.frames[0]+Math.ceil((E-T.visibility[0])/(T.visibility[1]-T.visibility[0])*T.frames[1]);//! goToAndStop must be relative to the start of the current segment
s.goToAndStop(_-s.firstFrame-1,!0)}T.type==="loop"&&(p===null||p!==T.frames||s.isPaused)&&(s.playSegments(T.frames,!0),p=T.frames),T.type==="play"&&s.isPaused&&(s.resetSegments(!0),s.play()),T.type==="stop"&&s.goToAndStop(T.frames[0]-s.firstFrame-1,!0)}};return document.addEventListener("scroll",m),function(){document.removeEventListener("scroll",m)}},u=function(){var p=function(T,_){var k=T,I=_;if(k!==-1&&I!==-1){var P=getContainerCursorPosition(a,k,I);k=P.x,I=P.y}var A=o.find(function($){var V=$.position;return V&&Array.isArray(V.x)&&Array.isArray(V.y)?k>=V.x[0]&&k<=V.x[1]&&I>=V.y[0]&&I<=V.y[1]:V&&!Number.isNaN(V.x)&&!Number.isNaN(V.y)?k===V.x&&I===V.y:!1});if(A){if(A.type==="seek"&&A.position&&Array.isArray(A.position.x)&&Array.isArray(A.position.y)&&A.frames.length===2){var j=(k-A.position.x[0])/(A.position.x[1]-A.position.x[0]),O=(I-A.position.y[0])/(A.position.y[1]-A.position.y[0]);s.playSegments(A.frames,!0),s.goToAndStop(Math.ceil((j+O)/2*(A.frames[1]-A.frames[0])),!0)}A.type==="loop"&&s.playSegments(A.frames,!0),A.type==="play"&&(s.isPaused&&s.resetSegments(!1),s.playSegments(A.frames)),A.type==="stop"&&s.goToAndStop(A.frames[0],!0)}},m=function(T){p(T.clientX,T.clientY)},x=function(){p(-1,-1)};return a.addEventListener("mousemove",m),a.addEventListener("mouseout",x),function(){a.removeEventListener("mousemove",m),a.removeEventListener("mouseout",x)}};switch(i){case"scroll":return c();case"cursor":return u()}}},[i,s])},useLottieInteractivity=function t(e){var n=e.actions,s=e.mode,i=e.lottieObj,o=i.animationItem,a=i.View,c=i.animationContainerRef;return useInitInteractivity({actions:n,animationItem:o,mode:s,wrapperRef:c}),a},_excluded=["style","interactivity"],Lottie=function t(e){var n,s,i,o=e.style,a=e.interactivity,c=_objectWithoutProperties(e,_excluded),u=useLottie(c,o),f=u.View,p=u.play,m=u.stop,x=u.pause,E=u.setSpeed,T=u.goToAndStop,_=u.goToAndPlay,k=u.setDirection,I=u.playSegments,P=u.setSubframe,A=u.getDuration,j=u.destroy,O=u.animationContainerRef,$=u.animationLoaded,V=u.animationItem;return reactExports.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:p,stop:m,pause:x,setSpeed:E,goToAndPlay:_,goToAndStop:T,setDirection:k,playSegments:I,setSubframe:P,getDuration:A,destroy:j,animationContainerRef:O,animationLoaded:$,animationItem:V})},[(n=e.lottieRef)===null||n===void 0?void 0:n.current]),useLottieInteractivity({lottieObj:{View:f,play:p,stop:m,pause:x,setSpeed:E,goToAndStop:T,goToAndPlay:_,setDirection:k,playSegments:I,setSubframe:P,getDuration:A,destroy:j,animationContainerRef:O,animationLoaded:$,animationItem:V},actions:(s=a?.actions)!==null&&s!==void 0?s:[],mode:(i=a?.mode)!==null&&i!==void 0?i:"scroll"})};const v="4.8.0",meta={g:"LottieFiles AE ",a:"",k:"",d:"",tc:""},fr=25,ip=0,op=75,w=1080,h=1080,nm="Rocket Launch",ddd=0,assets=[],layers=JSON.parse('[{"ddd":0,"ind":1,"ty":3,"nm":"For Position","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.35,"y":1},"o":{"x":0.65,"y":0},"t":0,"s":[540,1629,0],"to":[0,-171.833,0],"ti":[0,181.5,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.339,"y":0},"t":20,"s":[540,598,0],"to":[0,-0.02,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":21,"s":[540,597.941,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.664,"y":1},"o":{"x":0.333,"y":0},"t":42,"s":[540,539.951,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.35,"y":1},"o":{"x":0.65,"y":0},"t":53,"s":[540,700,0],"to":[0,0,0],"ti":[0,0,0]},{"t":59,"s":[540,-214,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Inner Circle","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.638,-169.377,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-6.072],[6.072,0],[0,6.072],[-6.072,0]],"o":[[0,6.072],[-6.072,0],[0,-6.072],[6.072,0]],"v":[[10.995,0],[0,10.995],[-10.995,0],[0,-10.995]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9765,0.4431,0.0275,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Outer Circle","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.638,-169.378,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-8.747],[8.747,0],[0,8.747],[-8.747,0]],"o":[[0,8.747],[-8.747,0],[0,-8.747],[8.747,0]],"v":[[15.838,0],[0,15.838],[-15.838,0],[0,-15.838]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.0235,0.0235,0.0235,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Center Wing","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-1.957,71.317,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[13.991,34.241],[-12.59,-34.016]],"o":[[0,0],[0,0]],"v":[[-0.311,-31.312],[-0.311,31.312]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9952,0.6973,0.5248,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Top Tricone","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.978,-355.433,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.854,-2.097],[5.49,-14.288],[0,0],[7.899,7.473]],"o":[[-4.129,4.671],[0,0],[-3.761,-11.17],[-2.033,-1.923]],"v":[[-3.826,-13.317],[-20.524,15.004],[20.524,15.004],[3.283,-13.663]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.0235,0.0235,0.0235,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Main Body","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-0.728,-84.535,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.164,-24.216],[-8.798,-16.562],[-16.562,-6.729],[-2.07,30.796],[5.877,17.456],[0,0]],"o":[[0,0],[0,0],[0,0],[1.193,-17.745],[0,0],[-5.464,14.22]],"v":[[-27.063,7.415],[-15.417,50.116],[15.12,50.116],[27.283,5.345],[21.174,-50.116],[-19.873,-50.116]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9294,0.3843,0.0706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Bottom Lead","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-1.957,122.552,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.732,0],[0,0],[0.162,0.714],[0,0],[-1.005,0],[0,0],[0.222,-0.98],[0,0]],"o":[[0,0],[-0.732,0],[0,0],[-0.222,-0.98],[0,0],[1.005,0],[0,0],[-0.162,0.714]],"v":[[9.274,3.812],[-9.274,3.812],[-10.802,2.592],[-11.82,-1.899],[-10.292,-3.812],[10.292,-3.812],[11.82,-1.899],[10.802,2.592]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.0235,0.0235,0.0235,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Right Wing","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.454,98.652,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[10.813,-38.972],[18.514,5.072]],"o":[[0,0],[0,0],[0,0]],"v":[[-5.599,-26.093],[10.877,26.093],[-13.411,1.43]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9952,0.6973,0.5248,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Left Wing","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-129.886,98.652,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[416,416,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-10.813,-38.972],[-18.514,5.072]],"o":[[0,0],[0,0],[0,0]],"v":[[5.599,-26.093],[-10.877,26.093],[13.411,1.43]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9952,0.6973,0.5248,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":3,"nm":"Null 1","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,440,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[121,121,100],"ix":6}},"ao":0,"ip":0,"op":250,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Smoke Particle 31","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[-36,405.5,0],"to":[141,1.667,0],"ti":[-163.393,59.091,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":63,"s":[366,577.5,0],"to":[310.232,-112.194,0],"ti":[-88.167,215.833,0]},{"t":82,"s":[743,190.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":43,"s":[0,0,100]},{"t":53,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":43,"op":83,"st":43,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Smoke Particle 30","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":47,"s":[-14,63.5,0],"to":[-1,175.667,0],"ti":[-151.601,-84.889,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":67,"s":[194,567.5,0],"to":[78.232,43.806,0],"ti":[-119.833,33.167,0]},{"t":86,"s":[579,632.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[50,50,100]},{"t":70,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":87,"st":47,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Smoke Particle 29","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[-32,205.5,0],"to":[5,103.667,0],"ti":[-101.901,-35.007,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":63,"s":[174,559.5,0],"to":[182.033,62.535,0],"ti":[-18.108,150.248,0]},{"t":82,"s":[719,478.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":43,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":53,"s":[99,99,100]},{"t":82,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":43,"op":83,"st":43,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"Smoke Particle 28","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":47,"s":[2,77.5,0],"to":[-10.755,107.393,0],"ti":[-2.968,-147.52,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":57,"s":[17.804,410.975,0],"to":[2.507,124.589,0],"ti":[-92.503,-0.545,0]},{"t":67,"s":[292,677.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":47,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":57,"s":[50,50,100]},{"t":70,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":47,"op":87,"st":47,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"Smoke Particle 27","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[-32,205.5,0],"to":[-7,219.667,0],"ti":[173.268,12.932,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":63,"s":[-408,559.5,0],"to":[-243.768,-18.194,0],"ti":[47.833,26.167,0]},{"t":82,"s":[-695,402.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":43,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":53,"s":[50,50,100]},{"t":82,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":43,"op":83,"st":43,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"Smoke Particle 26","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":51,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":71,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[47.833,62.5,0]},{"t":90,"s":[-695,184.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":51,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":61,"s":[100,100,100]},{"t":74,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":51,"op":91,"st":51,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"Smoke Particle 25","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":41,"s":[6,191.5,0],"to":[-5.093,89.221,0],"ti":[73.776,-93.658,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":52,"s":[-41.722,485.307,0],"to":[-48.333,61.358,0],"ti":[149.262,30.72,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":61,"s":[-376,587.5,0],"to":[-275.53,-56.708,0],"ti":[49.833,70.833,0]},{"t":80,"s":[-675,162.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":41,"s":[0,0,100]},{"t":51,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":41,"op":81,"st":41,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"Smoke Particle 24","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[-36,405.5,0],"to":[141,1.667,0],"ti":[-163.393,59.091,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":55,"s":[366,577.5,0],"to":[310.232,-112.194,0],"ti":[45.833,199.833,0]},{"t":74,"s":[619,2.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[0,0,100]},{"t":45,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":35,"op":75,"st":35,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"Smoke Particle 23","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-14,63.5,0],"to":[-1,175.667,0],"ti":[-151.601,-84.889,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":59,"s":[194,567.5,0],"to":[78.232,43.806,0],"ti":[-119.833,33.167,0]},{"t":78,"s":[549,592.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":39,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":49,"s":[50,50,100]},{"t":62,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":39,"op":79,"st":39,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"Smoke Particle 22","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[-32,205.5,0],"to":[5,103.667,0],"ti":[-101.901,-35.007,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":55,"s":[146,513.5,0],"to":[182.033,62.535,0],"ti":[-18.108,150.248,0]},{"t":74,"s":[577,370.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":45,"s":[50,50,100]},{"t":74,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":35,"op":75,"st":35,"bm":0},{"ddd":0,"ind":21,"ty":4,"nm":"Smoke Particle 21","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-36,405.5,0],"to":[149,21.667,0],"ti":[-173.747,-1.025,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":59,"s":[360,561.5,0],"to":[306.232,1.806,0],"ti":[-15.833,111.167,0]},{"t":78,"s":[659,146.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":39,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":49,"s":[100,100,100]},{"t":62,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":39,"op":79,"st":39,"bm":0},{"ddd":0,"ind":22,"ty":4,"nm":"Smoke Particle 20","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[-32,205.5,0],"to":[-7,219.667,0],"ti":[173.268,12.932,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":55,"s":[-408,559.5,0],"to":[-243.768,-18.194,0],"ti":[35.833,40.833,0]},{"t":74,"s":[-623,314.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":45,"s":[50,50,100]},{"t":74,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":35,"op":75,"st":35,"bm":0},{"ddd":0,"ind":23,"ty":4,"nm":"Smoke Particle 19","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":59,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[41.833,73.167,0]},{"t":78,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":39,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":49,"s":[100,100,100]},{"t":62,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":39,"op":79,"st":39,"bm":0},{"ddd":0,"ind":24,"ty":4,"nm":"Smoke Particle 18","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":55,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[41.833,73.167,0]},{"t":74,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[0,0,100]},{"t":45,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":35,"op":75,"st":35,"bm":0},{"ddd":0,"ind":25,"ty":4,"nm":"Smoke Particle 17","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":26,"s":[-36,405.5,0],"to":[141,1.667,0],"ti":[-163.393,59.091,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":46,"s":[366,577.5,0],"to":[310.232,-112.194,0],"ti":[45.833,199.833,0]},{"t":65,"s":[619,2.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":26,"s":[0,0,100]},{"t":36,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":26,"op":66,"st":26,"bm":0},{"ddd":0,"ind":26,"ty":4,"nm":"Smoke Particle 16","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[-14,63.5,0],"to":[-1,175.667,0],"ti":[-151.601,-84.889,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":50,"s":[194,567.5,0],"to":[78.232,43.806,0],"ti":[-119.833,33.167,0]},{"t":69,"s":[549,592.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":40,"s":[50,50,100]},{"t":53,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":30,"op":70,"st":30,"bm":0},{"ddd":0,"ind":27,"ty":4,"nm":"Smoke Particle 15","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":26,"s":[-32,205.5,0],"to":[5,103.667,0],"ti":[-101.901,-35.007,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":46,"s":[146,513.5,0],"to":[182.033,62.535,0],"ti":[-18.108,150.248,0]},{"t":65,"s":[577,370.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":26,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":36,"s":[99,99,100]},{"t":65,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":26,"op":66,"st":26,"bm":0},{"ddd":0,"ind":28,"ty":4,"nm":"Smoke Particle 14","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[2,77.5,0],"to":[-10.755,107.393,0],"ti":[-2.968,-147.52,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[17.804,410.975,0],"to":[2.507,124.589,0],"ti":[-92.503,-0.545,0]},{"t":50,"s":[256,665.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":40,"s":[50,50,100]},{"t":53,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":30,"op":70,"st":30,"bm":0},{"ddd":0,"ind":29,"ty":4,"nm":"Smoke Particle 13","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":26,"s":[-32,205.5,0],"to":[-7,219.667,0],"ti":[173.268,12.932,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":46,"s":[-408,559.5,0],"to":[-243.768,-18.194,0],"ti":[35.833,40.833,0]},{"t":65,"s":[-623,314.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":26,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":36,"s":[50,50,100]},{"t":65,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":26,"op":66,"st":26,"bm":0},{"ddd":0,"ind":30,"ty":4,"nm":"Smoke Particle 12","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":34,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":54,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[41.833,73.167,0]},{"t":73,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":34,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":44,"s":[100,100,100]},{"t":57,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":34,"op":74,"st":34,"bm":0},{"ddd":0,"ind":31,"ty":4,"nm":"Smoke Particle 11","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":24,"s":[6,191.5,0],"to":[-5.093,89.221,0],"ti":[73.776,-93.658,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":35,"s":[-41.722,485.307,0],"to":[-48.333,61.358,0],"ti":[149.262,30.72,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":44,"s":[-376,587.5,0],"to":[-275.53,-56.708,0],"ti":[47.167,77.833,0]},{"t":63,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":24,"s":[0,0,100]},{"t":34,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":24,"op":64,"st":24,"bm":0},{"ddd":0,"ind":32,"ty":4,"nm":"Smoke Particle 10","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":36,"s":[-16,289.5,0],"to":[17,165.667,0],"ti":[25.57,-56.073,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":56,"s":[-38,555.5,0],"to":[-70.167,153.875,0],"ti":[91.5,3.167,0]},{"t":75,"s":[-587,536.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":36,"s":[0,0,100]},{"t":46,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":36,"op":76,"st":36,"bm":0},{"ddd":0,"ind":33,"ty":4,"nm":"Smoke Particle 09","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":29,"s":[-16,289.5,0],"to":[17,165.667,0],"ti":[25.57,-56.073,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":49,"s":[-38,555.5,0],"to":[-70.167,153.875,0],"ti":[91.5,3.167,0]},{"t":68,"s":[-587,536.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":29,"s":[0,0,100]},{"t":39,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":29,"op":69,"st":29,"bm":0},{"ddd":0,"ind":34,"ty":4,"nm":"Smoke Particle 08","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[-36,405.5,0],"to":[141,1.667,0],"ti":[-163.393,59.091,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[366,577.5,0],"to":[310.232,-112.194,0],"ti":[45.833,199.833,0]},{"t":58,"s":[619,2.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19,"s":[0,0,100]},{"t":29,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":59,"st":19,"bm":0},{"ddd":0,"ind":35,"ty":4,"nm":"Smoke Particle 07","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[-14,63.5,0],"to":[-1,175.667,0],"ti":[-151.601,-84.889,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[194,567.5,0],"to":[78.232,43.806,0],"ti":[-119.833,33.167,0]},{"t":62,"s":[549,592.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":33,"s":[50,50,100]},{"t":46,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":63,"st":23,"bm":0},{"ddd":0,"ind":36,"ty":4,"nm":"Smoke Particle 06","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[-32,205.5,0],"to":[5,103.667,0],"ti":[-101.901,-35.007,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[146,513.5,0],"to":[182.033,62.535,0],"ti":[-18.108,150.248,0]},{"t":58,"s":[577,370.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":29,"s":[50,50,100]},{"t":58,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":59,"st":19,"bm":0},{"ddd":0,"ind":37,"ty":4,"nm":"Smoke Particle 05","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[-36,405.5,0],"to":[149,21.667,0],"ti":[-173.747,-1.025,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[360,561.5,0],"to":[306.232,1.806,0],"ti":[-15.833,111.167,0]},{"t":62,"s":[659,146.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":33,"s":[100,100,100]},{"t":46,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":63,"st":23,"bm":0},{"ddd":0,"ind":38,"ty":4,"nm":"Smoke Particle 04","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[-32,205.5,0],"to":[-7,219.667,0],"ti":[173.268,12.932,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-408,559.5,0],"to":[-243.768,-18.194,0],"ti":[35.833,40.833,0]},{"t":58,"s":[-623,314.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":29,"s":[50,50,100]},{"t":58,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":59,"st":19,"bm":0},{"ddd":0,"ind":39,"ty":4,"nm":"Smoke Particle 03","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":43,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[41.833,73.167,0]},{"t":62,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":33,"s":[100,100,100]},{"t":46,"s":[67,67,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":63,"st":23,"bm":0},{"ddd":0,"ind":40,"ty":4,"nm":"Smoke Particle 02","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[-16,289.5,0],"to":[17,165.667,0],"ti":[25.57,-56.073,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-38,555.5,0],"to":[-70.167,153.875,0],"ti":[91.5,3.167,0]},{"t":58,"s":[-587,536.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19,"s":[0,0,100]},{"t":29,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":59,"st":19,"bm":0},{"ddd":0,"ind":41,"ty":4,"nm":"Smoke Particle 01","parent":10,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":19,"s":[-36,405.5,0],"to":[-163,3.667,0],"ti":[164.154,56.944,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":39,"s":[-408,559.5,0],"to":[-265.768,-92.194,0],"ti":[41.833,73.167,0]},{"t":58,"s":[-659,120.5,0]}],"ix":2},"a":{"a":0,"k":[-2,537.5,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":19,"s":[0,0,100]},{"t":29,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[216,216],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-2,537.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":59,"st":19,"bm":0},{"ddd":0,"ind":42,"ty":4,"nm":"Background Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[515,95.093,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[119.648,119.648,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[976.067,976.067],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.9493,0.92,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[22.594,673.222],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"bm":0}]'),markers=[{tm:0,cm:"1",dr:0}],rocketAnimation={v,meta,fr,ip,op,w,h,nm,ddd,assets,layers,markers};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:a,...c},u)=>reactExports.createElement("svg",{ref:u,...defaultAttributes$1,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:mergeClasses("lucide",i),...c},[...a.map(([f,p])=>reactExports.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({className:s,...i},o)=>reactExports.createElement(Icon$1,{ref:o,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRightLeft=createLucideIcon("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Briefcase=createLucideIcon("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CalendarClock=createLucideIcon("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CalendarDays=createLucideIcon("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar$1=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleMinus=createLucideIcon("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CirclePlus=createLucideIcon("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudSun=createLucideIcon("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GripVertical=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$2=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListFilter=createLucideIcon("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mountain=createLucideIcon("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Navigation$1=createLucideIcon("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OctagonAlert=createLucideIcon("OctagonAlert",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Palette=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelLeft=createLucideIcon("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelRight=createLucideIcon("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SendHorizontal=createLucideIcon("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings2=createLucideIcon("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ticket=createLucideIcon("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Weight=createLucideIcon("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function r(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=r(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function clsx(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=r(t))&&(s&&(s+=" "),s+=e);return s}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=t=>{const e=createClassMap(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const c=a.split(CLASS_PART_SEPARATOR);return c[0]===""&&c.length!==1&&c.shift(),getGroupRecursive(c,e)||getGroupIdForArbitraryProperty(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&s[a]?[...u,...s[a]]:u}}},getGroupRecursive=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?getGroupRecursive(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(CLASS_PART_SEPARATOR);return e.validators.find(({validator:a})=>a(o))?.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=t=>{if(arbitraryPropertyRegex.test(t)){const e=arbitraryPropertyRegex.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},createClassMap=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(t.classGroups),n).forEach(([o,a])=>{processClassesRecursively(a,s,o,e)}),s},processClassesRecursively=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:getPart(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(isThemeGetter(i)){processClassesRecursively(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{processClassesRecursively(a,getPart(e,o),n,s)})})},getPart=(t,e)=>{let n=t;return e.split(CLASS_PART_SEPARATOR).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},isThemeGetter=t=>t.isThemeGetter,getPrefixedClassGroupEntries=(t,e)=>e?t.map(([n,s])=>{const i=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[n,i]}):t,createLruCache=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=s.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},IMPORTANT_MODIFIER="!",createParseClassName=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],o=e.length,a=c=>{const u=[];let f=0,p=0,m;for(let k=0;k<c.length;k++){let I=c[k];if(f===0){if(I===i&&(s||c.slice(k,k+o)===e)){u.push(c.slice(p,k)),p=k+o;continue}if(I==="/"){m=k;continue}}I==="["?f++:I==="]"&&f--}const x=u.length===0?c:c.substring(p),E=x.startsWith(IMPORTANT_MODIFIER),T=E?x.substring(1):x,_=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:E,baseClassName:T,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:a}):a},sortModifiers=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},createConfigUtils=t=>({cache:createLruCache(t.cacheSize),parseClassName:createParseClassName(t),...createClassGroupUtils(t)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(SPLIT_CLASSES_REGEX);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{modifiers:p,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:E}=n(f);let T=!!E,_=s(T?x.substring(0,E):x);if(!_){if(!T){c=f+(c.length>0?" "+c:c);continue}if(_=s(x),!_){c=f+(c.length>0?" "+c:c);continue}T=!1}const k=sortModifiers(p).join(":"),I=m?k+IMPORTANT_MODIFIER:k,P=I+_;if(o.includes(P))continue;o.push(P);const A=i(_,T);for(let j=0;j<A.length;++j){const O=A[j];o.push(I+O)}c=f+(c.length>0?" "+c:c)}return c};function twJoin(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=toValue(e))&&(s&&(s+=" "),s+=n);return s}const toValue=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=toValue(t[s]))&&(n&&(n+=" "),n+=e);return n};function createTailwindMerge(t,...e){let n,s,i,o=a;function a(u){const f=e.reduce((p,m)=>m(p),t());return n=createConfigUtils(f),s=n.cache.get,i=n.cache.set,o=c,c(u)}function c(u){const f=s(u);if(f)return f;const p=mergeClassList(u,n);return i(u,p),p}return function(){return o(twJoin.apply(null,arguments))}}const fromTheme=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=t=>isNumber(t)||stringLengths.has(t)||fractionRegex.test(t),isArbitraryLength=t=>getIsArbitraryValue(t,"length",isLengthOnly),isNumber=t=>!!t&&!Number.isNaN(Number(t)),isArbitraryNumber=t=>getIsArbitraryValue(t,"number",isNumber),isInteger=t=>!!t&&Number.isInteger(Number(t)),isPercent=t=>t.endsWith("%")&&isNumber(t.slice(0,-1)),isArbitraryValue=t=>arbitraryValueRegex.test(t),isTshirtSize=t=>tshirtUnitRegex.test(t),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=t=>getIsArbitraryValue(t,sizeLabels,isNever),isArbitraryPosition=t=>getIsArbitraryValue(t,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=t=>getIsArbitraryValue(t,imageLabels,isImage),isArbitraryShadow=t=>getIsArbitraryValue(t,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(t,e,n)=>{const s=arbitraryValueRegex.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},isLengthOnly=t=>lengthUnitRegex.test(t)&&!colorFunctionRegex.test(t),isNever=()=>!1,isShadow=t=>shadowRegex.test(t),isImage=t=>imageRegex.test(t),getDefaultConfig=()=>{const t=fromTheme("colors"),e=fromTheme("spacing"),n=fromTheme("blur"),s=fromTheme("brightness"),i=fromTheme("borderColor"),o=fromTheme("borderRadius"),a=fromTheme("borderSpacing"),c=fromTheme("borderWidth"),u=fromTheme("contrast"),f=fromTheme("grayscale"),p=fromTheme("hueRotate"),m=fromTheme("invert"),x=fromTheme("gap"),E=fromTheme("gradientColorStops"),T=fromTheme("gradientColorStopPositions"),_=fromTheme("inset"),k=fromTheme("margin"),I=fromTheme("opacity"),P=fromTheme("padding"),A=fromTheme("saturate"),j=fromTheme("scale"),O=fromTheme("sepia"),$=fromTheme("skew"),V=fromTheme("space"),L=fromTheme("translate"),U=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",isArbitraryValue,e],Y=()=>[isArbitraryValue,e],K=()=>["",isLength,isArbitraryLength],ke=()=>["auto",isNumber,isArbitraryValue],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",isArbitraryValue],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:W(),borderColor:[t],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Y(),borderWidth:K(),contrast:W(),grayscale:z(),hueRotate:W(),invert:z(),gap:Y(),gradientColorStops:[t],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Z(),margin:Z(),opacity:W(),padding:Y(),saturate:W(),scale:W(),sepia:z(),skew:W(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),isArbitraryValue]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":ke()}],"col-end":[{"col-end":ke()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":ke()}],"row-end":[{"row-end":ke()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[A]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn$1(...t){return twMerge(clsx(t))}const Loading=({size:t="md",variant:e="spinner",className:n,text:s})=>{const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return e==="spinner"?jsxRuntimeExports.jsxs("div",{className:cn$1("flex flex-col items-center justify-center gap-3",n),children:[jsxRuntimeExports.jsxs("div",{className:cn$1("relative",i[t]),children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent",style:{borderTopColor:"#f97316",borderRightColor:"#f97316",animation:"spin 0.8s linear infinite"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent opacity-50",style:{borderBottomColor:"#ea580c",borderLeftColor:"#ea580c",animation:"spin 0.8s linear infinite reverse"}})]}),s&&jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold tracking-wide",style:{color:"#ffffff",fontFamily:"system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif",letterSpacing:"0.5px"},children:s})]}):e==="dots"?jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center justify-center gap-2",n),children:[jsxRuntimeExports.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(o=>jsxRuntimeExports.jsx("div",{className:"rounded-full",style:{width:t==="sm"?"6px":t==="md"?"8px":"12px",height:t==="sm"?"6px":t==="md"?"8px":"12px",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",animation:"bounce 1.4s ease-in-out infinite",animationDelay:`${o*.16}s`}},o))}),s&&jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold tracking-wide ml-2",style:{color:"#ffffff",fontFamily:"system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif",letterSpacing:"0.5px"},children:s})]}):e==="pulse"?jsxRuntimeExports.jsxs("div",{className:cn$1("flex flex-col items-center justify-center gap-3",n),children:[jsxRuntimeExports.jsx("div",{className:cn$1("rounded-full",i[t]),style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",boxShadow:"0 0 0 0 rgba(249, 115, 22, 0.7)"}}),s&&jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold tracking-wide",style:{color:"#ffffff",fontFamily:"system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif",letterSpacing:"0.5px"},children:s})]}):null},LoadingOverlay=({isLoading:t,text:e,variant:n="spinner"})=>t?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(15, 23, 42, 0.8)",backdropFilter:"blur(8px)"},children:jsxRuntimeExports.jsx("div",{className:"rounded-2xl p-8",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:jsxRuntimeExports.jsx(Loading,{variant:n,size:"lg",text:e})})}):null;function toDate(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function constructFrom(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function addDays(t,e){const n=toDate(t);return isNaN(e)?constructFrom(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function addMonths(t,e){const n=toDate(t);if(isNaN(e))return constructFrom(t,NaN);if(!e)return n;const s=n.getDate(),i=constructFrom(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions$1={};function getDefaultOptions(){return defaultOptions$1}function startOfWeek(t,e){const n=getDefaultOptions(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=toDate(t),o=i.getDay(),a=(o<s?7:0)+o-s;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function startOfISOWeek(t){return startOfWeek(t,{weekStartsOn:1})}function getISOWeekYear(t){const e=toDate(t),n=e.getFullYear(),s=constructFrom(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=startOfISOWeek(s),o=constructFrom(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=startOfISOWeek(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function startOfDay(t){const e=toDate(t);return e.setHours(0,0,0,0),e}function getTimezoneOffsetInMilliseconds(t){const e=toDate(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function differenceInCalendarDays(t,e){const n=startOfDay(t),s=startOfDay(e),i=+n-getTimezoneOffsetInMilliseconds(n),o=+s-getTimezoneOffsetInMilliseconds(s);return Math.round((i-o)/millisecondsInDay)}function startOfISOWeekYear(t){const e=getISOWeekYear(t),n=constructFrom(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),startOfISOWeek(n)}function addWeeks(t,e){const n=e*7;return addDays(t,n)}function addYears(t,e){return addMonths(t,e*12)}function max$1(t){let e;return t.forEach(function(n){const s=toDate(n);(e===void 0||e<s||isNaN(Number(s)))&&(e=s)}),e||new Date(NaN)}function min$1(t){let e;return t.forEach(n=>{const s=toDate(n);(!e||e>s||isNaN(+s))&&(e=s)}),e||new Date(NaN)}function isSameDay(t,e){const n=startOfDay(t),s=startOfDay(e);return+n==+s}function isDate(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function isValid(t){if(!isDate(t)&&typeof t!="number")return!1;const e=toDate(t);return!isNaN(Number(e))}function differenceInCalendarMonths(t,e){const n=toDate(t),s=toDate(e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function differenceInCalendarWeeks(t,e,n){const s=startOfWeek(t,n),i=startOfWeek(e,n),o=+s-getTimezoneOffsetInMilliseconds(s),a=+i-getTimezoneOffsetInMilliseconds(i);return Math.round((o-a)/millisecondsInWeek)}function endOfMonth(t){const e=toDate(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function startOfMonth(t){const e=toDate(t);return e.setDate(1),e.setHours(0,0,0,0),e}function startOfYear(t){const e=toDate(t),n=constructFrom(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function endOfWeek(t,e){const n=getDefaultOptions(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=toDate(t),o=i.getDay(),a=(o<s?-7:0)+6-(o-s);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function endOfISOWeek(t){return endOfWeek(t,{weekStartsOn:1})}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(t,e,n)=>{let s;const i=formatDistanceLocale$1[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function buildFormatLongFn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(t,e,n,s)=>formatRelativeLocale$1[t];function buildLocalizeFn(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):a;i=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:t=>t-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?findIndex(c,m=>m.test(a)):findKey(c,m=>m.test(a));let f;f=t.valueCallback?t.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(a.length);return{value:f,rest:p}}}function findKey(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function findIndex(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function buildMatchPatternFn(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:t=>parseInt(t,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:t=>t+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(t){const e=toDate(t);return differenceInCalendarDays(e,startOfYear(e))+1}function getISOWeek(t){const e=toDate(t),n=+startOfISOWeek(e)-+startOfISOWeekYear(e);return Math.round(n/millisecondsInWeek)+1}function getWeekYear(t,e){const n=toDate(t),s=n.getFullYear(),i=getDefaultOptions(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=constructFrom(t,0);a.setFullYear(s+1,0,o),a.setHours(0,0,0,0);const c=startOfWeek(a,e),u=constructFrom(t,0);u.setFullYear(s,0,o),u.setHours(0,0,0,0);const f=startOfWeek(u,e);return n.getTime()>=c.getTime()?s+1:n.getTime()>=f.getTime()?s:s-1}function startOfWeekYear(t,e){const n=getDefaultOptions(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=getWeekYear(t,e),o=constructFrom(t,0);return o.setFullYear(i,0,s),o.setHours(0,0,0,0),startOfWeek(o,e)}function getWeek(t,e){const n=toDate(t),s=+startOfWeek(n,e)-+startOfWeekYear(n,e);return Math.round(s/millisecondsInWeek)+1}function addLeadingZeros(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const lightFormatters={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return addLeadingZeros(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):addLeadingZeros(n+1,2)},d(t,e){return addLeadingZeros(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return addLeadingZeros(t.getHours()%12||12,e.length)},H(t,e){return addLeadingZeros(t.getHours(),e.length)},m(t,e){return addLeadingZeros(t.getMinutes(),e.length)},s(t,e){return addLeadingZeros(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return addLeadingZeros(i,e.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$1={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return lightFormatters.y(t,e)},Y:function(t,e,n,s){const i=getWeekYear(t,s),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return addLeadingZeros(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):addLeadingZeros(o,e.length)},R:function(t,e){const n=getISOWeekYear(t);return addLeadingZeros(n,e.length)},u:function(t,e){const n=t.getFullYear();return addLeadingZeros(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return addLeadingZeros(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return addLeadingZeros(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return lightFormatters.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return addLeadingZeros(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=getWeek(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):addLeadingZeros(i,e.length)},I:function(t,e,n){const s=getISOWeek(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):addLeadingZeros(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):lightFormatters.d(t,e)},D:function(t,e,n){const s=getDayOfYear(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):addLeadingZeros(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return addLeadingZeros(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return addLeadingZeros(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return addLeadingZeros(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=dayPeriodEnum.noon:s===0?i=dayPeriodEnum.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=dayPeriodEnum.evening:s>=12?i=dayPeriodEnum.afternoon:s>=4?i=dayPeriodEnum.morning:i=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return lightFormatters.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):lightFormatters.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):addLeadingZeros(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):addLeadingZeros(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):lightFormatters.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):lightFormatters.s(t,e)},S:function(t,e){return lightFormatters.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(s);case"XXXX":case"XX":return formatTimezone(s);case"XXXXX":case"XXX":default:return formatTimezone(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(s);case"xxxx":case"xx":return formatTimezone(s);case"xxxxx":case"xxx":default:return formatTimezone(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(s,":");case"OOOO":default:return"GMT"+formatTimezone(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(s,":");case"zzzz":default:return"GMT"+formatTimezone(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return addLeadingZeros(s,e.length)},T:function(t,e,n){const s=t.getTime();return addLeadingZeros(s,e.length)}};function formatTimezoneShort(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),o=s%60;return o===0?n+String(i):n+String(i)+e+addLeadingZeros(o,2)}function formatTimezoneWithOptionalMinutes(t,e){return t%60===0?(t>0?"-":"+")+addLeadingZeros(Math.abs(t)/60,2):formatTimezone(t,e)}function formatTimezone(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=addLeadingZeros(Math.trunc(s/60),2),o=addLeadingZeros(s%60,2);return n+i+e+o}const dateLongFormatter=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},timeLongFormatter=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dateTimeLongFormatter=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return dateLongFormatter(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",dateLongFormatter(s,e)).replace("{{time}}",timeLongFormatter(i,e))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(t){return dayOfYearTokenRE.test(t)}function isProtectedWeekYearToken(t){return weekYearTokenRE.test(t)}function warnOrThrowProtectedError(t,e,n){const s=message(t,e,n);if(console.warn(s),throwTokens.includes(t))throw new RangeError(s)}function message(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(t,e,n){const s=getDefaultOptions(),i=n?.locale??s.locale??enUS,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=toDate(t);if(!isValid(c))throw new RangeError("Invalid time value");let u=e.match(longFormattingTokensRegExp).map(p=>{const m=p[0];if(m==="p"||m==="P"){const x=longFormatters[m];return x(p,i.formatLong)}return p}).join("").match(formattingTokensRegExp).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:cleanEscapedString(p)};if(formatters$1[m])return{isToken:!0,value:p};if(m.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return u.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(m)||!n?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(m))&&warnOrThrowProtectedError(m,e,String(t));const x=formatters$1[m[0]];return x(c,m,i.localize,f)}).join("")}function cleanEscapedString(t){const e=t.match(escapedStringRegExp);return e?e[1].replace(doubleQuoteRegExp,"'"):t}function getDaysInMonth(t){const e=toDate(t),n=e.getFullYear(),s=e.getMonth(),i=constructFrom(t,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function getUnixTime(t){return Math.trunc(+toDate(t)/1e3)}function lastDayOfMonth(t){const e=toDate(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function getWeeksInMonth(t,e){return differenceInCalendarWeeks(lastDayOfMonth(t),startOfMonth(t),e)+1}function isAfter$1(t,e){const n=toDate(t),s=toDate(e);return n.getTime()>s.getTime()}function isBefore(t,e){const n=toDate(t),s=toDate(e);return+n<+s}function isSameMonth(t,e){const n=toDate(t),s=toDate(e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function isSameYear(t,e){const n=toDate(t),s=toDate(e);return n.getFullYear()===s.getFullYear()}function subDays(t,e){return addDays(t,-e)}function setMonth(t,e){const n=toDate(t),s=n.getFullYear(),i=n.getDate(),o=constructFrom(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=getDaysInMonth(o);return n.setMonth(e,Math.min(i,a)),n}function setYear(t,e){const n=toDate(t);return isNaN(+n)?constructFrom(t,NaN):(n.setFullYear(e),n)}const formatDistanceLocale={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},formatDistance=(t,e,n)=>{let s;const i=formatDistanceLocale[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+s:"h "+s:s},dateFormats={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},formatRelative=(t,e,n,s)=>{const i=formatRelativeLocale[t];return typeof i=="function"?i(e):i},eraValues={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},monthValues={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},dayValues={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ordinalNumber=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:t=>t-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)[o]?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},parseEraPatterns={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},matchDayPatterns={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},parseDayPatterns={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},matchDayPeriodPatterns={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:t=>parseInt(t,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:t=>t+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},ptBR={code:"pt-BR",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}},GoogleIcon=()=>jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[jsxRuntimeExports.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),jsxRuntimeExports.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),jsxRuntimeExports.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.519-3.487-11.187-8.264l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),jsxRuntimeExports.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C42.022,35.244,44,30.036,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),AuthPage=()=>{const[t,e]=reactExports.useState(!0),[n,s]=reactExports.useState("driver"),[i,o]=reactExports.useState("driver"),[a,c]=reactExports.useState(""),[u,f]=reactExports.useState(""),[p,m]=reactExports.useState(""),[x,E]=reactExports.useState(""),[T,_]=reactExports.useState(""),[k,I]=reactExports.useState(""),[P,A]=reactExports.useState(""),[j,O]=reactExports.useState(""),[$,V]=reactExports.useState(""),[L,U]=reactExports.useState(!1),[J,Z]=reactExports.useState(!1),[Y,K]=reactExports.useState(null),[ke,Re]=reactExports.useState(""),[G,q]=reactExports.useState(!1),[M,z]=reactExports.useState("complete"),[ee]=reactExports.useState(!1),[W,ie]=reactExports.useState(null),[se,Pe]=reactExports.useState(null),[Ne,Oe]=reactExports.useState(new Date);reactExports.useEffect(()=>{const Ge=()=>{const et=new Date(new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}));Oe(et)};Ge();const at=setInterval(Ge,1e3);return()=>clearInterval(at)},[]),reactExports.useEffect(()=>{if(n==="admin"){const Ge=auth.currentUser;Ge&&Ge.email?.endsWith("@shopee.com")?(async()=>{try{const et=doc(db,"admins_pre_aprovados",Ge.uid),lt=await getDoc(et);if(lt.exists()){const pt=lt.data(),Tt=pt.name||Ge.displayName||Ge.email?.split("@")[0]||"Admin",yt=Tt.split(" ").map(_t=>_t[0]).join("").toUpperCase().slice(0,2);ie({name:Tt,city:pt.city||"No informado",avatar:pt.avatar||Ge.photoURL||"",initials:yt})}else{const pt=Ge.displayName||Ge.email?.split("@")[0]||"Admin",Tt=pt.split(" ").map(yt=>yt[0]).join("").toUpperCase().slice(0,2);ie({name:pt,city:"No informado",avatar:Ge.photoURL||"",initials:Tt})}}catch(et){console.error("Erro ao buscar perfil do admin:",et),ie({name:"Admin Shopee",city:"Brasil",avatar:"",initials:"AS"})}})():ie({name:"Admin Shopee",city:"Brasil",avatar:"",initials:"AS"})}else ie(null)},[n]),reactExports.useEffect(()=>{if(n==="driver"){const Ge=auth.currentUser;Ge&&!Ge.email?.endsWith("@shopee.com")?(async()=>{try{const et=collection(db,"motoristas_pre_aprovados"),lt=query(et,where("uid","==",Ge.uid)),pt=await getDocs(lt);if(pt.empty){const Tt=query(et,where("googleUid","==",Ge.uid)),yt=await getDocs(Tt);if(yt.empty){const _t=Ge.displayName||Ge.email?.split("@")[0]||"Motorista",Pt=_t.split(" ").map(Lt=>Lt[0]).join("").toUpperCase().slice(0,2);Pe({name:_t,city:"No informado",avatar:Ge.photoURL||"",initials:Pt})}else{const _t=yt.docs[0].data(),Pt=_t.name||Ge.displayName||Ge.email?.split("@")[0]||"Motorista",Lt=Pt.split(" ").map(It=>It[0]).join("").toUpperCase().slice(0,2),Ct=(_t.hub||"").split("_")[2]||_t.city||"No informado";Pe({name:Pt,city:Ct,avatar:_t.avatar||Ge.photoURL||"",initials:Lt})}}else{const Tt=pt.docs[0].data(),yt=Tt.name||Ge.displayName||Ge.email?.split("@")[0]||"Motorista",_t=yt.split(" ").map(Jt=>Jt[0]).join("").toUpperCase().slice(0,2),Lt=(Tt.hub||"").split("_")[2]||Tt.city||"No informado";Pe({name:yt,city:Lt,avatar:Tt.avatar||Ge.photoURL||"",initials:_t})}}catch(et){console.error("Erro ao buscar perfil do motorista:",et),Pe({name:"Motorista",city:"Brasil",avatar:"",initials:"M"})}})():Pe({name:"Motorista",city:"Brasil",avatar:"",initials:"M"})}else Pe(null)},[n]);const je=()=>{z("fadeIn"),setTimeout(()=>z("complete"),100)},Be=Ge=>{let at=Ge.replace(/\D/g,"");return at=at.slice(0,11),at.length>2&&(at=`(${at.substring(0,2)}) ${at.substring(2)}`),at.length>9&&(at=`${at.substring(0,9)}-${at.substring(9)}`),at},We=async Ge=>{if(Ge.preventDefault(),U(!0),O(""),V(""),n==="driver"&&a.endsWith("@shopee.com")){O("Contas @shopee.com devem usar aba Admin."),U(!1);return}if(n==="admin"&&!a.endsWith("@shopee.com")){O("Admin s com @shopee.com."),U(!1);return}try{const at=await signInWithEmailAndPassword(auth,a,u);if(n==="admin"&&!at.user.emailVerified){O("Verifique seu e-mail."),await signOut(auth),U(!1);return}}catch(at){["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(at.code)?O("E-mail ou senha invlidos."):at.code==="auth/too-many-requests"?O("Muitas tentativas. Tente mais tarde."):(O("Falha ao entrar."),console.error(at))}finally{U(!1)}},Ue=async Ge=>{if(Ge.preventDefault(),U(!0),O(""),V(""),n==="driver"&&a.endsWith("@shopee.com")){O("Contas @shopee.com devem ser Admin."),U(!1);return}if(n==="admin"&&!a.endsWith("@shopee.com")){O("Admin s com e-mail @shopee.com."),U(!1);return}try{const et=(await createUserWithEmailAndPassword(auth,a,u)).user;if(n==="driver"){const lt=doc(db,"motoristas_pre_aprovados",P),pt=await getDoc(lt);if(!pt.exists()||pt.data().uid){O("ID invlido ou j cadastrado."),await et.delete(),U(!1);return}await updateDoc(lt,{name:`${p} ${x}`,phone:k.replace(/\D/g,""),birthDate:T,email:et.email,uid:et.uid})}else{await sendEmailVerification(et);const lt=doc(db,"admins_pre_aprovados",et.uid);await setDoc(lt,{uid:et.uid,email:et.email,name:`${p} ${x}`,phone:k.replace(/\D/g,""),birthDate:T,role:"admin"}),await signOut(auth),V("Conta criada! Verifique seu e-mail."),e(!0)}}catch(at){at.code==="auth/email-already-in-use"?O("E-mail j em uso."):at.code==="auth/weak-password"?O("Senha fraca (mnimo 6 caracteres)."):(O("Falha ao criar conta."),console.error(at))}finally{U(!1)}},Ze=async Ge=>{U(!0),O("");const at=new GoogleAuthProvider;try{const lt=(await signInWithPopup(auth,at)).user;if(!lt){O("Falha no Google."),U(!1);return}if(Ge==="admin")lt.email?.endsWith("@shopee.com")||(O("Admin s com @shopee.com."),await signOut(auth));else{if(lt.email?.endsWith("@shopee.com")){O("Conta @shopee.com deve usar aba Admin."),await signOut(auth),U(!1);return}const pt=query(collection(db,"motoristas_pre_aprovados"),where("googleUid","==",lt.uid));(await getDocs(pt)).empty&&(K(lt),Z(!0))}}catch(et){et.code!=="auth/popup-closed-by-user"?(O("Falha ao entrar com Google."),console.error(et)):O("")}finally{U(!1)}},ot=async Ge=>{if(Ge.preventDefault(),U(!0),Re(""),!P.trim()){Re("Insira seu ID."),U(!1);return}try{const at=doc(db,"motoristas_pre_aprovados",P.trim()),et=await getDoc(at);if(!et.exists()){Re("ID no encontrado."),U(!1);return}const lt=et.data();if(lt.uid||lt.googleUid){Re("ID j vinculado."),U(!1);return}await updateDoc(et.ref,{googleUid:Y.uid,email:Y.email,name:lt.name||Y.displayName||"N/A",avatar:lt.avatar||Y.photoURL}),Z(!1),K(null),A("")}catch(at){Re("Erro ao vincular."),console.error(at)}finally{U(!1)}};if(J)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative overflow-hidden",style:{minHeight:"100vh",minWidth:"100vw"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full",style:{background:"linear-gradient(135deg, #fff5f0 0%, #ffe8d6 5%, #ffd4b8 10%, #ffb88c 15%, #ffa366 20%, #ff8c42 25%, #ff7733 30%, #ff6622 35%, #ff5511 40%, #ff4400 45%, #ee3d00 50%, #dd3300 55%, #cc2a00 60%, #bb2200 65%, #aa1a00 70%, #991100 75%, #880900 80%, #770600 85%, #660400 90%, #550300 95%, #440200 100%)",backgroundAttachment:"fixed"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[url('/pattern.svg')] opacity-5"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/5 via-transparent to-black/10"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-lg p-8 md:p-10 relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"w-full rounded-3xl p-8 md:p-10 backdrop-blur-xl border-2 shadow-2xl",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 248, 240, 0.98) 100%)",borderColor:"rgba(238, 77, 45, 0.3)",boxShadow:"0 25px 60px -20px rgba(238, 77, 45, 0.4), 0 0 40px rgba(255, 122, 26, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.5)"},children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, #EE4D2D 0%, #FF6B35 100%)",boxShadow:"0 10px 30px rgba(238, 77, 45, 0.4)"},children:jsxRuntimeExports.jsx(Hash,{size:40,className:"text-white"})})}),jsxRuntimeExports.jsx(motion.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold text-center mb-2",style:{background:"linear-gradient(135deg, #EE4D2D 0%, #FF6B35 50%, #EE4D2D 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Validao de Acesso"}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center text-slate-600 mb-8 text-sm md:text-base",children:"Digite seu ID de motorista para validar seu acesso ao sistema"}),jsxRuntimeExports.jsxs("form",{onSubmit:ot,className:"space-y-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[jsxRuntimeExports.jsx("label",{htmlFor:"driverIdLink",className:"block text-sm font-bold uppercase tracking-wide mb-2",style:{color:"#EE4D2D"},children:"ID do Motorista"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"driverIdLink",type:"text",value:P,onChange:Ge=>A(Ge.target.value),className:"w-full p-4 rounded-xl text-base font-medium border-2 transition-all focus:ring-4 focus:ring-orange-500/30 outline-none",style:{background:"rgba(255, 255, 255, 0.9)",borderColor:ke?"#ef4444":"rgba(238, 77, 45, 0.3)",color:"#1e293b",boxShadow:ke?"0 0 0 3px rgba(239, 68, 68, 0.1)":"0 4px 15px rgba(238, 77, 45, 0.1)"},placeholder:"Digite seu ID nico",required:!0,autoComplete:"off",autoFocus:!0}),jsxRuntimeExports.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",style:{color:"#EE4D2D"},children:jsxRuntimeExports.jsx(Hash,{size:20})})]}),ke&&jsxRuntimeExports.jsxs(motion.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-red-600 mt-2 flex items-center gap-2 font-medium",children:[jsxRuntimeExports.jsx(TriangleAlert,{size:16}),ke]})]}),jsxRuntimeExports.jsx(motion.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},type:"submit",disabled:L||!P.trim(),className:"w-full py-4 rounded-xl font-bold text-lg text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98] shadow-xl",style:{background:L||!P.trim()?"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%)":"linear-gradient(135deg, #EE4D2D 0%, #FF6B35 50%, #EE4D2D 100%)",backgroundSize:"200% 200%",boxShadow:L||!P.trim()?"0 4px 15px rgba(0, 0, 0, 0.1)":"0 10px 30px rgba(238, 77, 45, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:L?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}),jsxRuntimeExports.jsx("span",{className:"font-semibold tracking-wide",children:"Verificando..."})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(LogIn,{size:20}),jsxRuntimeExports.jsx("span",{children:"Validar e Continuar"})]})}),jsxRuntimeExports.jsx(motion.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},type:"button",onClick:async()=>{auth.currentUser&&await signOut(auth),Z(!1),K(null),Re(""),A("")},className:"w-full text-center text-sm text-slate-600 hover:text-slate-800 font-medium transition-colors py-2",children:"Cancelar"})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-8 pt-6 border-t border-orange-200/50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 text-xs text-slate-500",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-orange-50",style:{color:"#EE4D2D"},children:jsxRuntimeExports.jsx(Briefcase,{size:16})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-slate-700 mb-1",children:"No tem seu ID?"}),jsxRuntimeExports.jsx("p",{children:"Entre em contato com o administrador do sistema para obter seu ID de motorista."})]})]})})]})})]});const Je=M==="rocket",He=M==="fadeIn"||M==="complete";return ee?jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-black relative overflow-hidden",children:[jsxRuntimeExports.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-50",style:{filter:"brightness(0.3)"},children:jsxRuntimeExports.jsx("source",{src:"/pinterest-video (1).mp4",type:"video/mp4"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),jsxRuntimeExports.jsx("div",{className:"relative z-20 flex flex-col items-center justify-center gap-8",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center",children:[jsxRuntimeExports.jsx(motion.h1,{className:"text-6xl md:text-8xl font-bold text-white mb-4",style:{textShadow:"0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.5)"},animate:{textShadow:["0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.5)","0 0 50px rgba(255, 107, 53, 1), 0 0 100px rgba(255, 107, 53, 0.8)","0 0 30px rgba(255, 107, 53, 0.8), 0 0 60px rgba(255, 107, 53, 0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"LOADING"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 justify-center",children:[0,1,2].map(Ge=>jsxRuntimeExports.jsx(motion.div,{className:"w-3 h-3 bg-orange-500 rounded-full",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:Ge*.2,ease:"easeInOut"}},Ge))})]})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 text-foreground overflow-hidden relative",style:{minHeight:"100vh"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{backgroundImage:'url("/city-skyline-background.jpg")',backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",minHeight:"100vh",filter:"blur(2px)",transform:"scale(1.02)"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/25 z-[1]"}),jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:Je?1:0},transition:{duration:.3},style:{background:"radial-gradient(circle at center, rgba(249, 115, 22, 0.3) 0%, transparent 50%)"}}),jsxRuntimeExports.jsxs(motion.div,{className:cn$1("relative z-10 flex items-center justify-center border border-orange-900/30 overflow-hidden transition-all duration-300",He&&"shadow-2xl"),initial:{opacity:1,y:0,scale:1},animate:{opacity:1,y:0,scale:1},transition:{opacity:{duration:0,delay:0},y:{duration:0,delay:0},scale:{duration:0,delay:0}},style:{background:"linear-gradient(to bottom, #5C1F0F 0%, #6B2515 20%, #7A2B1B 40%, #8B2E1A 60%, #A63E1F 80%, #C04E24 100%)",position:"relative",width:"min(95vw, 1400px)",borderRadius:"2.5rem",minHeight:"auto"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{background:`
              radial-gradient(circle at 20% 80%, rgba(139, 46, 26, 0.3) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(192, 78, 36, 0.2) 0%, transparent 50%),
              radial-gradient(circle at 40% 60%, rgba(166, 62, 31, 0.25) 0%, transparent 50%),
              radial-gradient(circle at 60% 40%, rgba(238, 77, 45, 0.15) 0%, transparent 50%)
            `,mixBlendMode:"overlay",opacity:.5}}),jsxRuntimeExports.jsx(AnimatePresence,{children:Je&&jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 flex items-center justify-center z-20",initial:{opacity:1,y:0},exit:{opacity:0,y:-300,scale:.8,transition:{duration:.2,ease:[.22,1,.36,1]}},children:jsxRuntimeExports.jsx(Lottie,{animationData:rocketAnimation,loop:!1,onComplete:je,style:{width:140,height:140}})})}),jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col md:flex-row w-full",initial:{opacity:1},animate:{opacity:1},transition:{duration:0,delay:0,ease:[.22,1,.36,1]},children:[jsxRuntimeExports.jsx("div",{className:"flex-1 relative p-8 md:p-12 lg:p-16",children:jsxRuntimeExports.jsxs("div",{className:"w-full z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[n==="driver"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.15},className:"w-full p-4 md:p-6 rounded-t-[2.5rem] border-b border-orange-900/30 relative z-10 mb-6",style:{marginTop:"-2rem",marginLeft:"-2rem",marginRight:"-2rem",backgroundColor:"#000000",background:"linear-gradient(to bottom, #000000 0%, #1a1a1a 100%)"},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-4 pb-4 border-b border-orange-900/20",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Clock,{size:20,className:"text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-xl md:text-2xl font-bold",children:format(Ne,"HH:mm:ss",{locale:ptBR})})]}),jsxRuntimeExports.jsx("div",{className:"text-sm md:text-base text-gray-300 ml-8",children:format(Ne,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:ptBR})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[se?.avatar?jsxRuntimeExports.jsx("img",{src:se.avatar,alt:se.name,className:"w-16 h-16 md:w-20 md:h-20 rounded-full object-cover border-2 border-orange-500/50 shadow-lg",onError:Ge=>{const at=Ge.target;at.style.display="none";const et=at.parentElement;if(et){const lt=et.querySelector(".driver-avatar-fallback");lt&&(lt.style.display="flex")}}}):null,jsxRuntimeExports.jsx("div",{className:`driver-avatar-fallback w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-orange-500 to-orange-700 flex items-center justify-center border-2 border-orange-500/50 shadow-lg ${se?.avatar?"hidden":""}`,style:{display:se?.avatar?"none":"flex"},children:jsxRuntimeExports.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:se?.initials||"M"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 truncate",children:se?.name||"Motorista"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-sm md:text-base text-gray-300",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"text-orange-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:se?.city||"No informado"})]})]})]})]}),n==="admin"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.15},className:"w-full p-4 md:p-6 rounded-t-[2.5rem] border-b border-orange-900/30 relative z-10 mb-6",style:{marginTop:"-2rem",marginLeft:"-2rem",marginRight:"-2rem",backgroundColor:"#000000",background:"linear-gradient(to bottom, #000000 0%, #1a1a1a 100%)"},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-4 pb-4 border-b border-orange-900/20",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Clock,{size:20,className:"text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-xl md:text-2xl font-bold",children:format(Ne,"HH:mm:ss",{locale:ptBR})})]}),jsxRuntimeExports.jsx("div",{className:"text-sm md:text-base text-gray-300 ml-8",children:format(Ne,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:ptBR})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[W?.avatar?jsxRuntimeExports.jsx("img",{src:W.avatar,alt:W.name,className:"w-16 h-16 md:w-20 md:h-20 rounded-full object-cover border-2 border-orange-500/50 shadow-lg",onError:Ge=>{const at=Ge.target;at.style.display="none";const et=at.parentElement;if(et){const lt=et.querySelector(".admin-avatar-fallback");lt&&(lt.style.display="flex")}}}):null,jsxRuntimeExports.jsx("div",{className:`admin-avatar-fallback w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-orange-500 to-orange-700 flex items-center justify-center border-2 border-orange-500/50 shadow-lg ${W?.avatar?"hidden":""}`,style:{display:W?.avatar?"none":"flex"},children:jsxRuntimeExports.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:W?.initials||"A"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 truncate",children:W?.name||"Admin Shopee"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-sm md:text-base text-gray-300",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"text-orange-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:W?.city||"No informado"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-baseline justify-center w-full",children:[jsxRuntimeExports.jsx("span",{className:"text-5xl md:text-6xl lg:text-7xl font-bold italic",style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 50%, #f97316 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(249, 115, 22, 0.3)"},children:"Shopee"}),jsxRuntimeExports.jsx("span",{className:"text-5xl md:text-6xl lg:text-7xl font-black tracking-tight",style:{background:"linear-gradient(135deg, #fb923c 0%, #f97316 50%, #ea580c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(249, 115, 22, 0.3)"},children:"X"}),jsxRuntimeExports.jsx("span",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-wider",style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"PRESS"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex rounded-full border border-border overflow-hidden text-sm font-semibold",style:{background:"rgba(15, 23, 42, 0.1)"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{o(n),s("driver")},className:cn$1("flex-1 py-4 md:py-5 text-lg md:text-xl font-semibold text-center transition-all duration-300",n==="driver"?"bg-primary text-primary-foreground shadow-lg":"text-slate-800/70 hover:bg-slate-800/10 hover:text-slate-900"),children:[jsxRuntimeExports.jsx(User,{className:"inline-block mr-2 md:mr-3",size:20})," ","Motorista"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{o(n),s("admin")},className:cn$1("flex-1 py-4 md:py-5 text-lg md:text-xl font-semibold text-center transition-all duration-300",n==="admin"?"bg-primary text-primary-foreground shadow-lg":"text-slate-800/70 hover:bg-slate-800/10 hover:text-slate-900"),children:[jsxRuntimeExports.jsx(Briefcase,{className:"inline-block mr-2 md:mr-3",size:20})," ","Admin"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-8 md:pt-12 space-y-8 md:space-y-10",children:[jsxRuntimeExports.jsx("div",{className:"relative h-32 md:h-40 lg:h-48 overflow-hidden flex items-center justify-center",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.h2,{initial:{x:n==="driver"?-300:300,opacity:0},animate:{x:0,opacity:1},exit:{x:i==="driver"?300:-300,opacity:0},transition:{type:"spring",stiffness:400,damping:25,duration:.3},className:"absolute inset-0 flex items-center justify-center text-center text-3xl md:text-5xl lg:text-6xl font-bold leading-tight px-4",style:{color:"#FFFFFF"},children:[t?"Login de ":"Cadastro de ",n==="admin"?"Administrador":"Motorista"]},`${n}-${t}`)})}),j&&jsxRuntimeExports.jsx("p",{className:"text-base md:text-lg text-red-400 bg-red-500/10 border border-red-500/30 rounded-lg px-4 py-3",children:j}),$&&jsxRuntimeExports.jsx("p",{className:"text-base md:text-lg text-green-400 bg-green-500/10 border border-green-500/30 rounded-lg px-4 py-3",children:$}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:t?jsxRuntimeExports.jsxs(motion.form,{initial:{x:n==="driver"?-100:100,opacity:0},animate:{x:0,opacity:1},exit:{x:i==="driver"?100:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.4},onSubmit:We,className:"space-y-6 md:space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"E-mail",value:a,onChange:Ge=>c(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:G?"text":"password",placeholder:"Senha",value:u,onChange:Ge=>f(Ge.target.value),className:"w-full pl-12 pr-12 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"new-password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>q(!G),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:G?jsxRuntimeExports.jsx(EyeOff,{size:20}):jsxRuntimeExports.jsx(Eye,{size:20})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:L,className:"w-full flex justify-center items-center gap-3 py-4 md:py-5 px-4 rounded-2xl text-lg md:text-xl font-semibold text-primary-foreground bg-primary hover:bg-primary/90 transition-all shadow-lg disabled:opacity-50",children:L?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}),jsxRuntimeExports.jsx("span",{className:"font-semibold tracking-wide",style:{fontFamily:"system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif",letterSpacing:"0.5px"},children:"Entrando..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LogIn,{size:20}),jsxRuntimeExports.jsx("span",{children:"Entrar"})]})})]},`login-${n}`):jsxRuntimeExports.jsxs(motion.form,{initial:{x:n==="driver"?-100:100,opacity:0},animate:{x:0,opacity:1},exit:{x:i==="driver"?100:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.4},onSubmit:Ue,className:"space-y-6 md:space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Nome",value:p,onChange:Ge=>m(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Sobrenome",value:x,onChange:Ge=>E(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"date",placeholder:"Data de Nascimento",value:T,onChange:Ge=>_(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Phone,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"tel",placeholder:"Telefone (com DDD)",value:k,onChange:Ge=>I(Be(Ge.target.value)),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),n==="driver"&&jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Hash,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"ID de Motorista (fornecido pelo admin)",value:P,onChange:Ge=>A(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"E-mail",value:a,onChange:Ge=>c(Ge.target.value),className:"w-full pl-12 pr-4 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"off"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:24}),jsxRuntimeExports.jsx("input",{type:G?"text":"password",placeholder:"Senha (mnimo 6 caracteres)",value:u,onChange:Ge=>f(Ge.target.value),className:"w-full pl-12 pr-12 py-4 md:py-5 text-lg md:text-xl rounded-2xl bg-background border border-input text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-ring transition-all",required:!0,autoComplete:"new-password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>q(!G),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:G?jsxRuntimeExports.jsx(EyeOff,{size:20}):jsxRuntimeExports.jsx(Eye,{size:20})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:L,className:"w-full flex justify-center items-center gap-3 py-4 md:py-5 px-4 rounded-2xl text-lg md:text-xl font-semibold text-primary-foreground bg-primary hover:bg-primary/90 transition-all shadow-lg disabled:opacity-50",children:L?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}),jsxRuntimeExports.jsx("span",{className:"font-semibold tracking-wide",style:{fontFamily:"system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif",letterSpacing:"0.5px"},children:"Cadastrando..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{size:20}),jsxRuntimeExports.jsx("span",{children:"Cadastrar"})]})})]},`register-${n}`)}),jsxRuntimeExports.jsx("div",{className:"pt-4 md:pt-6 text-base md:text-lg",style:{color:"#FFFFFF"},children:jsxRuntimeExports.jsx("button",{onClick:()=>{o(n),e(!t),O(""),V("")},className:"font-medium text-orange-400 hover:text-orange-300 transition-colors",children:t?"No tem uma conta? Cadastre-se":"J tem uma conta? Faa login"})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 md:mt-10 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t",style:{borderColor:"rgba(255, 255, 255, 0.2)"}})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-base md:text-lg",style:{color:"#E2E8F0"},children:jsxRuntimeExports.jsx("span",{className:"px-4 rounded-full",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(8px)"},children:"Ou"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 md:mt-10",children:jsxRuntimeExports.jsxs("button",{onClick:()=>Ze(n),disabled:L,className:"w-full flex justify-center items-center gap-3 py-4 md:py-5 px-4 rounded-2xl border border-border bg-secondary text-secondary-foreground text-base md:text-lg font-medium hover:bg-secondary/80 disabled:opacity-50 transition-all",children:[jsxRuntimeExports.jsx(GoogleIcon,{})," Entrar com o Google"]})})]})]})}),jsxRuntimeExports.jsxs(motion.div,{className:"hidden md:block w-[42%] relative m-4 overflow-hidden flex-shrink-0",initial:{opacity:0,scale:.9},animate:{opacity:He?1:0,scale:He?1:.9},transition:{duration:.2,ease:[.22,1,.36,1],delay:.05},style:{borderRadius:"1.5rem",boxShadow:`
                inset 0 2px 10px rgba(0, 0, 0, 0.5),
                0 10px 30px rgba(0, 0, 0, 0.4)
              `},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[url('/SP3.jpg')] bg-cover bg-center",style:{borderRadius:"1.5rem"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/20 via-transparent to-slate-900/40",style:{borderRadius:"1.5rem"}})]})]})]})]})};function createContextScope(t,e=[]){let n=[];function s(o,a){const c=reactExports.createContext(a),u=n.length;n=[...n,a];const f=m=>{const{scope:x,children:E,...T}=m,_=x?.[t]?.[u]||c,k=reactExports.useMemo(()=>T,Object.values(T));return jsxRuntimeExports.jsx(_.Provider,{value:k,children:E})};f.displayName=o+"Provider";function p(m,x){const E=x?.[t]?.[u]||c,T=reactExports.useContext(E);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,p]}const i=()=>{const o=n.map(a=>reactExports.createContext(a));return function(c){const u=c?.[t]||o;return reactExports.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[s,composeContextScopes(i,...e)]}function composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=s.reduce((c,{useScope:u,scopeName:f})=>{const m=u(o)[`__scope${f}`];return{...c,...m}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function useCallbackRef$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...n)=>e.current?.(...n),[])}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let n=!1;const s=t.map(i=>{const o=setRef(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():setRef(t[i],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}function createSlot$4(t){const e=createSlotClone$4(t),n=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s,c=reactExports.Children.toArray(o),u=c.find(isSlottable$4);if(u){const f=u.props.children,p=c.map(m=>m===u?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:m);return jsxRuntimeExports.jsx(e,{...a,ref:i,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,p):null})}return jsxRuntimeExports.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function createSlotClone$4(t){const e=reactExports.forwardRef((n,s)=>{const{children:i,...o}=n;if(reactExports.isValidElement(i)){const a=getElementRef$5(i),c=mergeProps$4(o,i.props);return i.type!==reactExports.Fragment&&(c.ref=s?composeRefs(s,a):a),reactExports.cloneElement(i,c)}return reactExports.Children.count(i)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$4(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$4(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((t,e)=>{const n=createSlot$4(`Primitive.${e}`),s=reactExports.forwardRef((i,o)=>{const{asChild:a,...c}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(u,{...c,ref:o})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function dispatchDiscreteCustomEvent(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var t=requireReact();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(m,x){var E=x(),T=s({inst:{value:E,getSnapshot:x}}),_=T[0].inst,k=T[1];return o(function(){_.value=E,_.getSnapshot=x,u(_)&&k({inst:_})},[m,E,x]),i(function(){return u(_)&&k({inst:_}),m(function(){u(_)&&k({inst:_})})},[m]),a(E),E}function u(m){var x=m.getSnapshot;m=m.value;try{var E=x();return!n(m,E)}catch{return!0}}function f(m,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return useSyncExternalStoreShim_production.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1)}function subscribe(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext,createAvatarScope]=createContextScope(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[i,o]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:jsxRuntimeExports.jsx(Primitive.span,{...s,ref:e})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...o}=t,a=useAvatarContext(IMAGE_NAME,n),c=useImageLoadingStatus(s,o),u=useCallbackRef$1(f=>{i(f),a.onImageLoadingStatusChange(f)});return useLayoutEffect2(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?jsxRuntimeExports.jsx(Primitive.img,{...o,ref:e,src:s}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...i}=t,o=useAvatarContext(FALLBACK_NAME,n),[a,c]=reactExports.useState(s===void 0);return reactExports.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(u)}},[s]),a&&o.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive.span,{...i,ref:e}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(t,{referrerPolicy:e,crossOrigin:n}){const s=useIsHydrated(),i=reactExports.useRef(null),o=s?(i.current||(i.current=new window.Image),i.current):null,[a,c]=reactExports.useState(()=>resolveLoadingStatus(o,t));return useLayoutEffect2(()=>{c(resolveLoadingStatus(o,t))},[o,t]),useLayoutEffect2(()=>{const u=m=>()=>{c(m)};if(!o)return;const f=u("loaded"),p=u("error");return o.addEventListener("load",f),o.addEventListener("error",p),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",p)}},[o,n,e]),a}var Root$5=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Root$5,{ref:n,className:cn$1("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Avatar.displayName=Root$5.displayName;const AvatarImage=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Image$1,{ref:n,className:cn$1("aspect-square h-full w-full",t),...e}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Fallback,{ref:n,className:cn$1("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));AvatarFallback.displayName=Fallback.displayName;const falsyToString=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=clsx,cva=(t,e)=>n=>{var s;if(e?.variants==null)return cx(t,n?.class,n?.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(f=>{const p=n?.[f],m=o?.[f];if(p===null)return null;const x=falsyToString(p)||falsyToString(m);return i[f][x]}),c=n&&Object.entries(n).reduce((f,p)=>{let[m,x]=p;return x===void 0||(f[m]=x),f},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let{class:m,className:x,...E}=p;return Object.entries(E).every(T=>{let[_,k]=T;return Array.isArray(k)?k.includes({...o,...c}[_]):{...o,...c}[_]===k})?[...f,m,x]:f},[]);return cx(t,a,u,n?.class,n?.className)},badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:t,variant:e,...n}){return jsxRuntimeExports.jsx("div",{className:cn$1(badgeVariants({variant:e}),t),...n})}const Card=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("div",{ref:n,className:cn$1("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("div",{ref:n,className:cn$1("flex flex-col space-y-1.5 p-4",t),...e}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("h3",{ref:n,className:cn$1("text-lg font-semibold leading-none tracking-tight",t),...e}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("p",{ref:n,className:cn$1("text-sm text-muted-foreground",t),...e}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("div",{ref:n,className:cn$1("p-4 pt-0",t),...e}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx("div",{ref:n,className:cn$1("flex items-center p-4 pt-0",t),...e}));CardFooter.displayName="CardFooter";const AvatarComponent=({user:t,onClick:e})=>jsxRuntimeExports.jsxs(Avatar,{onClick:e,className:e?"cursor-pointer":"",children:[jsxRuntimeExports.jsx(AvatarImage,{src:t.avatar||void 0,alt:t.name||"Avatar"}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-muted text-muted-foreground font-semibold",children:t.initials||t.name?.charAt(0)||"?"})]}),UrgencyBadge$1=({urgency:t})=>{const e={URGENTE:"bg-red-600 text-white dark:bg-red-700 dark:text-red-100",ALTA:"bg-orange-500 text-white dark:bg-orange-600 dark:text-orange-100",MEDIA:"bg-yellow-400 text-yellow-900 dark:bg-yellow-600 dark:text-yellow-100",BAIXA:"bg-blue-200 text-blue-800 dark:bg-blue-900 dark:text-blue-200"};return jsxRuntimeExports.jsx("span",{className:cn$1("px-2.5 py-0.5 text-xs font-semibold rounded-full whitespace-nowrap",e[t]||"bg-muted text-muted-foreground"),children:t})},SummaryCard=({title:t,value:e,icon:n,subtext:s,colorClass:i})=>{const o=document.documentElement.classList.contains("dark");return jsxRuntimeExports.jsxs(Card,{className:cn$1("relative overflow-hidden backdrop-blur-xl",o?"bg-gradient-to-br from-slate-800/90 via-slate-700/90 to-slate-800/90 border-slate-600/50":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 rounded-full blur-2xl opacity-20",style:{background:`radial-gradient(circle, ${i} 0%, transparent 70%)`}}),jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[jsxRuntimeExports.jsx(CardTitle,{className:cn$1("text-sm font-semibold uppercase tracking-wide",o?"text-slate-300":"text-slate-700"),children:t}),jsxRuntimeExports.jsx("div",{style:{color:i},className:"h-5 w-5 relative z-10",children:n})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold mb-1",style:{color:i},children:e}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium",o?"text-slate-400":"text-slate-600"),children:s})]})]})},KanbanColumn=({title:t,count:e,colorClass:n,children:s,headerControls:i})=>{const o=document.documentElement.classList.contains("dark");return jsxRuntimeExports.jsxs("div",{className:cn$1("flex flex-col h-full rounded-xl overflow-hidden backdrop-blur-xl",o?"bg-gradient-to-br from-slate-800/90 via-slate-700/90 to-slate-800/90 border-slate-600/50":"bg-white/80 border-orange-200/50"),style:{border:o?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(254, 131, 48, 0.3)",boxShadow:o?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 4px 20px rgba(0, 0, 0, 0.1)"},children:[jsxRuntimeExports.jsxs("div",{className:cn$1("p-4 sticky top-0 z-10 backdrop-blur-xl",o?"bg-slate-800/95 border-b border-slate-600/50":"bg-white/90 border-b border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 shadow-lg",style:{backgroundColor:n,boxShadow:`0 0 12px ${n}80`}}),jsxRuntimeExports.jsx("h3",{className:cn$1("font-bold text-sm uppercase truncate tracking-wide",o?"text-white":"text-slate-800"),children:t})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"px-3 py-1 font-bold text-xs",style:{borderColor:n,color:n,background:`${n}15`,border:`1px solid ${n}40`},children:e})]}),i&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:i})]}),jsxRuntimeExports.jsx("div",{className:"p-3 space-y-3 overflow-y-auto h-full",children:s})]})},DriverInfoModal=({driver:t,call:e,onClose:n})=>{if(!t)return null;const s=a=>{if(!a)return"N/A";const c=a.replace(/\D/g,"");return c.length!==11?a:`(${c.slice(0,2)}) ${c.slice(2,7)}-${c.slice(7)}`},i=e?"Em Apoio":t.status==="DISPONIVEL"?"Disponvel":"Indisponvel",o=cn$1("mt-2",e?"bg-blue-500/20 text-blue-400 border-blue-500/50":t.status==="DISPONIVEL"?"bg-green-500/20 text-green-400 border-green-500/50":"bg-red-500/20 text-red-400 border-red-500/50");return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md relative bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-1.5 rounded-full hover:bg-muted text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(X,{size:20})}),jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx(AvatarComponent,{user:t}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold mt-3 text-foreground",children:t.name}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:o,children:i})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-2 text-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Phone,{size:16,className:"text-muted-foreground"}),jsxRuntimeExports.jsx("span",{children:s(t.phone)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Mail,{size:16,className:"text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:t.email||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Building,{size:16,className:"text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:t.hub||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Truck,{size:16,className:"text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:t.vehicleType||"N/A"})]})]}),e&&jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-primary mb-2",children:"Chamado Ativo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]})]})})},PanelGroupContext=reactExports.createContext(null);PanelGroupContext.displayName="PanelGroupContext";const DATA_ATTRIBUTES={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},PRECISION=10,useIsomorphicLayoutEffect$3=reactExports.useLayoutEffect,useId$2=React$1.useId,wrappedUseId=typeof useId$2=="function"?useId$2:()=>null;let counter=0;function useUniqueId$1(t=null){const e=wrappedUseId(),n=reactExports.useRef(t||e||null);return n.current===null&&(n.current=""+counter++),t??n.current}function PanelWithForwardedRef({children:t,className:e="",collapsedSize:n,collapsible:s,defaultSize:i,forwardedRef:o,id:a,maxSize:c,minSize:u,onCollapse:f,onExpand:p,onResize:m,order:x,style:E,tagName:T="div",..._}){const k=reactExports.useContext(PanelGroupContext);if(k===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:I,expandPanel:P,getPanelSize:A,getPanelStyle:j,groupId:O,isPanelCollapsed:$,reevaluatePanelConstraints:V,registerPanel:L,resizePanel:U,unregisterPanel:J}=k,Z=useUniqueId$1(a),Y=reactExports.useRef({callbacks:{onCollapse:f,onExpand:p,onResize:m},constraints:{collapsedSize:n,collapsible:s,defaultSize:i,maxSize:c,minSize:u},id:Z,idIsFromProps:a!==void 0,order:x});reactExports.useRef({didLogMissingDefaultSizeWarning:!1}),useIsomorphicLayoutEffect$3(()=>{const{callbacks:ke,constraints:Re}=Y.current,G={...Re};Y.current.id=Z,Y.current.idIsFromProps=a!==void 0,Y.current.order=x,ke.onCollapse=f,ke.onExpand=p,ke.onResize=m,Re.collapsedSize=n,Re.collapsible=s,Re.defaultSize=i,Re.maxSize=c,Re.minSize=u,(G.collapsedSize!==Re.collapsedSize||G.collapsible!==Re.collapsible||G.maxSize!==Re.maxSize||G.minSize!==Re.minSize)&&V(Y.current,G)}),useIsomorphicLayoutEffect$3(()=>{const ke=Y.current;return L(ke),()=>{J(ke)}},[x,Z,L,J]),reactExports.useImperativeHandle(o,()=>({collapse:()=>{I(Y.current)},expand:ke=>{P(Y.current,ke)},getId(){return Z},getSize(){return A(Y.current)},isCollapsed(){return $(Y.current)},isExpanded(){return!$(Y.current)},resize:ke=>{U(Y.current,ke)}}),[I,P,A,$,Z,U]);const K=j(Y.current,i);return reactExports.createElement(T,{..._,children:t,className:e,id:Z,style:{...K,...E},[DATA_ATTRIBUTES.groupId]:O,[DATA_ATTRIBUTES.panel]:"",[DATA_ATTRIBUTES.panelCollapsible]:s||void 0,[DATA_ATTRIBUTES.panelId]:Z,[DATA_ATTRIBUTES.panelSize]:parseFloat(""+K.flexGrow).toFixed(1)})}const Panel=reactExports.forwardRef((t,e)=>reactExports.createElement(PanelWithForwardedRef,{...t,forwardedRef:e}));PanelWithForwardedRef.displayName="Panel";Panel.displayName="forwardRef(Panel)";let currentCursorStyle=null,prevRuleIndex=-1,styleElement=null;function getCursorStyle(t,e,n){const s=(e&EXCEEDED_HORIZONTAL_MIN)!==0,i=(e&EXCEEDED_HORIZONTAL_MAX)!==0,o=(e&EXCEEDED_VERTICAL_MIN)!==0,a=(e&EXCEEDED_VERTICAL_MAX)!==0;if(e){if(s)return o?"se-resize":a?"ne-resize":"e-resize";if(i)return o?"sw-resize":a?"nw-resize":"w-resize";if(o)return"s-resize";if(a)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function resetGlobalCursorStyle(){styleElement!==null&&(document.head.removeChild(styleElement),currentCursorStyle=null,styleElement=null,prevRuleIndex=-1)}function setGlobalCursorStyle(t,e,n){var s,i;const o=getCursorStyle(t,e);if(currentCursorStyle!==o){if(currentCursorStyle=o,styleElement===null&&(styleElement=document.createElement("style"),document.head.appendChild(styleElement)),prevRuleIndex>=0){var a;(a=styleElement.sheet)===null||a===void 0||a.removeRule(prevRuleIndex)}prevRuleIndex=(s=(i=styleElement.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${o} !important;}`))!==null&&s!==void 0?s:-1}}function isKeyDown(t){return t.type==="keydown"}function isPointerEvent(t){return t.type.startsWith("pointer")}function isMouseEvent(t){return t.type.startsWith("mouse")}function getResizeEventCoordinates(t){if(isPointerEvent(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(isMouseEvent(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function getInputType(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function intersects(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function compare(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:get_ancestors(t),b:get_ancestors(e)};let s;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),s=t;assert(s,"Stacking order can only be calculated for elements with a common ancestor");const i={a:get_z_index(find_stacking_context(n.a)),b:get_z_index(find_stacking_context(n.b))};if(i.a===i.b){const o=s.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const u=o[c];if(u===a.a)return 1;if(u===a.b)return-1}}return Math.sign(i.a-i.b)}const props=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function is_flex_item(t){var e;const n=getComputedStyle((e=get_parent(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function creates_stacking_context(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||is_flex_item(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||props.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function find_stacking_context(t){let e=t.length;for(;e--;){const n=t[e];if(assert(n,"Missing node"),creates_stacking_context(n))return n}return null}function get_z_index(t){return t&&Number(getComputedStyle(t).zIndex)||0}function get_ancestors(t){const e=[];for(;t;)e.push(t),t=get_parent(t);return e}function get_parent(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const EXCEEDED_HORIZONTAL_MIN=1,EXCEEDED_HORIZONTAL_MAX=2,EXCEEDED_VERTICAL_MIN=4,EXCEEDED_VERTICAL_MAX=8,isCoarsePointer=getInputType()==="coarse";let intersectingHandles=[],isPointerDown=!1,ownerDocumentCounts=new Map,panelConstraintFlags=new Map;const registeredResizeHandlers=new Set;function registerResizeHandle(t,e,n,s,i){var o;const{ownerDocument:a}=e,c={direction:n,element:e,hitAreaMargins:s,setResizeHandlerState:i},u=(o=ownerDocumentCounts.get(a))!==null&&o!==void 0?o:0;return ownerDocumentCounts.set(a,u+1),registeredResizeHandlers.add(c),updateListeners(),function(){var p;panelConstraintFlags.delete(t),registeredResizeHandlers.delete(c);const m=(p=ownerDocumentCounts.get(a))!==null&&p!==void 0?p:1;if(ownerDocumentCounts.set(a,m-1),updateListeners(),m===1&&ownerDocumentCounts.delete(a),intersectingHandles.includes(c)){const x=intersectingHandles.indexOf(c);x>=0&&intersectingHandles.splice(x,1),updateCursor(),i("up",!0,null)}}}function handlePointerDown(t){const{target:e}=t,{x:n,y:s}=getResizeEventCoordinates(t);isPointerDown=!0,recalculateIntersectingHandles({target:e,x:n,y:s}),updateListeners(),intersectingHandles.length>0&&(updateResizeHandlerStates("down",t),updateCursor(),t.preventDefault(),isWithinResizeHandle(e)||t.stopImmediatePropagation())}function handlePointerMove(t){const{x:e,y:n}=getResizeEventCoordinates(t);if(isPointerDown&&t.buttons===0&&(isPointerDown=!1,updateResizeHandlerStates("up",t)),!isPointerDown){const{target:s}=t;recalculateIntersectingHandles({target:s,x:e,y:n})}updateResizeHandlerStates("move",t),updateCursor(),intersectingHandles.length>0&&t.preventDefault()}function handlePointerUp(t){const{target:e}=t,{x:n,y:s}=getResizeEventCoordinates(t);panelConstraintFlags.clear(),isPointerDown=!1,intersectingHandles.length>0&&(t.preventDefault(),isWithinResizeHandle(e)||t.stopImmediatePropagation()),updateResizeHandlerStates("up",t),recalculateIntersectingHandles({target:e,x:n,y:s}),updateCursor(),updateListeners()}function isWithinResizeHandle(t){let e=t;for(;e;){if(e.hasAttribute(DATA_ATTRIBUTES.resizeHandle))return!0;e=e.parentElement}return!1}function recalculateIntersectingHandles({target:t,x:e,y:n}){intersectingHandles.splice(0);let s=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(s=t),registeredResizeHandlers.forEach(i=>{const{element:o,hitAreaMargins:a}=i,c=o.getBoundingClientRect(),{bottom:u,left:f,right:p,top:m}=c,x=isCoarsePointer?a.coarse:a.fine;if(e>=f-x&&e<=p+x&&n>=m-x&&n<=u+x){if(s!==null&&document.contains(s)&&o!==s&&!o.contains(s)&&!s.contains(o)&&compare(s,o)>0){let T=s,_=!1;for(;T&&!T.contains(o);){if(intersects(T.getBoundingClientRect(),c)){_=!0;break}T=T.parentElement}if(_)return}intersectingHandles.push(i)}})}function reportConstraintsViolation(t,e){panelConstraintFlags.set(t,e)}function updateCursor(){let t=!1,e=!1;intersectingHandles.forEach(s=>{const{direction:i}=s;i==="horizontal"?t=!0:e=!0});let n=0;panelConstraintFlags.forEach(s=>{n|=s}),t&&e?setGlobalCursorStyle("intersection",n):t?setGlobalCursorStyle("horizontal",n):e?setGlobalCursorStyle("vertical",n):resetGlobalCursorStyle()}let listenersAbortController;function updateListeners(){var t;(t=listenersAbortController)===null||t===void 0||t.abort(),listenersAbortController=new AbortController;const e={capture:!0,signal:listenersAbortController.signal};registeredResizeHandlers.size&&(isPointerDown?(intersectingHandles.length>0&&ownerDocumentCounts.forEach((n,s)=>{const{body:i}=s;n>0&&(i.addEventListener("contextmenu",handlePointerUp,e),i.addEventListener("pointerleave",handlePointerMove,e),i.addEventListener("pointermove",handlePointerMove,e))}),ownerDocumentCounts.forEach((n,s)=>{const{body:i}=s;i.addEventListener("pointerup",handlePointerUp,e),i.addEventListener("pointercancel",handlePointerUp,e)})):ownerDocumentCounts.forEach((n,s)=>{const{body:i}=s;n>0&&(i.addEventListener("pointerdown",handlePointerDown,e),i.addEventListener("pointermove",handlePointerMove,e))}))}function updateResizeHandlerStates(t,e){registeredResizeHandlers.forEach(n=>{const{setResizeHandlerState:s}=n,i=intersectingHandles.includes(n);s(t,i,e)})}function useForceUpdate(){const[t,e]=reactExports.useState(0);return reactExports.useCallback(()=>e(n=>n+1),[])}function assert(t,e){if(!t)throw console.error(e),Error(e)}function fuzzyCompareNumbers(t,e,n=PRECISION){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function fuzzyNumbersEqual$1(t,e,n=PRECISION){return fuzzyCompareNumbers(t,e,n)===0}function fuzzyNumbersEqual(t,e,n){return fuzzyCompareNumbers(t,e,n)===0}function fuzzyLayoutsEqual(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const i=t[s],o=e[s];if(!fuzzyNumbersEqual(i,o,n))return!1}return!0}function resizePanel({panelConstraints:t,panelIndex:e,size:n}){const s=t[e];assert(s!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:o,maxSize:a=100,minSize:c=0}=s;if(fuzzyCompareNumbers(n,c)<0)if(o){const u=(i+c)/2;fuzzyCompareNumbers(n,u)<0?n=i:n=c}else n=c;return n=Math.min(a,n),n=parseFloat(n.toFixed(PRECISION)),n}function adjustLayoutByDelta({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:s,prevLayout:i,trigger:o}){if(fuzzyNumbersEqual(t,0))return e;const a=[...e],[c,u]=s;assert(c!=null,"Invalid first pivot index"),assert(u!=null,"Invalid second pivot index");let f=0;if(o==="keyboard"){{const m=t<0?u:c,x=n[m];assert(x,`Panel constraints not found for index ${m}`);const{collapsedSize:E=0,collapsible:T,minSize:_=0}=x;if(T){const k=e[m];if(assert(k!=null,`Previous layout not found for panel index ${m}`),fuzzyNumbersEqual(k,E)){const I=_-k;fuzzyCompareNumbers(I,Math.abs(t))>0&&(t=t<0?0-I:I)}}}{const m=t<0?c:u,x=n[m];assert(x,`No panel constraints found for index ${m}`);const{collapsedSize:E=0,collapsible:T,minSize:_=0}=x;if(T){const k=e[m];if(assert(k!=null,`Previous layout not found for panel index ${m}`),fuzzyNumbersEqual(k,_)){const I=k-E;fuzzyCompareNumbers(I,Math.abs(t))>0&&(t=t<0?0-I:I)}}}}{const m=t<0?1:-1;let x=t<0?u:c,E=0;for(;;){const _=e[x];assert(_!=null,`Previous layout not found for panel index ${x}`);const I=resizePanel({panelConstraints:n,panelIndex:x,size:100})-_;if(E+=I,x+=m,x<0||x>=n.length)break}const T=Math.min(Math.abs(t),Math.abs(E));t=t<0?0-T:T}{let x=t<0?c:u;for(;x>=0&&x<n.length;){const E=Math.abs(t)-Math.abs(f),T=e[x];assert(T!=null,`Previous layout not found for panel index ${x}`);const _=T-E,k=resizePanel({panelConstraints:n,panelIndex:x,size:_});if(!fuzzyNumbersEqual(T,k)&&(f+=T-k,a[x]=k,f.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?x--:x++}}if(fuzzyLayoutsEqual(i,a))return i;{const m=t<0?u:c,x=e[m];assert(x!=null,`Previous layout not found for panel index ${m}`);const E=x+f,T=resizePanel({panelConstraints:n,panelIndex:m,size:E});if(a[m]=T,!fuzzyNumbersEqual(T,E)){let _=E-T,I=t<0?u:c;for(;I>=0&&I<n.length;){const P=a[I];assert(P!=null,`Previous layout not found for panel index ${I}`);const A=P+_,j=resizePanel({panelConstraints:n,panelIndex:I,size:A});if(fuzzyNumbersEqual(P,j)||(_-=j-P,a[I]=j),fuzzyNumbersEqual(_,0))break;t>0?I--:I++}}}const p=a.reduce((m,x)=>x+m,0);return fuzzyNumbersEqual(p,100)?a:i}function calculateAriaValues({layout:t,panelsArray:e,pivotIndices:n}){let s=0,i=100,o=0,a=0;const c=n[0];assert(c!=null,"No pivot index found"),e.forEach((m,x)=>{const{constraints:E}=m,{maxSize:T=100,minSize:_=0}=E;x===c?(s=_,i=T):(o+=_,a+=T)});const u=Math.min(i,100-o),f=Math.max(s,100-a),p=t[c];return{valueMax:u,valueMin:f,valueNow:p}}function getResizeHandleElementsForGroup(t,e=document){return Array.from(e.querySelectorAll(`[${DATA_ATTRIBUTES.resizeHandleId}][data-panel-group-id="${t}"]`))}function getResizeHandleElementIndex(t,e,n=document){const i=getResizeHandleElementsForGroup(t,n).findIndex(o=>o.getAttribute(DATA_ATTRIBUTES.resizeHandleId)===e);return i??null}function determinePivotIndices(t,e,n){const s=getResizeHandleElementIndex(t,e,n);return s!=null?[s,s+1]:[-1,-1]}function isHTMLElement$2(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function getPanelGroupElement(t,e=document){if(isHTMLElement$2(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function getResizeHandleElement(t,e=document){const n=e.querySelector(`[${DATA_ATTRIBUTES.resizeHandleId}="${t}"]`);return n||null}function getResizeHandlePanelIds(t,e,n,s=document){var i,o,a,c;const u=getResizeHandleElement(e,s),f=getResizeHandleElementsForGroup(t,s),p=u?f.indexOf(u):-1,m=(i=(o=n[p])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,x=(a=(c=n[p+1])===null||c===void 0?void 0:c.id)!==null&&a!==void 0?a:null;return[m,x]}function useWindowSplitterPanelGroupBehavior({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:s,panelDataArray:i,panelGroupElement:o,setLayout:a}){reactExports.useRef({didWarnAboutMissingResizeHandle:!1}),useIsomorphicLayoutEffect$3(()=>{if(!o)return;const c=getResizeHandleElementsForGroup(n,o);for(let u=0;u<i.length-1;u++){const{valueMax:f,valueMin:p,valueNow:m}=calculateAriaValues({layout:s,panelsArray:i,pivotIndices:[u,u+1]}),x=c[u];if(x!=null){const E=i[u];assert(E,`No panel data found for index "${u}"`),x.setAttribute("aria-controls",E.id),x.setAttribute("aria-valuemax",""+Math.round(f)),x.setAttribute("aria-valuemin",""+Math.round(p)),x.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{c.forEach((u,f)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[n,s,i,o]),reactExports.useEffect(()=>{if(!o)return;const c=e.current;assert(c,"Eager values not found");const{panelDataArray:u}=c,f=getPanelGroupElement(n,o);assert(f!=null,`No group found for id "${n}"`);const p=getResizeHandleElementsForGroup(n,o);assert(p,`No resize handles found for group id "${n}"`);const m=p.map(x=>{const E=x.getAttribute(DATA_ATTRIBUTES.resizeHandleId);assert(E,"Resize handle element has no handle id attribute");const[T,_]=getResizeHandlePanelIds(n,E,u,o);if(T==null||_==null)return()=>{};const k=I=>{if(!I.defaultPrevented)switch(I.key){case"Enter":{I.preventDefault();const P=u.findIndex(A=>A.id===T);if(P>=0){const A=u[P];assert(A,`No panel data found for index ${P}`);const j=s[P],{collapsedSize:O=0,collapsible:$,minSize:V=0}=A.constraints;if(j!=null&&$){const L=adjustLayoutByDelta({delta:fuzzyNumbersEqual(j,O)?V-O:O-j,initialLayout:s,panelConstraints:u.map(U=>U.constraints),pivotIndices:determinePivotIndices(n,E,o),prevLayout:s,trigger:"keyboard"});s!==L&&a(L)}}break}}};return x.addEventListener("keydown",k),()=>{x.removeEventListener("keydown",k)}});return()=>{m.forEach(x=>x())}},[o,t,e,n,s,i,a])}function areEqual(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function getResizeEventCursorPosition(t,e){const n=t==="horizontal",{x:s,y:i}=getResizeEventCoordinates(e);return n?s:i}function calculateDragOffsetPercentage(t,e,n,s,i){const o=n==="horizontal",a=getResizeHandleElement(e,i);assert(a,`No resize handle element found for id "${e}"`);const c=a.getAttribute(DATA_ATTRIBUTES.groupId);assert(c,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=s;const f=getResizeEventCursorPosition(n,t),p=getPanelGroupElement(c,i);assert(p,`No group element found for id "${c}"`);const m=p.getBoundingClientRect(),x=o?m.width:m.height;return(f-u)/x*100}function calculateDeltaPercentage(t,e,n,s,i,o){if(isKeyDown(t)){const a=n==="horizontal";let c=0;t.shiftKey?c=100:i!=null?c=i:c=10;let u=0;switch(t.key){case"ArrowDown":u=a?0:c;break;case"ArrowLeft":u=a?-c:0;break;case"ArrowRight":u=a?c:0;break;case"ArrowUp":u=a?0:-c;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return s==null?0:calculateDragOffsetPercentage(t,e,n,s,o)}function calculateUnsafeDefaultLayout({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let s=0,i=100;for(let o=0;o<t.length;o++){const a=n[o];assert(a,`Panel constraints not found for index ${o}`);const{defaultSize:c}=a;c!=null&&(s++,e[o]=c,i-=c)}for(let o=0;o<t.length;o++){const a=n[o];assert(a,`Panel constraints not found for index ${o}`);const{defaultSize:c}=a;if(c!=null)continue;const u=t.length-s,f=i/u;s++,e[o]=f,i-=f}return e}function callPanelCallbacks(t,e,n){e.forEach((s,i)=>{const o=t[i];assert(o,`Panel data not found for index ${i}`);const{callbacks:a,constraints:c,id:u}=o,{collapsedSize:f=0,collapsible:p}=c,m=n[u];if(m==null||s!==m){n[u]=s;const{onCollapse:x,onExpand:E,onResize:T}=a;T&&T(s,m),p&&(x||E)&&(E&&(m==null||fuzzyNumbersEqual$1(m,f))&&!fuzzyNumbersEqual$1(s,f)&&E(),x&&(m==null||!fuzzyNumbersEqual$1(m,f))&&fuzzyNumbersEqual$1(s,f)&&x())}})}function compareLayouts(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function computePanelFlexBoxStyle({defaultSize:t,dragState:e,layout:n,panelData:s,panelIndex:i,precision:o=3}){const a=n[i];let c;return a==null?c=t!=null?t.toFixed(o):"1":s.length===1?c="1":c=a.toFixed(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function debounce(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function initializeDefaultStorage(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function getPanelGroupKey(t){return`react-resizable-panels:${t}`}function getPanelKey(t){return t.map(e=>{const{constraints:n,id:s,idIsFromProps:i,order:o}=e;return i?s:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function loadSerializedPanelGroupState(t,e){try{const n=getPanelGroupKey(t),s=e.getItem(n);if(s){const i=JSON.parse(s);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function loadPanelGroupState(t,e,n){var s,i;const o=(s=loadSerializedPanelGroupState(t,n))!==null&&s!==void 0?s:{},a=getPanelKey(e);return(i=o[a])!==null&&i!==void 0?i:null}function savePanelGroupState(t,e,n,s,i){var o;const a=getPanelGroupKey(t),c=getPanelKey(e),u=(o=loadSerializedPanelGroupState(t,i))!==null&&o!==void 0?o:{};u[c]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{i.setItem(a,JSON.stringify(u))}catch(f){console.error(f)}}function validatePanelGroupLayout({layout:t,panelConstraints:e}){const n=[...t],s=n.reduce((o,a)=>o+a,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!fuzzyNumbersEqual(s,100)&&n.length>0)for(let o=0;o<e.length;o++){const a=n[o];assert(a!=null,`No layout data found for index ${o}`);const c=100/s*a;n[o]=c}let i=0;for(let o=0;o<e.length;o++){const a=n[o];assert(a!=null,`No layout data found for index ${o}`);const c=resizePanel({panelConstraints:e,panelIndex:o,size:a});a!=c&&(i+=a-c,n[o]=c)}if(!fuzzyNumbersEqual(i,0))for(let o=0;o<e.length;o++){const a=n[o];assert(a!=null,`No layout data found for index ${o}`);const c=a+i,u=resizePanel({panelConstraints:e,panelIndex:o,size:c});if(a!==u&&(i-=u-a,n[o]=u,fuzzyNumbersEqual(i,0)))break}return n}const LOCAL_STORAGE_DEBOUNCE_INTERVAL=100,defaultStorage={getItem:t=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(t)),setItem:(t,e)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(t,e)}},debounceMap={};function PanelGroupWithForwardedRef({autoSaveId:t=null,children:e,className:n="",direction:s,forwardedRef:i,id:o=null,onLayout:a=null,keyboardResizeBy:c=null,storage:u=defaultStorage,style:f,tagName:p="div",...m}){const x=useUniqueId$1(o),E=reactExports.useRef(null),[T,_]=reactExports.useState(null),[k,I]=reactExports.useState([]),P=useForceUpdate(),A=reactExports.useRef({}),j=reactExports.useRef(new Map),O=reactExports.useRef(0),$=reactExports.useRef({autoSaveId:t,direction:s,dragState:T,id:x,keyboardResizeBy:c,onLayout:a,storage:u}),V=reactExports.useRef({layout:k,panelDataArray:[],panelDataArrayChanged:!1});reactExports.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),reactExports.useImperativeHandle(i,()=>({getId:()=>$.current.id,getLayout:()=>{const{layout:se}=V.current;return se},setLayout:se=>{const{onLayout:Pe}=$.current,{layout:Ne,panelDataArray:Oe}=V.current,je=validatePanelGroupLayout({layout:se,panelConstraints:Oe.map(Be=>Be.constraints)});areEqual(Ne,je)||(I(je),V.current.layout=je,Pe&&Pe(je),callPanelCallbacks(Oe,je,A.current))}}),[]),useIsomorphicLayoutEffect$3(()=>{$.current.autoSaveId=t,$.current.direction=s,$.current.dragState=T,$.current.id=x,$.current.onLayout=a,$.current.storage=u}),useWindowSplitterPanelGroupBehavior({committedValuesRef:$,eagerValuesRef:V,groupId:x,layout:k,panelDataArray:V.current.panelDataArray,setLayout:I,panelGroupElement:E.current}),reactExports.useEffect(()=>{const{panelDataArray:se}=V.current;if(t){if(k.length===0||k.length!==se.length)return;let Pe=debounceMap[t];Pe==null&&(Pe=debounce(savePanelGroupState,LOCAL_STORAGE_DEBOUNCE_INTERVAL),debounceMap[t]=Pe);const Ne=[...se],Oe=new Map(j.current);Pe(t,Ne,Oe,k,u)}},[t,k,u]),reactExports.useEffect(()=>{});const L=reactExports.useCallback(se=>{const{onLayout:Pe}=$.current,{layout:Ne,panelDataArray:Oe}=V.current;if(se.constraints.collapsible){const je=Oe.map(Ze=>Ze.constraints),{collapsedSize:Be=0,panelSize:We,pivotIndices:Ue}=panelDataHelper(Oe,se,Ne);if(assert(We!=null,`Panel size not found for panel "${se.id}"`),!fuzzyNumbersEqual$1(We,Be)){j.current.set(se.id,We);const ot=findPanelDataIndex(Oe,se)===Oe.length-1?We-Be:Be-We,Je=adjustLayoutByDelta({delta:ot,initialLayout:Ne,panelConstraints:je,pivotIndices:Ue,prevLayout:Ne,trigger:"imperative-api"});compareLayouts(Ne,Je)||(I(Je),V.current.layout=Je,Pe&&Pe(Je),callPanelCallbacks(Oe,Je,A.current))}}},[]),U=reactExports.useCallback((se,Pe)=>{const{onLayout:Ne}=$.current,{layout:Oe,panelDataArray:je}=V.current;if(se.constraints.collapsible){const Be=je.map(He=>He.constraints),{collapsedSize:We=0,panelSize:Ue=0,minSize:Ze=0,pivotIndices:ot}=panelDataHelper(je,se,Oe),Je=Pe??Ze;if(fuzzyNumbersEqual$1(Ue,We)){const He=j.current.get(se.id),Ge=He!=null&&He>=Je?He:Je,et=findPanelDataIndex(je,se)===je.length-1?Ue-Ge:Ge-Ue,lt=adjustLayoutByDelta({delta:et,initialLayout:Oe,panelConstraints:Be,pivotIndices:ot,prevLayout:Oe,trigger:"imperative-api"});compareLayouts(Oe,lt)||(I(lt),V.current.layout=lt,Ne&&Ne(lt),callPanelCallbacks(je,lt,A.current))}}},[]),J=reactExports.useCallback(se=>{const{layout:Pe,panelDataArray:Ne}=V.current,{panelSize:Oe}=panelDataHelper(Ne,se,Pe);return assert(Oe!=null,`Panel size not found for panel "${se.id}"`),Oe},[]),Z=reactExports.useCallback((se,Pe)=>{const{panelDataArray:Ne}=V.current,Oe=findPanelDataIndex(Ne,se);return computePanelFlexBoxStyle({defaultSize:Pe,dragState:T,layout:k,panelData:Ne,panelIndex:Oe})},[T,k]),Y=reactExports.useCallback(se=>{const{layout:Pe,panelDataArray:Ne}=V.current,{collapsedSize:Oe=0,collapsible:je,panelSize:Be}=panelDataHelper(Ne,se,Pe);return assert(Be!=null,`Panel size not found for panel "${se.id}"`),je===!0&&fuzzyNumbersEqual$1(Be,Oe)},[]),K=reactExports.useCallback(se=>{const{layout:Pe,panelDataArray:Ne}=V.current,{collapsedSize:Oe=0,collapsible:je,panelSize:Be}=panelDataHelper(Ne,se,Pe);return assert(Be!=null,`Panel size not found for panel "${se.id}"`),!je||fuzzyCompareNumbers(Be,Oe)>0},[]),ke=reactExports.useCallback(se=>{const{panelDataArray:Pe}=V.current;Pe.push(se),Pe.sort((Ne,Oe)=>{const je=Ne.order,Be=Oe.order;return je==null&&Be==null?0:je==null?-1:Be==null?1:je-Be}),V.current.panelDataArrayChanged=!0,P()},[P]);useIsomorphicLayoutEffect$3(()=>{if(V.current.panelDataArrayChanged){V.current.panelDataArrayChanged=!1;const{autoSaveId:se,onLayout:Pe,storage:Ne}=$.current,{layout:Oe,panelDataArray:je}=V.current;let Be=null;if(se){const Ue=loadPanelGroupState(se,je,Ne);Ue&&(j.current=new Map(Object.entries(Ue.expandToSizes)),Be=Ue.layout)}Be==null&&(Be=calculateUnsafeDefaultLayout({panelDataArray:je}));const We=validatePanelGroupLayout({layout:Be,panelConstraints:je.map(Ue=>Ue.constraints)});areEqual(Oe,We)||(I(We),V.current.layout=We,Pe&&Pe(We),callPanelCallbacks(je,We,A.current))}}),useIsomorphicLayoutEffect$3(()=>{const se=V.current;return()=>{se.layout=[]}},[]);const Re=reactExports.useCallback(se=>{let Pe=!1;const Ne=E.current;return Ne&&window.getComputedStyle(Ne,null).getPropertyValue("direction")==="rtl"&&(Pe=!0),function(je){je.preventDefault();const Be=E.current;if(!Be)return()=>null;const{direction:We,dragState:Ue,id:Ze,keyboardResizeBy:ot,onLayout:Je}=$.current,{layout:He,panelDataArray:Ge}=V.current,{initialLayout:at}=Ue??{},et=determinePivotIndices(Ze,se,Be);let lt=calculateDeltaPercentage(je,se,We,Ue,ot,Be);const pt=We==="horizontal";pt&&Pe&&(lt=-lt);const Tt=Ge.map(Pt=>Pt.constraints),yt=adjustLayoutByDelta({delta:lt,initialLayout:at??He,panelConstraints:Tt,pivotIndices:et,prevLayout:He,trigger:isKeyDown(je)?"keyboard":"mouse-or-touch"}),_t=!compareLayouts(He,yt);(isPointerEvent(je)||isMouseEvent(je))&&O.current!=lt&&(O.current=lt,!_t&&lt!==0?pt?reportConstraintsViolation(se,lt<0?EXCEEDED_HORIZONTAL_MIN:EXCEEDED_HORIZONTAL_MAX):reportConstraintsViolation(se,lt<0?EXCEEDED_VERTICAL_MIN:EXCEEDED_VERTICAL_MAX):reportConstraintsViolation(se,0)),_t&&(I(yt),V.current.layout=yt,Je&&Je(yt),callPanelCallbacks(Ge,yt,A.current))}},[]),G=reactExports.useCallback((se,Pe)=>{const{onLayout:Ne}=$.current,{layout:Oe,panelDataArray:je}=V.current,Be=je.map(He=>He.constraints),{panelSize:We,pivotIndices:Ue}=panelDataHelper(je,se,Oe);assert(We!=null,`Panel size not found for panel "${se.id}"`);const ot=findPanelDataIndex(je,se)===je.length-1?We-Pe:Pe-We,Je=adjustLayoutByDelta({delta:ot,initialLayout:Oe,panelConstraints:Be,pivotIndices:Ue,prevLayout:Oe,trigger:"imperative-api"});compareLayouts(Oe,Je)||(I(Je),V.current.layout=Je,Ne&&Ne(Je),callPanelCallbacks(je,Je,A.current))},[]),q=reactExports.useCallback((se,Pe)=>{const{layout:Ne,panelDataArray:Oe}=V.current,{collapsedSize:je=0,collapsible:Be}=Pe,{collapsedSize:We=0,collapsible:Ue,maxSize:Ze=100,minSize:ot=0}=se.constraints,{panelSize:Je}=panelDataHelper(Oe,se,Ne);Je!=null&&(Be&&Ue&&fuzzyNumbersEqual$1(Je,je)?fuzzyNumbersEqual$1(je,We)||G(se,We):Je<ot?G(se,ot):Je>Ze&&G(se,Ze))},[G]),M=reactExports.useCallback((se,Pe)=>{const{direction:Ne}=$.current,{layout:Oe}=V.current;if(!E.current)return;const je=getResizeHandleElement(se,E.current);assert(je,`Drag handle element not found for id "${se}"`);const Be=getResizeEventCursorPosition(Ne,Pe);_({dragHandleId:se,dragHandleRect:je.getBoundingClientRect(),initialCursorPosition:Be,initialLayout:Oe})},[]),z=reactExports.useCallback(()=>{_(null)},[]),ee=reactExports.useCallback(se=>{const{panelDataArray:Pe}=V.current,Ne=findPanelDataIndex(Pe,se);Ne>=0&&(Pe.splice(Ne,1),delete A.current[se.id],V.current.panelDataArrayChanged=!0,P())},[P]),W=reactExports.useMemo(()=>({collapsePanel:L,direction:s,dragState:T,expandPanel:U,getPanelSize:J,getPanelStyle:Z,groupId:x,isPanelCollapsed:Y,isPanelExpanded:K,reevaluatePanelConstraints:q,registerPanel:ke,registerResizeHandle:Re,resizePanel:G,startDragging:M,stopDragging:z,unregisterPanel:ee,panelGroupElement:E.current}),[L,T,s,U,J,Z,x,Y,K,q,ke,Re,G,M,z,ee]),ie={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return reactExports.createElement(PanelGroupContext.Provider,{value:W},reactExports.createElement(p,{...m,children:e,className:n,id:o,ref:E,style:{...ie,...f},[DATA_ATTRIBUTES.group]:"",[DATA_ATTRIBUTES.groupDirection]:s,[DATA_ATTRIBUTES.groupId]:x}))}const PanelGroup=reactExports.forwardRef((t,e)=>reactExports.createElement(PanelGroupWithForwardedRef,{...t,forwardedRef:e}));PanelGroupWithForwardedRef.displayName="PanelGroup";PanelGroup.displayName="forwardRef(PanelGroup)";function findPanelDataIndex(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function panelDataHelper(t,e,n){const s=findPanelDataIndex(t,e),o=s===t.length-1?[s-1,s]:[s,s+1],a=n[s];return{...e.constraints,panelSize:a,pivotIndices:o}}function useWindowSplitterResizeHandlerBehavior({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:s}){reactExports.useEffect(()=>{if(t||n==null||s==null)return;const i=getResizeHandleElement(e,s);if(i==null)return;const o=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const c=i.getAttribute(DATA_ATTRIBUTES.groupId);assert(c,`No group element found for id "${c}"`);const u=getResizeHandleElementsForGroup(c,s),f=getResizeHandleElementIndex(c,e,s);assert(f!==null,`No resize element found for id "${e}"`);const p=a.shiftKey?f>0?f-1:u.length-1:f+1<u.length?f+1:0;u[p].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[s,t,e,n])}function PanelResizeHandle({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:s,id:i,onBlur:o,onClick:a,onDragging:c,onFocus:u,onPointerDown:f,onPointerUp:p,style:m={},tabIndex:x=0,tagName:E="div",...T}){var _,k;const I=reactExports.useRef(null),P=reactExports.useRef({onClick:a,onDragging:c,onPointerDown:f,onPointerUp:p});reactExports.useEffect(()=>{P.current.onClick=a,P.current.onDragging=c,P.current.onPointerDown=f,P.current.onPointerUp=p});const A=reactExports.useContext(PanelGroupContext);if(A===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:O,registerResizeHandle:$,startDragging:V,stopDragging:L,panelGroupElement:U}=A,J=useUniqueId$1(i),[Z,Y]=reactExports.useState("inactive"),[K,ke]=reactExports.useState(!1),[Re,G]=reactExports.useState(null),q=reactExports.useRef({state:Z});useIsomorphicLayoutEffect$3(()=>{q.current.state=Z}),reactExports.useEffect(()=>{if(n)G(null);else{const W=$(J);G(()=>W)}},[n,J,$]);const M=(_=s?.coarse)!==null&&_!==void 0?_:15,z=(k=s?.fine)!==null&&k!==void 0?k:5;reactExports.useEffect(()=>{if(n||Re==null)return;const W=I.current;assert(W,"Element ref not attached");let ie=!1;return registerResizeHandle(J,W,j,{coarse:M,fine:z},(Pe,Ne,Oe)=>{if(!Ne){Y("inactive");return}switch(Pe){case"down":{Y("drag"),ie=!1,assert(Oe,'Expected event to be defined for "down" action'),V(J,Oe);const{onDragging:je,onPointerDown:Be}=P.current;je?.(!0),Be?.();break}case"move":{const{state:je}=q.current;ie=!0,je!=="drag"&&Y("hover"),assert(Oe,'Expected event to be defined for "move" action'),Re(Oe);break}case"up":{Y("hover"),L();const{onClick:je,onDragging:Be,onPointerUp:We}=P.current;Be?.(!1),We?.(),ie||je?.();break}}})},[M,j,n,z,$,J,Re,V,L]),useWindowSplitterResizeHandlerBehavior({disabled:n,handleId:J,resizeHandler:Re,panelGroupElement:U});const ee={touchAction:"none",userSelect:"none"};return reactExports.createElement(E,{...T,children:t,className:e,id:i,onBlur:()=>{ke(!1),o?.()},onFocus:()=>{ke(!0),u?.()},ref:I,role:"separator",style:{...ee,...m},tabIndex:x,[DATA_ATTRIBUTES.groupDirection]:j,[DATA_ATTRIBUTES.groupId]:O,[DATA_ATTRIBUTES.resizeHandle]:"",[DATA_ATTRIBUTES.resizeHandleActive]:Z==="drag"?"pointer":K?"keyboard":void 0,[DATA_ATTRIBUTES.resizeHandleEnabled]:!n,[DATA_ATTRIBUTES.resizeHandleId]:J,[DATA_ATTRIBUTES.resizeHandleState]:Z})}PanelResizeHandle.displayName="PanelResizeHandle";function __insertCSS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const getAsset=t=>{switch(t){case"success":return SuccessIcon;case"info":return InfoIcon;case"warning":return WarningIcon;case"error":return ErrorIcon;default:return null}},bars=Array(12).fill(0),Loader=({visible:t,className:e})=>React.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},React.createElement("div",{className:"sonner-spinner"},bars.map((n,s)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),SuccessIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WarningIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),InfoIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ErrorIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CloseIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),useIsDocumentHidden=()=>{const[t,e]=React.useState(document.hidden);return React.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let toastsCounter=1;class Observer{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...i}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:toastsCounter++,a=this.toasts.find(u=>u.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:s}),{...u,...e,id:o,dismissible:c,title:s}):u):this.addToast({title:s,...i,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,a;const c=i.then(async f=>{if(a=["resolve",f],React.isValidElement(f))o=!1,this.create({id:s,type:"default",message:f});else if(isHttpResponse(f)&&!f.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,T=typeof m=="object"&&!React.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:x,...T})}else if(f instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,T=typeof m=="object"&&!React.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:x,...T})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,T=typeof m=="object"&&!React.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:x,...T})}}).catch(async f=>{if(a=["reject",f],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,E=typeof p=="object"&&!React.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:m,...E})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((f,p)=>c.then(()=>a[0]==="reject"?p(a[1]):f(a[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(e,n)=>{const s=n?.id||toastsCounter++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ToastState=new Observer,toastFunction=(t,e)=>{const n=e?.id||toastsCounter++;return ToastState.addToast({title:t,...e,id:n}),n},isHttpResponse=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",basicToast=toastFunction,getHistory=()=>ToastState.toasts,getToasts=()=>ToastState.getActiveToasts(),toast=Object.assign(basicToast,{success:ToastState.success,info:ToastState.info,warning:ToastState.warning,error:ToastState.error,custom:ToastState.custom,message:ToastState.message,promise:ToastState.promise,dismiss:ToastState.dismiss,loading:ToastState.loading},{getHistory,getToasts});__insertCSS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function isAction(t){return t.label!==void 0}const VISIBLE_TOASTS_AMOUNT=3,VIEWPORT_OFFSET="24px",MOBILE_VIEWPORT_OFFSET="16px",TOAST_LIFETIME=4e3,TOAST_WIDTH=356,GAP=14,SWIPE_THRESHOLD=45,TIME_BEFORE_UNMOUNT=200;function cn(...t){return t.filter(Boolean).join(" ")}function getDefaultSwipeDirections(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const Toast=t=>{var e,n,s,i,o,a,c,u,f;const{invert:p,toast:m,unstyled:x,interacting:E,setHeights:T,visibleToasts:_,heights:k,index:I,toasts:P,expanded:A,removeToast:j,defaultRichColors:O,closeButton:$,style:V,cancelButtonStyle:L,actionButtonStyle:U,className:J="",descriptionClassName:Z="",duration:Y,position:K,gap:ke,expandByDefault:Re,classNames:G,icons:q,closeButtonAriaLabel:M="Close toast"}=t,[z,ee]=React.useState(null),[W,ie]=React.useState(null),[se,Pe]=React.useState(!1),[Ne,Oe]=React.useState(!1),[je,Be]=React.useState(!1),[We,Ue]=React.useState(!1),[Ze,ot]=React.useState(!1),[Je,He]=React.useState(0),[Ge,at]=React.useState(0),et=React.useRef(m.duration||Y||TOAST_LIFETIME),lt=React.useRef(null),pt=React.useRef(null),Tt=I===0,yt=I+1<=_,_t=m.type,Pt=m.dismissible!==!1,Lt=m.className||"",Jt=m.descriptionClassName||"",Ct=React.useMemo(()=>k.findIndex(ct=>ct.toastId===m.id)||0,[k,m.id]),It=React.useMemo(()=>{var ct;return(ct=m.closeButton)!=null?ct:$},[m.closeButton,$]),Yt=React.useMemo(()=>m.duration||Y||TOAST_LIFETIME,[m.duration,Y]),Zt=React.useRef(0),er=React.useRef(0),tr=React.useRef(0),gr=React.useRef(null),[qe,tn]=K.split("-"),zr=React.useMemo(()=>k.reduce((ct,Dt,kt)=>kt>=Ct?ct:ct+Dt.height,0),[k,Ct]),Ur=useIsDocumentHidden(),Nr=m.invert||p,vr=_t==="loading";er.current=React.useMemo(()=>Ct*ke+zr,[Ct,zr]),React.useEffect(()=>{et.current=Yt},[Yt]),React.useEffect(()=>{Pe(!0)},[]),React.useEffect(()=>{const ct=pt.current;if(ct){const Dt=ct.getBoundingClientRect().height;return at(Dt),T(kt=>[{toastId:m.id,height:Dt,position:m.position},...kt]),()=>T(kt=>kt.filter(Mt=>Mt.toastId!==m.id))}},[T,m.id]),React.useLayoutEffect(()=>{if(!se)return;const ct=pt.current,Dt=ct.style.height;ct.style.height="auto";const kt=ct.getBoundingClientRect().height;ct.style.height=Dt,at(kt),T(Mt=>Mt.find(Ot=>Ot.toastId===m.id)?Mt.map(Ot=>Ot.toastId===m.id?{...Ot,height:kt}:Ot):[{toastId:m.id,height:kt,position:m.position},...Mt])},[se,m.title,m.description,T,m.id,m.jsx,m.action,m.cancel]);const rr=React.useCallback(()=>{Oe(!0),He(er.current),T(ct=>ct.filter(Dt=>Dt.toastId!==m.id)),setTimeout(()=>{j(m)},TIME_BEFORE_UNMOUNT)},[m,j,T,er]);React.useEffect(()=>{if(m.promise&&_t==="loading"||m.duration===1/0||m.type==="loading")return;let ct;return A||E||Ur?(()=>{if(tr.current<Zt.current){const Mt=new Date().getTime()-Zt.current;et.current=et.current-Mt}tr.current=new Date().getTime()})():(()=>{et.current!==1/0&&(Zt.current=new Date().getTime(),ct=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),rr()},et.current))})(),()=>clearTimeout(ct)},[A,E,m,_t,Ur,rr]),React.useEffect(()=>{m.delete&&(rr(),m.onDismiss==null||m.onDismiss.call(m,m))},[rr,m.delete]);function rn(){var ct;if(q?.loading){var Dt;return React.createElement("div",{className:cn(G?.loader,m==null||(Dt=m.classNames)==null?void 0:Dt.loader,"sonner-loader"),"data-visible":_t==="loading"},q.loading)}return React.createElement(Loader,{className:cn(G?.loader,m==null||(ct=m.classNames)==null?void 0:ct.loader),visible:_t==="loading"})}const nr=m.icon||q?.[_t]||getAsset(_t);var Ft,Gt;return React.createElement("li",{tabIndex:0,ref:pt,className:cn(J,Lt,G?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,G?.default,G?.[_t],m==null||(n=m.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(Ft=m.richColors)!=null?Ft:O,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":Ze,"data-removed":Ne,"data-visible":yt,"data-y-position":qe,"data-x-position":tn,"data-index":I,"data-front":Tt,"data-swiping":je,"data-dismissible":Pt,"data-type":_t,"data-invert":Nr,"data-swipe-out":We,"data-swipe-direction":W,"data-expanded":!!(A||Re&&se),"data-testid":m.testId,style:{"--index":I,"--toasts-before":I,"--z-index":P.length-I,"--offset":`${Ne?Je:er.current}px`,"--initial-height":Re?"auto":`${Ge}px`,...V,...m.style},onDragEnd:()=>{Be(!1),ee(null),gr.current=null},onPointerDown:ct=>{ct.button!==2&&(vr||!Pt||(lt.current=new Date,He(er.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(Be(!0),gr.current={x:ct.clientX,y:ct.clientY})))},onPointerUp:()=>{var ct,Dt,kt;if(We||!Pt)return;gr.current=null;const Mt=Number(((ct=pt.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qt=Number(((Dt=pt.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((kt=lt.current)==null?void 0:kt.getTime()),vt=z==="x"?Mt:qt,dr=Math.abs(vt)/Ot;if(Math.abs(vt)>=SWIPE_THRESHOLD||dr>.11){He(er.current),m.onDismiss==null||m.onDismiss.call(m,m),ie(z==="x"?Mt>0?"right":"left":qt>0?"down":"up"),rr(),Ue(!0);return}else{var Nt,Vt;(Nt=pt.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(Vt=pt.current)==null||Vt.style.setProperty("--swipe-amount-y","0px")}ot(!1),Be(!1),ee(null)},onPointerMove:ct=>{var Dt,kt,Mt;if(!gr.current||!Pt||((Dt=window.getSelection())==null?void 0:Dt.toString().length)>0)return;const Ot=ct.clientY-gr.current.y,vt=ct.clientX-gr.current.x;var dr;const Nt=(dr=t.swipeDirections)!=null?dr:getDefaultSwipeDirections(K);!z&&(Math.abs(vt)>1||Math.abs(Ot)>1)&&ee(Math.abs(vt)>Math.abs(Ot)?"x":"y");let Vt={x:0,y:0};const Kt=Xt=>1/(1.5+Math.abs(Xt)/20);if(z==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&Ot<0||Nt.includes("bottom")&&Ot>0)Vt.y=Ot;else{const Xt=Ot*Kt(Ot);Vt.y=Math.abs(Xt)<Math.abs(Ot)?Xt:Ot}}else if(z==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&vt<0||Nt.includes("right")&&vt>0)Vt.x=vt;else{const Xt=vt*Kt(vt);Vt.x=Math.abs(Xt)<Math.abs(vt)?Xt:vt}(Math.abs(Vt.x)>0||Math.abs(Vt.y)>0)&&ot(!0),(kt=pt.current)==null||kt.style.setProperty("--swipe-amount-x",`${Vt.x}px`),(Mt=pt.current)==null||Mt.style.setProperty("--swipe-amount-y",`${Vt.y}px`)}},It&&!m.jsx&&_t!=="loading"?React.createElement("button",{"aria-label":M,"data-disabled":vr,"data-close-button":!0,onClick:vr||!Pt?()=>{}:()=>{rr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:cn(G?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(Gt=q?.close)!=null?Gt:CloseIcon):null,(_t||m.icon||m.promise)&&m.icon!==null&&(q?.[_t]!==null||m.icon)?React.createElement("div",{"data-icon":"",className:cn(G?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||rn():null,m.type!=="loading"?nr:null):null,React.createElement("div",{"data-content":"",className:cn(G?.content,m==null||(o=m.classNames)==null?void 0:o.content)},React.createElement("div",{"data-title":"",className:cn(G?.title,m==null||(a=m.classNames)==null?void 0:a.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?React.createElement("div",{"data-description":"",className:cn(Z,Jt,G?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),React.isValidElement(m.cancel)?m.cancel:m.cancel&&isAction(m.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||L,onClick:ct=>{isAction(m.cancel)&&Pt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,ct),rr())},className:cn(G?.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,React.isValidElement(m.action)?m.action:m.action&&isAction(m.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||U,onClick:ct=>{isAction(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,ct),!ct.defaultPrevented&&rr())},className:cn(G?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function getDocumentDirection(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function assignOffset(t,e){const n={};return[t,e].forEach((s,i)=>{const o=i===1,a=o?"--mobile-offset":"--offset",c=o?MOBILE_VIEWPORT_OFFSET:VIEWPORT_OFFSET;function u(f){["top","right","bottom","left"].forEach(p=>{n[`${a}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${a}-${f}`]=c:n[`${a}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):u(c)}),n}const Toaster=React.forwardRef(function t(e,n){const{id:s,invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:p,mobileOffset:m,theme:x="light",richColors:E,duration:T,style:_,visibleToasts:k=VISIBLE_TOASTS_AMOUNT,toastOptions:I,dir:P=getDocumentDirection(),gap:A=GAP,icons:j,containerAriaLabel:O="Notifications"}=e,[$,V]=React.useState([]),L=React.useMemo(()=>s?$.filter(se=>se.toasterId===s):$.filter(se=>!se.toasterId),[$,s]),U=React.useMemo(()=>Array.from(new Set([o].concat(L.filter(se=>se.position).map(se=>se.position)))),[L,o]),[J,Z]=React.useState([]),[Y,K]=React.useState(!1),[ke,Re]=React.useState(!1),[G,q]=React.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=React.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=React.useRef(null),W=React.useRef(!1),ie=React.useCallback(se=>{V(Pe=>{var Ne;return(Ne=Pe.find(Oe=>Oe.id===se.id))!=null&&Ne.delete||ToastState.dismiss(se.id),Pe.filter(({id:Oe})=>Oe!==se.id)})},[]);return React.useEffect(()=>ToastState.subscribe(se=>{if(se.dismiss){requestAnimationFrame(()=>{V(Pe=>Pe.map(Ne=>Ne.id===se.id?{...Ne,delete:!0}:Ne))});return}setTimeout(()=>{ReactDOM.flushSync(()=>{V(Pe=>{const Ne=Pe.findIndex(Oe=>Oe.id===se.id);return Ne!==-1?[...Pe.slice(0,Ne),{...Pe[Ne],...se},...Pe.slice(Ne+1)]:[se,...Pe]})})})}),[$]),React.useEffect(()=>{if(x!=="system"){q(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:Pe})=>{q(Pe?"dark":"light")})}catch{se.addListener(({matches:Ne})=>{try{q(Ne?"dark":"light")}catch(Oe){console.error(Oe)}})}},[x]),React.useEffect(()=>{$.length<=1&&K(!1)},[$]),React.useEffect(()=>{const se=Pe=>{var Ne;if(a.every(Be=>Pe[Be]||Pe.code===Be)){var je;K(!0),(je=M.current)==null||je.focus()}Pe.code==="Escape"&&(document.activeElement===M.current||(Ne=M.current)!=null&&Ne.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[a]),React.useEffect(()=>{if(M.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,W.current=!1)}},[M.current]),React.createElement("section",{ref:n,"aria-label":`${O} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((se,Pe)=>{var Ne;const[Oe,je]=se.split("-");return L.length?React.createElement("ol",{key:se,dir:P==="auto"?getDocumentDirection():P,tabIndex:-1,ref:M,className:f,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":Oe,"data-x-position":je,style:{"--front-toast-height":`${((Ne=J[0])==null?void 0:Ne.height)||0}px`,"--width":`${TOAST_WIDTH}px`,"--gap":`${A}px`,..._,...assignOffset(p,m)},onBlur:Be=>{W.current&&!Be.currentTarget.contains(Be.relatedTarget)&&(W.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||W.current||(W.current=!0,ee.current=Be.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{ke||K(!1)},onDragEnd:()=>K(!1),onPointerDown:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||Re(!0)},onPointerUp:()=>Re(!1)},L.filter(Be=>!Be.position&&Pe===0||Be.position===se).map((Be,We)=>{var Ue,Ze;return React.createElement(Toast,{key:Be.id,icons:j,index:We,toast:Be,defaultRichColors:E,duration:(Ue=I?.duration)!=null?Ue:T,className:I?.className,descriptionClassName:I?.descriptionClassName,invert:i,visibleToasts:k,closeButton:(Ze=I?.closeButton)!=null?Ze:u,interacting:ke,position:se,style:I?.style,unstyled:I?.unstyled,classNames:I?.classNames,cancelButtonStyle:I?.cancelButtonStyle,actionButtonStyle:I?.actionButtonStyle,closeButtonAriaLabel:I?.closeButtonAriaLabel,removeToast:ie,toasts:L.filter(ot=>ot.position==Be.position),heights:J.filter(ot=>ot.position==Be.position),setHeights:Z,expandByDefault:c,gap:A,expanded:Y,swipeDirections:e.swipeDirections})})):null}))}),spxLogo="/spx-logo.png";var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$1[" use ".trim().toString()];function isPromiseLike(t){return typeof t=="object"&&t!==null&&"then"in t}function isLazyComponent(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===REACT_LAZY_TYPE&&"_payload"in t&&isPromiseLike(t._payload)}function createSlot$3(t){const e=createSlotClone$3(t),n=reactExports.forwardRef((s,i)=>{let{children:o,...a}=s;isLazyComponent(o)&&typeof use=="function"&&(o=use(o._payload));const c=reactExports.Children.toArray(o),u=c.find(isSlottable$3);if(u){const f=u.props.children,p=c.map(m=>m===u?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:m);return jsxRuntimeExports.jsx(e,{...a,ref:i,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,p):null})}return jsxRuntimeExports.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var Slot$2=createSlot$3("Slot");function createSlotClone$3(t){const e=reactExports.forwardRef((n,s)=>{let{children:i,...o}=n;if(isLazyComponent(i)&&typeof use=="function"&&(i=use(i._payload)),reactExports.isValidElement(i)){const a=getElementRef$4(i),c=mergeProps$3(o,i.props);return i.type!==reactExports.Fragment&&(c.ref=s?composeRefs(s,a):a),reactExports.cloneElement(i,c)}return reactExports.Children.count(i)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$3(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$3(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-orange-600 text-white hover:bg-orange-700 focus-visible:ring-orange-600",destructive:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-600",outline:"border border-gray-300 hover:bg-gray-100",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"bg-transparent hover:bg-black/5",link:"text-orange-700 underline-offset-4 hover:underline bg-transparent"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10 p-0"}},defaultVariants:{variant:"default",size:"default"}}),Button$1=reactExports.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},o)=>{const a=s?Slot$2:"button";return jsxRuntimeExports.jsx(a,{className:cn$1(buttonVariants({variant:e,size:n,className:t})),ref:o,...i})});Button$1.displayName="Button";function composeEventHandlers(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function useEscapeKeydown(t,e=globalThis?.document){const n=useCallbackRef$1(t);reactExports.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=t,f=reactExports.useContext(DismissableLayerContext),[p,m]=reactExports.useState(null),x=p?.ownerDocument??globalThis?.document,[,E]=reactExports.useState({}),T=useComposedRefs(e,V=>m(V)),_=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),I=_.indexOf(k),P=p?_.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,j=P>=I,O=usePointerDownOutside(V=>{const L=V.target,U=[...f.branches].some(J=>J.contains(L));!j||U||(i?.(V),a?.(V),V.defaultPrevented||c?.())},x),$=useFocusOutside(V=>{const L=V.target;[...f.branches].some(J=>J.contains(L))||(o?.(V),a?.(V),V.defaultPrevented||c?.())},x);return useEscapeKeydown(V=>{P===f.layers.size-1&&(s?.(V),!V.defaultPrevented&&c&&(V.preventDefault(),c()))},x),reactExports.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),dispatchUpdate(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=originalBodyPointerEvents)}},[p,x,n,f]),reactExports.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),dispatchUpdate())},[p,f]),reactExports.useEffect(()=>{const V=()=>E({});return document.addEventListener(CONTEXT_UPDATE,V),()=>document.removeEventListener(CONTEXT_UPDATE,V)},[]),jsxRuntimeExports.jsx(Primitive.div,{...u,ref:T,style:{pointerEvents:A?j?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers(t.onFocusCapture,$.onFocusCapture),onBlurCapture:composeEventHandlers(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:composeEventHandlers(t.onPointerDownCapture,O.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((t,e)=>{const n=reactExports.useContext(DismissableLayerContext),s=reactExports.useRef(null),i=useComposedRefs(e,s);return reactExports.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),jsxRuntimeExports.jsx(Primitive.div,{...t,ref:i})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(t,e=globalThis?.document){const n=useCallbackRef$1(t),s=reactExports.useRef(!1),i=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const o=c=>{if(c.target&&!s.current){let u=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function useFocusOutside(t,e=globalThis?.document){const n=useCallbackRef$1(t),s=reactExports.useRef(!1);return reactExports.useEffect(()=>{const i=o=>{o.target&&!s.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function dispatchUpdate(){const t=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(t)}function handleAndDispatchCustomEvent(t,e,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?dispatchDiscreteCustomEvent(i,o):i.dispatchEvent(o)}var useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId$1(t){const[e,n]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{n(s=>s??String(count$1++))},[t]),e?`radix-${e}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(t,e,n){return max(t,min(e,n))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(t){return yAxisSides.has(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,n){n===void 0&&(n=!1);const s=getAlignment(t),i=getAlignmentAxis(t),o=getAxisLength(i);let a=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=getOppositePlacement(a)),[a,getOppositePlacement(a)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(t,e,n){switch(t){case"top":case"bottom":return n?e?rlPlacement:lrPlacement:e?lrPlacement:rlPlacement;case"left":case"right":return e?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(t,e,n,s){const i=getAlignment(t);let o=getSideList(getSide(t),n==="start",s);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(getOppositeAlignmentPlacement)))),o}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function computeCoordsFromPlacement(t,e,n){let{reference:s,floating:i}=t;const o=getSideAxis(e),a=getAlignmentAxis(e),c=getAxisLength(a),u=getSide(e),f=o==="y",p=s.x+s.width/2-i.width/2,m=s.y+s.height/2-i.height/2,x=s[c]/2-i[c]/2;let E;switch(u){case"top":E={x:p,y:s.y-i.height};break;case"bottom":E={x:p,y:s.y+s.height};break;case"right":E={x:s.x+s.width,y:m};break;case"left":E={x:s.x-i.width,y:m};break;default:E={x:s.x,y:s.y}}switch(getAlignment(e)){case"start":E[a]-=x*(n&&f?-1:1);break;case"end":E[a]+=x*(n&&f?-1:1);break}return E}const computePosition$1=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=computeCoordsFromPlacement(f,s,u),x=s,E={},T=0;for(let _=0;_<c.length;_++){const{name:k,fn:I}=c[_],{x:P,y:A,data:j,reset:O}=await I({x:p,y:m,initialPlacement:s,placement:x,strategy:i,middlewareData:E,rects:f,platform:a,elements:{reference:t,floating:e}});p=P??p,m=A??m,E={...E,[k]:{...E[k],...j}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(f=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:p,y:m}=computeCoordsFromPlacement(f,x,u)),_=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:E}};async function detectOverflow(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:o,rects:a,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:E=0}=evaluate(e,t),T=getPaddingObject(E),k=c[x?m==="floating"?"reference":"floating":m],I=rectToClientRect(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:u})),P=m==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},O=rectToClientRect(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:A,strategy:u}):P);return{top:(I.top-O.top+T.top)/j.y,bottom:(O.bottom-I.bottom+T.bottom)/j.y,left:(I.left-O.left+T.left)/j.x,right:(O.right-I.right+T.right)/j.x}}const arrow$3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:o,platform:a,elements:c,middlewareData:u}=e,{element:f,padding:p=0}=evaluate(t,e)||{};if(f==null)return{};const m=getPaddingObject(p),x={x:n,y:s},E=getAlignmentAxis(i),T=getAxisLength(E),_=await a.getDimensions(f),k=E==="y",I=k?"top":"left",P=k?"bottom":"right",A=k?"clientHeight":"clientWidth",j=o.reference[T]+o.reference[E]-x[E]-o.floating[T],O=x[E]-o.reference[E],$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let V=$?$[A]:0;(!V||!await(a.isElement==null?void 0:a.isElement($)))&&(V=c.floating[A]||o.floating[T]);const L=j/2-O/2,U=V/2-_[T]/2-1,J=min(m[I],U),Z=min(m[P],U),Y=J,K=V-_[T]-Z,ke=V/2-_[T]/2+L,Re=clamp$1(Y,ke,K),G=!u.arrow&&getAlignment(i)!=null&&ke!==Re&&o.reference[T]/2-(ke<Y?J:Z)-_[T]/2<0,q=G?ke<Y?ke-Y:ke-K:0;return{[E]:x[E]+q,data:{[E]:Re,centerOffset:ke-Re-q,...G&&{alignmentOffset:q}},reset:G}}}),flip$2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...k}=evaluate(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const I=getSide(i),P=getSideAxis(c),A=getSide(c)===c,j=await(u.isRTL==null?void 0:u.isRTL(f.floating)),O=x||(A||!_?[getOppositePlacement(c)]:getExpandedPlacements(c)),$=T!=="none";!x&&$&&O.push(...getOppositeAxisPlacements(c,_,T,j));const V=[c,...O],L=await detectOverflow(e,k),U=[];let J=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&U.push(L[I]),m){const ke=getAlignmentSides(i,a,j);U.push(L[ke[0]],L[ke[1]])}if(J=[...J,{placement:i,overflows:U}],!U.every(ke=>ke<=0)){var Z,Y;const ke=(((Z=o.flip)==null?void 0:Z.index)||0)+1,Re=V[ke];if(Re&&(!(m==="alignment"?P!==getSideAxis(Re):!1)||J.every(M=>getSideAxis(M.placement)===P?M.overflows[0]>0:!0)))return{data:{index:ke,overflows:J},reset:{placement:Re}};let G=(Y=J.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:Y.placement;if(!G)switch(E){case"bestFit":{var K;const q=(K=J.filter(M=>{if($){const z=getSideAxis(M.placement);return z===P||z==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,ee)=>z+ee,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:K[0];q&&(G=q);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function getSideOffsets(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function isAnySideFullyClipped(t){return sides.some(e=>t[e]>=0)}const hide$2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=evaluate(t,e);switch(s){case"referenceHidden":{const o=await detectOverflow(e,{...i,elementContext:"reference"}),a=getSideOffsets(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:isAnySideFullyClipped(a)}}}case"escaped":{const o=await detectOverflow(e,{...i,altBoundary:!0}),a=getSideOffsets(o,n.floating);return{data:{escapedOffsets:a,escaped:isAnySideFullyClipped(a)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(t,e){const{placement:n,platform:s,elements:i}=t,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=getSide(n),c=getAlignment(n),u=getSideAxis(n)==="y",f=originSides.has(a)?-1:1,p=o&&u?-1:1,m=evaluate(e,t);let{mainAxis:x,crossAxis:E,alignmentAxis:T}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof T=="number"&&(E=c==="end"?T*-1:T),u?{x:E*p,y:x*f}:{x:x*f,y:E*p}}const offset$2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:o,placement:a,middlewareData:c}=e,u=await convertValueToCoords(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},shift$2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:k=>{let{x:I,y:P}=k;return{x:I,y:P}}},...u}=evaluate(t,e),f={x:n,y:s},p=await detectOverflow(e,u),m=getSideAxis(getSide(i)),x=getOppositeAxis(m);let E=f[x],T=f[m];if(o){const k=x==="y"?"top":"left",I=x==="y"?"bottom":"right",P=E+p[k],A=E-p[I];E=clamp$1(P,E,A)}if(a){const k=m==="y"?"top":"left",I=m==="y"?"bottom":"right",P=T+p[k],A=T-p[I];T=clamp$1(P,T,A)}const _=c.fn({...e,[x]:E,[m]:T});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[x]:o,[m]:a}}}}}},limitShift$2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=evaluate(t,e),p={x:n,y:s},m=getSideAxis(i),x=getOppositeAxis(m);let E=p[x],T=p[m];const _=evaluate(c,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const A=x==="y"?"height":"width",j=o.reference[x]-o.floating[A]+k.mainAxis,O=o.reference[x]+o.reference[A]-k.mainAxis;E<j?E=j:E>O&&(E=O)}if(f){var I,P;const A=x==="y"?"width":"height",j=originSides.has(getSide(i)),O=o.reference[m]-o.floating[A]+(j&&((I=a.offset)==null?void 0:I[m])||0)+(j?0:k.crossAxis),$=o.reference[m]+o.reference[A]+(j?0:((P=a.offset)==null?void 0:P[m])||0)-(j?k.crossAxis:0);T<O?T=O:T>$&&(T=$)}return{[x]:E,[m]:T}}}},size$2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:o,platform:a,elements:c}=e,{apply:u=()=>{},...f}=evaluate(t,e),p=await detectOverflow(e,f),m=getSide(i),x=getAlignment(i),E=getSideAxis(i)==="y",{width:T,height:_}=o.floating;let k,I;m==="top"||m==="bottom"?(k=m,I=x===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(I=m,k=x==="end"?"top":"bottom");const P=_-p.top-p.bottom,A=T-p.left-p.right,j=min(_-p[k],P),O=min(T-p[I],A),$=!e.middlewareData.shift;let V=j,L=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=A),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(V=P),$&&!x){const J=max(p.left,0),Z=max(p.right,0),Y=max(p.top,0),K=max(p.bottom,0);E?L=T-2*(J!==0||Z!==0?J+Z:max(p.left,p.right)):V=_-2*(Y!==0||K!==0?Y+K:max(p.top,p.bottom))}await u({...e,availableWidth:L,availableHeight:V});const U=await a.getDimensions(c.floating);return T!==U.width||_!==U.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode$1(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow$1(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode$1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode$1(t){return hasWindow()?t instanceof Node||t instanceof getWindow$1(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow$1(t).Element:!1}function isHTMLElement$1(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow$1(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow$1(t).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!invalidOverflowDisplayValues.has(i)}const tableElements=new Set(["table","td","th"]);function isTableElement(t){return tableElements.has(getNodeName(t))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(t){return topLayerSelectors.some(e=>{try{return t.matches(e)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(t){const e=isWebKit(),n=isElement(t)?getComputedStyle$1(t):t;return transformProperties.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||willChangeValues.some(s=>(n.willChange||"").includes(s))||containValues.some(s=>(n.contain||"").includes(s))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement$1(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(t){return lastTraversableNodeNames.has(getNodeName(t))}function getComputedStyle$1(t){return getWindow$1(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement$1(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=getNearestOverflowAncestor(t),o=i===((s=t.ownerDocument)==null?void 0:s.body),a=getWindow$1(i);if(o){const c=getFrameElement(a);return e.concat(a,a.visualViewport||[],isOverflowElement(i)?i:[],c&&n?getOverflowAncestors(c):[])}return e.concat(i,getOverflowAncestors(i,[],n))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$1(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=isHTMLElement$1(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:s,c=round(n)!==o||round(s)!==a;return c&&(n=o,s=a),{width:n,height:s,$:c}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement(t);if(!isHTMLElement$1(e))return createCoords(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:o}=getCssDimensions(e);let a=(o?round(n.width):n.width)/s,c=(o?round(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow$1(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==getWindow$1(t)?!1:e}function getBoundingClientRect(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=unwrapElement(t);let a=createCoords(1);e&&(s?isElement(s)&&(a=getScale(s)):a=getScale(t));const c=shouldAddVisualOffsets(o,n,s)?getVisualOffsets(o):createCoords(0);let u=(i.left+c.x)/a.x,f=(i.top+c.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(o){const x=getWindow$1(o),E=s&&isElement(s)?getWindow$1(s):s;let T=x,_=getFrameElement(T);for(;_&&s&&E!==T;){const k=getScale(_),I=_.getBoundingClientRect(),P=getComputedStyle$1(_),A=I.left+(_.clientLeft+parseFloat(P.paddingLeft))*k.x,j=I.top+(_.clientTop+parseFloat(P.paddingTop))*k.y;u*=k.x,f*=k.y,p*=k.x,m*=k.y,u+=A,f+=j,T=getWindow$1(_),_=getFrameElement(T)}}return rectToClientRect({width:p,height:m,x:u,y:f})}function getWindowScrollBarX(t,e){const n=getNodeScroll(t).scrollLeft;return e?e.left+n:getBoundingClientRect(getDocumentElement(t)).left+n}function getHTMLOffset(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-getWindowScrollBarX(t,n),i=n.top+e.scrollTop;return{x:s,y:i}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const o=i==="fixed",a=getDocumentElement(s),c=e?isTopLayer(e.floating):!1;if(s===a||c&&o)return n;let u={scrollLeft:0,scrollTop:0},f=createCoords(1);const p=createCoords(0),m=isHTMLElement$1(s);if((m||!m&&!o)&&((getNodeName(s)!=="body"||isOverflowElement(a))&&(u=getNodeScroll(s)),isHTMLElement$1(s))){const E=getBoundingClientRect(s);f=getScale(s),p.x=E.x+s.clientLeft,p.y=E.y+s.clientTop}const x=a&&!m&&!o?getHTMLOffset(a,u):createCoords(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+x.x,y:n.y*f.y-u.scrollTop*f.y+p.y+x.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),n=getNodeScroll(t),s=t.ownerDocument.body,i=max(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=max(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+getWindowScrollBarX(t);const c=-n.scrollTop;return getComputedStyle$1(s).direction==="rtl"&&(a+=max(e.clientWidth,s.clientWidth)-i),{width:i,height:o,x:a,y:c}}const SCROLLBAR_MAX=25;function getViewportRect(t,e){const n=getWindow$1(t),s=getDocumentElement(t),i=n.visualViewport;let o=s.clientWidth,a=s.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;const p=isWebKit();(!p||p&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const f=getWindowScrollBarX(s);if(f<=0){const p=s.ownerDocument,m=p.body,x=getComputedStyle(m),E=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,T=Math.abs(s.clientWidth-m.clientWidth-E);T<=SCROLLBAR_MAX&&(o-=T)}else f<=SCROLLBAR_MAX&&(o+=f);return{width:o,height:a,x:c,y:u}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(t,e){const n=getBoundingClientRect(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,o=isHTMLElement$1(t)?getScale(t):createCoords(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,u=i*o.x,f=s*o.y;return{width:a,height:c,x:u,y:f}}function getClientRectFromClippingAncestor(t,e,n){let s;if(e==="viewport")s=getViewportRect(t,n);else if(e==="document")s=getDocumentRect(getDocumentElement(t));else if(isElement(e))s=getInnerBoundingClientRect(e,n);else{const i=getVisualOffsets(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rectToClientRect(s)}function hasFixedPositionAncestor(t,e){const n=getParentNode(t);return n===e||!isElement(n)||isLastTraversableNode(n)?!1:getComputedStyle$1(n).position==="fixed"||hasFixedPositionAncestor(n,e)}function getClippingElementAncestors(t,e){const n=e.get(t);if(n)return n;let s=getOverflowAncestors(t,[],!1).filter(c=>isElement(c)&&getNodeName(c)!=="body"),i=null;const o=getComputedStyle$1(t).position==="fixed";let a=o?getParentNode(t):t;for(;isElement(a)&&!isLastTraversableNode(a);){const c=getComputedStyle$1(a),u=isContainingBlock(a);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&absoluteOrFixed.has(i.position)||isOverflowElement(a)&&!u&&hasFixedPositionAncestor(t,a))?s=s.filter(p=>p!==a):i=c,a=getParentNode(a)}return e.set(t,s),s}function getClippingRect(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const a=[...n==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(n),s],c=a[0],u=a.reduce((f,p)=>{const m=getClientRectFromClippingAncestor(e,p,i);return f.top=max(m.top,f.top),f.right=min(m.right,f.right),f.bottom=min(m.bottom,f.bottom),f.left=max(m.left,f.left),f},getClientRectFromClippingAncestor(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function getDimensions(t){const{width:e,height:n}=getCssDimensions(t);return{width:e,height:n}}function getRectRelativeToOffsetParent(t,e,n){const s=isHTMLElement$1(e),i=getDocumentElement(e),o=n==="fixed",a=getBoundingClientRect(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=createCoords(0);function f(){u.x=getWindowScrollBarX(i)}if(s||!s&&!o)if((getNodeName(e)!=="body"||isOverflowElement(i))&&(c=getNodeScroll(e)),s){const E=getBoundingClientRect(e,!0,o,e);u.x=E.x+e.clientLeft,u.y=E.y+e.clientTop}else i&&f();o&&!s&&i&&f();const p=i&&!s&&!o?getHTMLOffset(i,c):createCoords(0),m=a.left+c.scrollLeft-u.x-p.x,x=a.top+c.scrollTop-u.y-p.y;return{x:m,y:x,width:a.width,height:a.height}}function isStaticPositioned(t){return getComputedStyle$1(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement$1(t)||getComputedStyle$1(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return getDocumentElement(t)===n&&(n=n.ownerDocument.body),n}function getOffsetParent(t,e){const n=getWindow$1(t);if(isTopLayer(t))return n;if(!isHTMLElement$1(t)){let i=getParentNode(t);for(;i&&!isLastTraversableNode(i);){if(isElement(i)&&!isStaticPositioned(i))return i;i=getParentNode(i)}return n}let s=getTrueOffsetParent(t,e);for(;s&&isTableElement(s)&&isStaticPositioned(s);)s=getTrueOffsetParent(s,e);return s&&isLastTraversableNode(s)&&isStaticPositioned(s)&&!isContainingBlock(s)?n:s||getContainingBlock(t)||n}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,n=this.getDimensions,s=await n(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let n=null,s;const i=getDocumentElement(t);function o(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const f=t.getBoundingClientRect(),{left:p,top:m,width:x,height:E}=f;if(c||e(),!x||!E)return;const T=floor(m),_=floor(i.clientWidth-(p+x)),k=floor(i.clientHeight-(m+E)),I=floor(p),A={rootMargin:-T+"px "+-_+"px "+-k+"px "+-I+"px",threshold:max(0,min(1,u))||1};let j=!0;function O($){const V=$[0].intersectionRatio;if(V!==u){if(!j)return a();V?a(!1,V):s=setTimeout(()=>{a(!1,1e-7)},1e3)}V===1&&!rectsAreEqual(f,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(O,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,A)}n.observe(t)}return a(!0),o}function autoUpdate(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,f=unwrapElement(t),p=i||o?[...f?getOverflowAncestors(f):[],...getOverflowAncestors(e)]:[];p.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),o&&I.addEventListener("resize",n)});const m=f&&c?observeMove(f,n):null;let x=-1,E=null;a&&(E=new ResizeObserver(I=>{let[P]=I;P&&P.target===f&&E&&(E.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=E)==null||A.observe(e)})),n()}),f&&!u&&E.observe(f),E.observe(e));let T,_=u?getBoundingClientRect(t):null;u&&k();function k(){const I=getBoundingClientRect(t);_&&!rectsAreEqual(_,I)&&n(),_=I,T=requestAnimationFrame(k)}return n(),()=>{var I;p.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),m?.(),(I=E)==null||I.disconnect(),E=null,u&&cancelAnimationFrame(T)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(t,e,n)=>{const s=new Map,i={platform,...n},o={...i.platform,_c:s};return computePosition$1(t,e,{...i,platform:o})};var isClient=typeof document<"u",noop$1=function t(){},index=isClient?reactExports.useLayoutEffect:noop$1;function deepEqual(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!deepEqual(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&t.$$typeof)&&!deepEqual(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,e){const n=getDPR(t);return Math.round(e*n)/n}function useLatestRef(t){const e=reactExports.useRef(t);return index(()=>{e.current=t}),e}function useFloating(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:f}=t,[p,m]=reactExports.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,E]=reactExports.useState(s);deepEqual(x,s)||E(s);const[T,_]=reactExports.useState(null),[k,I]=reactExports.useState(null),P=reactExports.useCallback(M=>{M!==$.current&&($.current=M,_(M))},[]),A=reactExports.useCallback(M=>{M!==V.current&&(V.current=M,I(M))},[]),j=o||T,O=a||k,$=reactExports.useRef(null),V=reactExports.useRef(null),L=reactExports.useRef(p),U=u!=null,J=useLatestRef(u),Z=useLatestRef(i),Y=useLatestRef(f),K=reactExports.useCallback(()=>{if(!$.current||!V.current)return;const M={placement:e,strategy:n,middleware:x};Z.current&&(M.platform=Z.current),computePosition($.current,V.current,M).then(z=>{const ee={...z,isPositioned:Y.current!==!1};ke.current&&!deepEqual(L.current,ee)&&(L.current=ee,reactDomExports.flushSync(()=>{m(ee)}))})},[x,e,n,Z,Y]);index(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[f]);const ke=reactExports.useRef(!1);index(()=>(ke.current=!0,()=>{ke.current=!1}),[]),index(()=>{if(j&&($.current=j),O&&(V.current=O),j&&O){if(J.current)return J.current(j,O,K);K()}},[j,O,K,J,U]);const Re=reactExports.useMemo(()=>({reference:$,floating:V,setReference:P,setFloating:A}),[P,A]),G=reactExports.useMemo(()=>({reference:j,floating:O}),[j,O]),q=reactExports.useMemo(()=>{const M={position:n,left:0,top:0};if(!G.floating)return M;const z=roundByDPR(G.floating,p.x),ee=roundByDPR(G.floating,p.y);return c?{...M,transform:"translate("+z+"px, "+ee+"px)",...getDPR(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:ee}},[n,c,G.floating,p.x,p.y]);return reactExports.useMemo(()=>({...p,update:K,refs:Re,elements:G,floatingStyles:q}),[p,K,Re,G,q])}const arrow$1=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?arrow$2({element:s.current,padding:i}).fn(n):{}:s?arrow$2({element:s,padding:i}).fn(n):{}}}},offset=(t,e)=>({...offset$1(t),options:[t,e]}),shift=(t,e)=>({...shift$1(t),options:[t,e]}),limitShift=(t,e)=>({...limitShift$1(t),options:[t,e]}),flip=(t,e)=>({...flip$1(t),options:[t,e]}),size=(t,e)=>({...size$1(t),options:[t,e]}),hide=(t,e)=>({...hide$1(t),options:[t,e]}),arrow=(t,e)=>({...arrow$1(t),options:[t,e]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...o}=t;return jsxRuntimeExports.jsx(Primitive.svg,{...o,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$4=Arrow$1;function useSize(t){const[e,n]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=t=>{const{__scopePopper:e,children:n}=t,[s,i]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:s,onAnchorChange:i,children:n})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,o=usePopperContext(ANCHOR_NAME$1,n),a=reactExports.useRef(null),c=useComposedRefs(e,a),u=reactExports.useRef(null);return reactExports.useEffect(()=>{const f=u.current;u.current=s?.current||a.current,f!==u.current&&o.onAnchorChange(u.current)}),s?null:jsxRuntimeExports.jsx(Primitive.div,{...i,ref:c})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:E="optimized",onPlaced:T,..._}=t,k=usePopperContext(CONTENT_NAME$4,n),[I,P]=reactExports.useState(null),A=useComposedRefs(e,je=>P(je)),[j,O]=reactExports.useState(null),$=useSize(j),V=$?.width??0,L=$?.height??0,U=s+(o!=="center"?"-"+o:""),J=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Z=Array.isArray(f)?f:[f],Y=Z.length>0,K={padding:J,boundary:Z.filter(isNotNull),altBoundary:Y},{refs:ke,floatingStyles:Re,placement:G,isPositioned:q,middlewareData:M}=useFloating({strategy:"fixed",placement:U,whileElementsMounted:(...je)=>autoUpdate(...je,{animationFrame:E==="always"}),elements:{reference:k.anchor},middleware:[offset({mainAxis:i+L,alignmentAxis:a}),u&&shift({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?limitShift():void 0,...K}),u&&flip({...K}),size({...K,apply:({elements:je,rects:Be,availableWidth:We,availableHeight:Ue})=>{const{width:Ze,height:ot}=Be.reference,Je=je.floating.style;Je.setProperty("--radix-popper-available-width",`${We}px`),Je.setProperty("--radix-popper-available-height",`${Ue}px`),Je.setProperty("--radix-popper-anchor-width",`${Ze}px`),Je.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),j&&arrow({element:j,padding:c}),transformOrigin({arrowWidth:V,arrowHeight:L}),x&&hide({strategy:"referenceHidden",...K})]}),[z,ee]=getSideAndAlignFromPlacement(G),W=useCallbackRef$1(T);useLayoutEffect2(()=>{q&&W?.()},[q,W]);const ie=M.arrow?.x,se=M.arrow?.y,Pe=M.arrow?.centerOffset!==0,[Ne,Oe]=reactExports.useState();return useLayoutEffect2(()=>{I&&Oe(window.getComputedStyle(I).zIndex)},[I]),jsxRuntimeExports.jsx("div",{ref:ke.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:q?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:n,placedSide:z,onArrowChange:O,arrowX:ie,arrowY:se,shouldHideArrow:Pe,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":z,"data-align":ee,..._,ref:A,style:{..._.style,animation:q?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$3="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function t(e,n){const{__scopePopper:s,...i}=e,o=useContentContext(ARROW_NAME$3,s),a=OPPOSITE_SIDE[o.placedSide];return jsxRuntimeExports.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...i,ref:n,style:{...i.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$3;function isNotNull(t){return t!==null}var transformOrigin=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[f,p]=getSideAndAlignFromPlacement(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(i.arrow?.x??0)+c/2,E=(i.arrow?.y??0)+u/2;let T="",_="";return f==="bottom"?(T=a?m:`${x}px`,_=`${-u}px`):f==="top"?(T=a?m:`${x}px`,_=`${s.floating.height+u}px`):f==="right"?(T=`${-u}px`,_=a?m:`${E}px`):f==="left"&&(T=`${s.floating.width+u}px`,_=a?m:`${E}px`),{data:{x:T,y:_}}}});function getSideAndAlignFromPlacement(t){const[e,n="center"]=t.split("-");return[e,n]}var Root2$3=Popper,Anchor=PopperAnchor,Content$1=PopperContent,Arrow=PopperArrow,PORTAL_NAME$3="Portal",Portal$2=reactExports.forwardRef((t,e)=>{const{container:n,...s}=t,[i,o]=reactExports.useState(!1);useLayoutEffect2(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...s,ref:e}),a):null});Portal$2.displayName=PORTAL_NAME$3;function useStateMachine(t,e){return reactExports.useReducer((n,s)=>e[n][s]??n,t)}var Presence=t=>{const{present:e,children:n}=t,s=usePresence(e),i=typeof n=="function"?n({present:s.isPresent}):reactExports.Children.only(n),o=useComposedRefs(s.ref,getElementRef$3(i));return typeof n=="function"||s.isPresent?reactExports.cloneElement(i,{ref:o}):null};Presence.displayName="Presence";function usePresence(t){const[e,n]=reactExports.useState(),s=reactExports.useRef(null),i=reactExports.useRef(t),o=reactExports.useRef("none"),a=t?"mounted":"unmounted",[c,u]=useStateMachine(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const f=getAnimationName(s.current);o.current=c==="mounted"?f:"none"},[c]),useLayoutEffect2(()=>{const f=s.current,p=i.current;if(p!==t){const x=o.current,E=getAnimationName(f);t?u("MOUNT"):E==="none"||f?.display==="none"?u("UNMOUNT"):u(p&&x!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),useLayoutEffect2(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=E=>{const _=getAnimationName(s.current).includes(CSS.escape(E.animationName));if(E.target===e&&_&&(u("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=E=>{E.target===e&&(o.current=getAnimationName(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:reactExports.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function getAnimationName(t){return t?.animationName||"none"}function getElementRef$3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function createSlottable(t){const e=({children:n})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=SLOTTABLE_IDENTIFIER$3,e}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,o,a]=useUncontrolledState({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const p=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const f=reactExports.useCallback(p=>{if(c){const m=isFunction(p)?p(t):p;m!==t&&a.current?.(m)}else o(p)},[c,t,o,a]);return[u,f]}function useUncontrolledState({defaultProp:t,onChange:e}){const[n,s]=reactExports.useState(t),i=reactExports.useRef(n),o=reactExports.useRef(e);return useInsertionEffect(()=>{o.current=e},[e]),reactExports.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,s,o]}function isFunction(t){return typeof t=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive.span,{...t,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...t.style}}));VisuallyHidden.displayName=NAME;var Root$3=VisuallyHidden,[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=t=>{const{__scopeTooltip:e,delayDuration:n=DEFAULT_DELAY_DURATION,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=t,a=reactExports.useRef(!0),c=reactExports.useRef(!1),u=reactExports.useRef(0);return reactExports.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:reactExports.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:reactExports.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:o})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME$3="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=useTooltipContext(TRIGGER_NAME$3,n),o=useTooltipProviderContext(TRIGGER_NAME$3,n),a=usePopperScope$2(n),c=reactExports.useRef(null),u=useComposedRefs(e,c,i.onTriggerChange),f=reactExports.useRef(!1),p=reactExports.useRef(!1),m=reactExports.useCallback(()=>f.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...a,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:u,onPointerMove:composeEventHandlers(t.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:composeEventHandlers(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:composeEventHandlers(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:composeEventHandlers(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:composeEventHandlers(t.onBlur,i.onClose),onClick:composeEventHandlers(t.onClick,i.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="TooltipPortal",[PortalProvider$1,usePortalContext$1]=createTooltipContext(PORTAL_NAME$2,{forceMount:void 0}),CONTENT_NAME$3="TooltipContent",TooltipContent$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext$1(CONTENT_NAME$3,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=t,a=useTooltipContext(CONTENT_NAME$3,t.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:s||a.open,children:a.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:i,...o,ref:e}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:i,...o,ref:e})})}),TooltipContentHoverable=reactExports.forwardRef((t,e)=>{const n=useTooltipContext(CONTENT_NAME$3,t.__scopeTooltip),s=useTooltipProviderContext(CONTENT_NAME$3,t.__scopeTooltip),i=reactExports.useRef(null),o=useComposedRefs(e,i),[a,c]=reactExports.useState(null),{trigger:u,onClose:f}=n,p=i.current,{onPointerInTransitChange:m}=s,x=reactExports.useCallback(()=>{c(null),m(!1)},[m]),E=reactExports.useCallback((T,_)=>{const k=T.currentTarget,I={x:T.clientX,y:T.clientY},P=getExitSideFromRect(I,k.getBoundingClientRect()),A=getPaddedExitPoints(I,P),j=getPointsFromRect(_.getBoundingClientRect()),O=getHull([...A,...j]);c(O),m(!0)},[m]);return reactExports.useEffect(()=>()=>x(),[x]),reactExports.useEffect(()=>{if(u&&p){const T=k=>E(k,p),_=k=>E(k,u);return u.addEventListener("pointerleave",T),p.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",T),p.removeEventListener("pointerleave",_)}}},[u,p,E,x]),reactExports.useEffect(()=>{if(a){const T=_=>{const k=_.target,I={x:_.clientX,y:_.clientY},P=u?.contains(k)||p?.contains(k),A=!isPointInPolygon(I,a);P?x():A&&(x(),f())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,p,a,f,x]),jsxRuntimeExports.jsx(TooltipContentImpl,{...t,ref:o})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...c}=t,u=useTooltipContext(CONTENT_NAME$3,n),f=usePopperScope$2(n),{onClose:p}=u;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,p),()=>document.removeEventListener(TOOLTIP_OPEN,p)),[p]),reactExports.useEffect(()=>{if(u.trigger){const m=x=>{x.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:jsxRuntimeExports.jsxs(Content$1,{"data-state":u.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:s}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:n,isInside:!0,children:jsxRuntimeExports.jsx(Root$3,{id:u.contentId,role:"tooltip",children:i||s})})]})})});TooltipContent$1.displayName=CONTENT_NAME$3;var ARROW_NAME$2="TooltipArrow",TooltipArrow=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=usePopperScope$2(n);return useVisuallyHiddenContentContext(ARROW_NAME$2,n).isInside?null:jsxRuntimeExports.jsx(Arrow,{...i,...s,ref:e})});TooltipArrow.displayName=ARROW_NAME$2;function getExitSideFromRect(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function getPointsFromRect(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function isPointInPolygon(t,e){const{x:n,y:s}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o],u=e[a],f=c.x,p=c.y,m=u.x,x=u.y;p>s!=x>s&&n<(m-f)*(s-p)/(x-p)+f&&(i=!i)}return i}function getHull(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),getHullPresorted(e)}function getHullPresorted(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Provider=TooltipProvider$1,Content2$2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:t,sideOffset:e=4,...n},s)=>jsxRuntimeExports.jsx(Content2$2,{ref:s,sideOffset:e,className:cn$1("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));TooltipContent.displayName=Content2$2.displayName;var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count--}},[])}function createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[c,u]=reactExports.useState(null),f=useCallbackRef$1(i),p=useCallbackRef$1(o),m=reactExports.useRef(null),x=useComposedRefs(e,_=>u(_)),E=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(s){let _=function(A){if(E.paused||!c)return;const j=A.target;c.contains(j)?m.current=j:focus(m.current,{select:!0})},k=function(A){if(E.paused||!c)return;const j=A.relatedTarget;j!==null&&(c.contains(j)||focus(m.current,{select:!0}))},I=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&focus(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const P=new MutationObserver(I);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),P.disconnect()}}},[s,c,E.paused]),reactExports.useEffect(()=>{if(c){focusScopesStack.add(E);const _=document.activeElement;if(!c.contains(_)){const I=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);c.addEventListener(AUTOFOCUS_ON_MOUNT,f),c.dispatchEvent(I),I.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(c)),{select:!0}),document.activeElement===_&&focus(c))}return()=>{c.removeEventListener(AUTOFOCUS_ON_MOUNT,f),setTimeout(()=>{const I=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);c.addEventListener(AUTOFOCUS_ON_UNMOUNT,p),c.dispatchEvent(I),I.defaultPrevented||focus(_??document.body,{select:!0}),c.removeEventListener(AUTOFOCUS_ON_UNMOUNT,p),focusScopesStack.remove(E)},0)}}},[c,f,p,E]);const T=reactExports.useCallback(_=>{if(!n&&!s||E.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,I=document.activeElement;if(k&&I){const P=_.currentTarget,[A,j]=getTabbableEdges(P);A&&j?!_.shiftKey&&I===j?(_.preventDefault(),n&&focus(A,{select:!0})):_.shiftKey&&I===A&&(_.preventDefault(),n&&focus(j,{select:!0})):I===P&&_.preventDefault()}},[n,s,E.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...a,ref:x,onKeyDown:T})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(focus(s,{select:e}),document.activeElement!==n)return}function getTabbableEdges(t){const e=getTabbableCandidates(t),n=findVisible(e,t),s=findVisible(e.reverse(),t);return[n,s]}function getTabbableCandidates(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function findVisible(t,e){for(const n of t)if(!isHidden(n,{upTo:e}))return n}function isHidden(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function focus(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&isSelectableInput(t)&&e&&t.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=arrayRemove(t,e),t.unshift(e)},remove(e){t=arrayRemove(t,e),t[0]?.resume()}}}function arrayRemove(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function removeLinks(t){return t.filter(e=>e.tagName!=="A")}function createSlot$2(t){const e=createSlotClone$2(t),n=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s,c=reactExports.Children.toArray(o),u=c.find(isSlottable$2);if(u){const f=u.props.children,p=c.map(m=>m===u?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:m);return jsxRuntimeExports.jsx(e,{...a,ref:i,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,p):null})}return jsxRuntimeExports.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function createSlotClone$2(t){const e=reactExports.forwardRef((n,s)=>{const{children:i,...o}=n;if(reactExports.isValidElement(i)){const a=getElementRef$2(i),c=mergeProps$2(o,i.props);return i.type!==reactExports.Fragment&&(c.ref=s?composeRefs(s,a):a),reactExports.cloneElement(i,c)}return reactExports.Children.count(i)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$2(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var getDefaultParent=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=unwrapHost(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},applyAttributeToOthers=function(t,e,n,s){var i=correctTargets(e,Array.isArray(t)?t:[t]);markerMap[n]||(markerMap[n]=new WeakMap);var o=markerMap[n],a=[],c=new Set,u=new Set(i),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))p(x);else try{var E=x.getAttribute(s),T=E!==null&&E!=="false",_=(counterMap.get(x)||0)+1,k=(o.get(x)||0)+1;counterMap.set(x,_),o.set(x,k),a.push(x),_===1&&T&&uncontrolledNodes.set(x,!0),k===1&&x.setAttribute(n,"true"),T||x.setAttribute(s,"true")}catch(I){console.error("aria-hidden: cannot operate on ",x,I)}})};return p(e),c.clear(),lockCount++,function(){a.forEach(function(m){var x=counterMap.get(m)-1,E=o.get(m)-1;counterMap.set(m,x),o.set(m,E),x||(uncontrolledNodes.has(m)||m.removeAttribute(s),uncontrolledNodes.delete(m)),E||m.removeAttribute(n)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=getDefaultParent(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(s,i,n,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function useCallbackRef(t,e){var n=reactExports.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(t,e){var n=useCallbackRef(null,function(s){return t.forEach(function(i){return assignRef(i,s)})});return useIsomorphicLayoutEffect$2(function(){var s=currentValues.get(n);if(s){var i=new Set(s),o=new Set(t),a=n.current;i.forEach(function(c){o.has(c)||assignRef(c,null)}),o.forEach(function(c){i.has(c)||assignRef(c,a)})}currentValues.set(n,t)},[t]),n}function ItoI(t){return t}function innerCreateMedium(t,e){e===void 0&&(e=ItoI);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,s);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(s=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){s=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var u=function(){var p=a;a=[],p.forEach(o)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){a.push(p),f()},filter:function(p){return a=a.filter(p),n}}}};return i}function createSidecarMedium(t){t===void 0&&(t={});var e=innerCreateMedium(null);return e.options=__assign$1({async:!0,ssr:!1},t),e}var SideCar$1=function(t){var e=t.sideCar,n=__rest$1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return reactExports.createElement(s,__assign$1({},n))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,e){return t.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,e){var n=reactExports.useRef(null),s=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),i=s[0],o=s[1],a=t.forwardProps,c=t.children,u=t.className,f=t.removeScrollBar,p=t.enabled,m=t.shards,x=t.sideCar,E=t.noRelative,T=t.noIsolation,_=t.inert,k=t.allowPinchZoom,I=t.as,P=I===void 0?"div":I,A=t.gapMode,j=__rest$1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,$=useMergeRefs([n,e]),V=__assign$1(__assign$1({},j),i);return reactExports.createElement(reactExports.Fragment,null,p&&reactExports.createElement(O,{sideCar:effectCar,removeScrollBar:f,shards:m,noRelative:E,noIsolation:T,inert:_,setCallbacks:o,allowPinchZoom:!!k,lockRef:n,gapMode:A}),a?reactExports.cloneElement(reactExports.Children.only(c),__assign$1(__assign$1({},V),{ref:$})):reactExports.createElement(P,__assign$1({},V,{className:u,ref:$}),c))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=getNonce();return e&&t.setAttribute("nonce",e),t}function injectStyles(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function insertStyleTag(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var stylesheetSingleton=function(){var t=0,e=null;return{add:function(n){t==0&&(e=makeStyleTag())&&(injectStyles(e,n),insertStyleTag(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(e,n){reactExports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},styleSingleton=function(){var t=styleHookSingleton(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(t){return parseInt(t||"",10)||0},getOffset=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[parse(n),parse(s),parse(i)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var e=getOffset(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,e,n,s){var i=t.left,o=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(c,`px;
  }
`)},getCurrentUseCounter=function(){var t=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(t)?t:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var t=getCurrentUseCounter()-1;t<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,t.toString())}},[])},RemoveScrollBar=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;useLockAttribute();var o=reactExports.useMemo(function(){return getGapWidth(i)},[i]);return reactExports.createElement(Style,{styles:getStyles(o,!e,i,n?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!alwaysContainsScroll(t)&&n[e]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=elementCouldBeScrolled(t,s);if(i){var o=getScrollVariables(t,s),a=o[1],c=o[2];if(a>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},getVScrollVariables=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},getHScrollVariables=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},elementCouldBeScrolled=function(t,e){return t==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(t,e){return t==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(t,e){return t==="h"&&e==="rtl"?-1:1},handleScroll=function(t,e,n,s,i){var o=getDirectionFactor(t,window.getComputedStyle(e).direction),a=o*s,c=n.target,u=e.contains(c),f=!1,p=a>0,m=0,x=0;do{if(!c)break;var E=getScrollVariables(t,c),T=E[0],_=E[1],k=E[2],I=_-k-o*T;(T||I)&&elementCouldBeScrolled(t,c)&&(m+=I,x+=T);var P=c.parentNode;c=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(f=!0),f},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,e){return t[0]===e[0]&&t[1]===e[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(t){var e=reactExports.useRef([]),n=reactExports.useRef([0,0]),s=reactExports.useRef(),i=reactExports.useState(idCounter++)[0],o=reactExports.useState(styleSingleton)[0],a=reactExports.useRef(t);reactExports.useEffect(function(){a.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=__spreadArray$1([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=reactExports.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var I=getTouchXY(_),P=n.current,A="deltaX"in _?_.deltaX:P[0]-I[0],j="deltaY"in _?_.deltaY:P[1]-I[1],O,$=_.target,V=Math.abs(A)>Math.abs(j)?"h":"v";if("touches"in _&&V==="h"&&$.type==="range")return!1;var L=locationCouldBeScrolled(V,$);if(!L)return!0;if(L?O=V:(O=V==="v"?"h":"v",L=locationCouldBeScrolled(V,$)),!L)return!1;if(!s.current&&"changedTouches"in _&&(A||j)&&(s.current=O),!O)return!0;var U=s.current||O;return handleScroll(U,k,_,U==="h"?A:j)},[]),u=reactExports.useCallback(function(_){var k=_;if(!(!lockStack.length||lockStack[lockStack.length-1]!==o)){var I="deltaY"in k?getDeltaXY(k):getTouchXY(k),P=e.current.filter(function(O){return O.name===k.type&&(O.target===k.target||k.target===O.shadowParent)&&deltaCompare(O.delta,I)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var A=(a.current.shards||[]).map(extractRef).filter(Boolean).filter(function(O){return O.contains(k.target)}),j=A.length>0?c(k,A[0]):!a.current.noIsolation;j&&k.cancelable&&k.preventDefault()}}},[]),f=reactExports.useCallback(function(_,k,I,P){var A={name:_,delta:k,target:I,should:P,shadowParent:getOutermostShadowParent(I)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(j){return j!==A})},1)},[]),p=reactExports.useCallback(function(_){n.current=getTouchXY(_),s.current=void 0},[]),m=reactExports.useCallback(function(_){f(_.type,getDeltaXY(_),_.target,c(_,t.lockRef.current))},[]),x=reactExports.useCallback(function(_){f(_.type,getTouchXY(_),_.target,c(_,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",u,nonPassive),document.addEventListener("touchmove",u,nonPassive),document.addEventListener("touchstart",p,nonPassive),function(){lockStack=lockStack.filter(function(_){return _!==o}),document.removeEventListener("wheel",u,nonPassive),document.removeEventListener("touchmove",u,nonPassive),document.removeEventListener("touchstart",p,nonPassive)}},[]);var E=t.removeScrollBar,T=t.inert;return reactExports.createElement(reactExports.Fragment,null,T?reactExports.createElement(o,{styles:generateStyle(i)}):null,E?reactExports.createElement(RemoveScrollBar,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function getOutermostShadowParent(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,e){return reactExports.createElement(RemoveScroll,__assign$1({},t,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var POPOVER_NAME="Popover",[createPopoverContext,createPopoverScope]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope$1=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!1}=t,c=usePopperScope$1(e),u=reactExports.useRef(null),[f,p]=reactExports.useState(!1),[m,x]=useControllableState({prop:s,defaultProp:i??!1,onChange:o,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$3,{...c,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:e,contentId:useId$1(),triggerRef:u,open:m,onOpenChange:x,onOpenToggle:reactExports.useCallback(()=>x(E=>!E),[x]),hasCustomAnchor:f,onCustomAnchorAdd:reactExports.useCallback(()=>p(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>p(!1),[]),modal:a,children:n})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=usePopoverContext(ANCHOR_NAME,n),o=usePopperScope$1(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=i;return reactExports.useEffect(()=>(a(),()=>c()),[a,c]),jsxRuntimeExports.jsx(Anchor,{...o,...s,ref:e})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME$2="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=usePopoverContext(TRIGGER_NAME$2,n),o=usePopperScope$1(n),a=useComposedRefs(e,i.triggerRef),c=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":getState$1(i.open),...s,ref:a,onClick:composeEventHandlers(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...o,children:c})});PopoverTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="PopoverPortal",[PortalProvider,usePortalContext]=createPopoverContext(PORTAL_NAME$1,{forceMount:void 0}),PopoverPortal=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,o=usePopoverContext(PORTAL_NAME$1,e);return jsxRuntimeExports.jsx(PortalProvider,{scope:e,forceMount:n,children:jsxRuntimeExports.jsx(Presence,{present:n||o.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:i,children:s})})})};PopoverPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$2="PopoverContent",PopoverContent$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext(CONTENT_NAME$2,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,o=usePopoverContext(CONTENT_NAME$2,t.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:s||o.open,children:o.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...i,ref:e}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...i,ref:e})})});PopoverContent$1.displayName=CONTENT_NAME$2;var Slot$1=createSlot$2("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((t,e)=>{const n=usePopoverContext(CONTENT_NAME$2,t.__scopePopover),s=reactExports.useRef(null),i=useComposedRefs(e,s),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const a=s.current;if(a)return hideOthers(a)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(t.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((t,e)=>{const n=usePopoverContext(CONTENT_NAME$2,t.__scopePopover),s=reactExports.useRef(!1),i=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,...m}=t,x=usePopoverContext(CONTENT_NAME$2,n),E=usePopperScope$1(n);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$1,{"data-state":getState$1(x.open),role:"dialog",id:x.contentId,...E,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=usePopoverContext(CLOSE_NAME,n);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...s,ref:e,onClick:composeEventHandlers(t.onClick,()=>i.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME$1="PopoverArrow",PopoverArrow=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=usePopperScope$1(n);return jsxRuntimeExports.jsx(Arrow,{...i,...s,ref:e})});PopoverArrow.displayName=ARROW_NAME$1;function getState$1(t){return t?"open":"closed"}var Root2$2=Popover$1,Trigger$2=PopoverTrigger$1,Portal$1=PopoverPortal,Content2$1=PopoverContent$1;const Popover=Root2$2,PopoverTrigger=Trigger$2,PopoverContent=reactExports.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},i)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsx(Content2$1,{ref:i,align:e,sideOffset:n,className:cn$1("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));PopoverContent.displayName=Content2$1.displayName;function usePrevious$1(t){const e=reactExports.useRef({value:t,previous:t});return reactExports.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:o,required:a,disabled:c,value:u="on",onCheckedChange:f,form:p,...m}=t,[x,E]=reactExports.useState(null),T=useComposedRefs(e,A=>E(A)),_=reactExports.useRef(!1),k=x?p||!!x.closest("form"):!0,[I,P]=useControllableState({prop:i,defaultProp:o??!1,onChange:f,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:n,checked:I,disabled:c,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":I,"aria-required":a,"data-state":getState(I),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:T,onClick:composeEventHandlers(t.onClick,A=>{P(j=>!j),k&&(_.current=A.isPropagationStopped(),_.current||A.stopPropagation())})}),k&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:x,bubbles:!_.current,name:s,value:u,checked:I,required:a,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=useSwitchContext(THUMB_NAME,n);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME$1="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},o)=>{const a=reactExports.useRef(null),c=useComposedRefs(a,o),u=usePrevious$1(n),f=useSize(e);return reactExports.useEffect(()=>{const p=a.current;if(!p)return;const m=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&E){const T=new Event("click",{bubbles:s});E.call(p,n),p.dispatchEvent(T)}},[u,n,s]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getState(t){return t?"checked":"unchecked"}var Root$2=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Root$2,{className:cn$1("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:jsxRuntimeExports.jsx(Thumb,{className:cn$1("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root$2.displayName;function clamp(t,[e,n]){return Math.min(n,Math.max(e,t))}function createSlot$1(t){const e=createSlotClone$1(t),n=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s,c=reactExports.Children.toArray(o),u=c.find(isSlottable$1);if(u){const f=u.props.children,p=c.map(m=>m===u?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:m);return jsxRuntimeExports.jsx(e,{...a,ref:i,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,p):null})}return jsxRuntimeExports.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function createSlotClone$1(t){const e=reactExports.forwardRef((n,s)=>{const{children:i,...o}=n;if(reactExports.isValidElement(i)){const a=getElementRef$1(i),c=mergeProps$1(o,i.props);return i.type!==reactExports.Fragment&&(c.ref=s?composeRefs(s,a):a),reactExports.cloneElement(i,c)}return reactExports.Children.count(i)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function createCollection(t){const e=t+"CollectionProvider",[n,s]=createContextScope(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:k,children:I}=_,P=React.useRef(null),A=React.useRef(new Map).current;return jsxRuntimeExports.jsx(i,{scope:k,itemMap:A,collectionRef:P,children:I})};a.displayName=e;const c=t+"CollectionSlot",u=createSlot$1(c),f=React.forwardRef((_,k)=>{const{scope:I,children:P}=_,A=o(c,I),j=useComposedRefs(k,A.collectionRef);return jsxRuntimeExports.jsx(u,{ref:j,children:P})});f.displayName=c;const p=t+"CollectionItemSlot",m="data-radix-collection-item",x=createSlot$1(p),E=React.forwardRef((_,k)=>{const{scope:I,children:P,...A}=_,j=React.useRef(null),O=useComposedRefs(k,j),$=o(p,I);return React.useEffect(()=>($.itemMap.set(j,{ref:j,...A}),()=>void $.itemMap.delete(j))),jsxRuntimeExports.jsx(x,{[m]:"",ref:O,children:P})});E.displayName=p;function T(_){const k=o(t+"CollectionConsumer",_);return React.useCallback(()=>{const P=k.collectionRef.current;if(!P)return[];const A=Array.from(P.querySelectorAll(`[${m}]`));return Array.from(k.itemMap.values()).sort(($,V)=>A.indexOf($.ref.current)-A.indexOf(V.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:a,Slot:f,ItemSlot:E},T,s]}var DirectionContext=reactExports.createContext(void 0);function useDirection(t){const e=reactExports.useContext(DirectionContext);return t||e||"ltr"}function createSlot(t){const e=createSlotClone(t),n=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s,c=reactExports.Children.toArray(o),u=c.find(isSlottable);if(u){const f=u.props.children,p=c.map(m=>m===u?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:m);return jsxRuntimeExports.jsx(e,{...a,ref:i,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,p):null})}return jsxRuntimeExports.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function createSlotClone(t){const e=reactExports.forwardRef((n,s)=>{const{children:i,...o}=n;if(reactExports.isValidElement(i)){const a=getElementRef(i),c=mergeProps(o,i.props);return i.type!==reactExports.Fragment&&(c.ref=s?composeRefs(s,a):a),reactExports.cloneElement(i,c)}return reactExports.Children.count(i)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(t,e){const n={...e};for(const s in e){const i=t[s],o=e[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:o,value:a,defaultValue:c,onValueChange:u,dir:f,name:p,autoComplete:m,disabled:x,required:E,form:T}=t,_=usePopperScope(e),[k,I]=reactExports.useState(null),[P,A]=reactExports.useState(null),[j,O]=reactExports.useState(!1),$=useDirection(f),[V,L]=useControllableState({prop:s,defaultProp:i??!1,onChange:o,caller:SELECT_NAME}),[U,J]=useControllableState({prop:a,defaultProp:c,onChange:u,caller:SELECT_NAME}),Z=reactExports.useRef(null),Y=k?T||!!k.closest("form"):!0,[K,ke]=reactExports.useState(new Set),Re=Array.from(K).map(G=>G.props.value).join(";");return jsxRuntimeExports.jsx(Root2$3,{..._,children:jsxRuntimeExports.jsxs(SelectProvider,{required:E,scope:e,trigger:k,onTriggerChange:I,valueNode:P,onValueNodeChange:A,valueNodeHasChildren:j,onValueNodeHasChildrenChange:O,contentId:useId$1(),value:U,onValueChange:J,open:V,onOpenChange:L,dir:$,triggerPointerDownPosRef:Z,disabled:x,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:e,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:t.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(G=>{ke(q=>new Set(q).add(G))},[]),onNativeOptionRemove:reactExports.useCallback(G=>{ke(q=>{const M=new Set(q);return M.delete(G),M})},[]),children:n})}),Y?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:E,tabIndex:-1,name:p,autoComplete:m,value:U,onChange:G=>J(G.target.value),disabled:x,form:T,children:[U===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(K)]},Re):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,o=usePopperScope(n),a=useSelectContext(TRIGGER_NAME$1,n),c=a.disabled||s,u=useComposedRefs(e,a.onTriggerChange),f=useCollection$1(n),p=reactExports.useRef("touch"),[m,x,E]=useTypeaheadSearch(_=>{const k=f().filter(A=>!A.disabled),I=k.find(A=>A.value===a.value),P=findNextItem(k,_,I);P!==void 0&&a.onValueChange(P.value)}),T=_=>{c||(a.onOpenChange(!0),E()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...o,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":shouldShowPlaceholder(a.value)?"":void 0,...i,ref:u,onClick:composeEventHandlers(i.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&T(_)}),onPointerDown:composeEventHandlers(i.onPointerDown,_=>{p.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:composeEventHandlers(i.onKeyDown,_=>{const k=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(k&&_.key===" ")&&OPEN_KEYS.includes(_.key)&&(T(),_.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:a="",...c}=t,u=useSelectContext(VALUE_NAME,n),{onValueNodeHasChildrenChange:f}=u,p=o!==void 0,m=useComposedRefs(e,u.onValueNodeChange);return useLayoutEffect2(()=>{f(p)},[f,p]),jsxRuntimeExports.jsx(Primitive.span,{...c,ref:m,style:{pointerEvents:"none"},children:shouldShowPlaceholder(u.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a}):o})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=t=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...t});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME$1="SelectContent",SelectContent$1=reactExports.forwardRef((t,e)=>{const n=useSelectContext(CONTENT_NAME$1,t.__scopeSelect),[s,i]=reactExports.useState();if(useLayoutEffect2(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:t.children})})}),o):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...t,ref:e})});SelectContent$1.displayName=CONTENT_NAME$1;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$1),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:E,sticky:T,hideWhenDetached:_,avoidCollisions:k,...I}=t,P=useSelectContext(CONTENT_NAME$1,n),[A,j]=reactExports.useState(null),[O,$]=reactExports.useState(null),V=useComposedRefs(e,je=>j(je)),[L,U]=reactExports.useState(null),[J,Z]=reactExports.useState(null),Y=useCollection$1(n),[K,ke]=reactExports.useState(!1),Re=reactExports.useRef(!1);reactExports.useEffect(()=>{if(A)return hideOthers(A)},[A]),useFocusGuards();const G=reactExports.useCallback(je=>{const[Be,...We]=Y().map(ot=>ot.ref.current),[Ue]=We.slice(-1),Ze=document.activeElement;for(const ot of je)if(ot===Ze||(ot?.scrollIntoView({block:"nearest"}),ot===Be&&O&&(O.scrollTop=0),ot===Ue&&O&&(O.scrollTop=O.scrollHeight),ot?.focus(),document.activeElement!==Ze))return},[Y,O]),q=reactExports.useCallback(()=>G([L,A]),[G,L,A]);reactExports.useEffect(()=>{K&&q()},[K,q]);const{onOpenChange:M,triggerPointerDownPosRef:z}=P;reactExports.useEffect(()=>{if(A){let je={x:0,y:0};const Be=Ue=>{je={x:Math.abs(Math.round(Ue.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(z.current?.y??0))}},We=Ue=>{je.x<=10&&je.y<=10?Ue.preventDefault():A.contains(Ue.target)||M(!1),document.removeEventListener("pointermove",Be),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",We,{capture:!0})}}},[A,M,z]),reactExports.useEffect(()=>{const je=()=>M(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[M]);const[ee,W]=useTypeaheadSearch(je=>{const Be=Y().filter(Ze=>!Ze.disabled),We=Be.find(Ze=>Ze.ref.current===document.activeElement),Ue=findNextItem(Be,je,We);Ue&&setTimeout(()=>Ue.ref.current.focus())}),ie=reactExports.useCallback((je,Be,We)=>{const Ue=!Re.current&&!We;(P.value!==void 0&&P.value===Be||Ue)&&(U(je),Ue&&(Re.current=!0))},[P.value]),se=reactExports.useCallback(()=>A?.focus(),[A]),Pe=reactExports.useCallback((je,Be,We)=>{const Ue=!Re.current&&!We;(P.value!==void 0&&P.value===Be||Ue)&&Z(je)},[P.value]),Ne=s==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Oe=Ne===SelectPopperPosition?{side:c,sideOffset:u,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:E,sticky:T,hideWhenDetached:_,avoidCollisions:k}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:n,content:A,viewport:O,onViewportChange:$,itemRefCallback:ie,selectedItem:L,onItemLeave:se,itemTextRefCallback:Pe,focusSelectedItem:q,selectedItemText:J,position:s,isPositioned:K,searchRef:ee,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:P.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:composeEventHandlers(i,je=>{P.trigger?.focus({preventScroll:!0}),je.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:jsxRuntimeExports.jsx(Ne,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:je=>je.preventDefault(),...I,...Oe,onPlaced:()=>ke(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:composeEventHandlers(I.onKeyDown,je=>{const Be=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Be&&je.key.length===1&&W(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let Ue=Y().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(je.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Ze=je.target,ot=Ue.indexOf(Ze);Ue=Ue.slice(ot+1)}setTimeout(()=>G(Ue)),je.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,o=useSelectContext(CONTENT_NAME$1,n),a=useSelectContentContext(CONTENT_NAME$1,n),[c,u]=reactExports.useState(null),[f,p]=reactExports.useState(null),m=useComposedRefs(e,V=>p(V)),x=useCollection$1(n),E=reactExports.useRef(!1),T=reactExports.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:I,focusSelectedItem:P}=a,A=reactExports.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&f&&_&&k&&I){const V=o.trigger.getBoundingClientRect(),L=f.getBoundingClientRect(),U=o.valueNode.getBoundingClientRect(),J=I.getBoundingClientRect();if(o.dir!=="rtl"){const Ze=J.left-L.left,ot=U.left-Ze,Je=V.left-ot,He=V.width+Je,Ge=Math.max(He,L.width),at=window.innerWidth-CONTENT_MARGIN,et=clamp(ot,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,at-Ge)]);c.style.minWidth=He+"px",c.style.left=et+"px"}else{const Ze=L.right-J.right,ot=window.innerWidth-U.right-Ze,Je=window.innerWidth-V.right-ot,He=V.width+Je,Ge=Math.max(He,L.width),at=window.innerWidth-CONTENT_MARGIN,et=clamp(ot,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,at-Ge)]);c.style.minWidth=He+"px",c.style.right=et+"px"}const Z=x(),Y=window.innerHeight-CONTENT_MARGIN*2,K=_.scrollHeight,ke=window.getComputedStyle(f),Re=parseInt(ke.borderTopWidth,10),G=parseInt(ke.paddingTop,10),q=parseInt(ke.borderBottomWidth,10),M=parseInt(ke.paddingBottom,10),z=Re+G+K+M+q,ee=Math.min(k.offsetHeight*5,z),W=window.getComputedStyle(_),ie=parseInt(W.paddingTop,10),se=parseInt(W.paddingBottom,10),Pe=V.top+V.height/2-CONTENT_MARGIN,Ne=Y-Pe,Oe=k.offsetHeight/2,je=k.offsetTop+Oe,Be=Re+G+je,We=z-Be;if(Be<=Pe){const Ze=Z.length>0&&k===Z[Z.length-1].ref.current;c.style.bottom="0px";const ot=f.clientHeight-_.offsetTop-_.offsetHeight,Je=Math.max(Ne,Oe+(Ze?se:0)+ot+q),He=Be+Je;c.style.height=He+"px"}else{const Ze=Z.length>0&&k===Z[0].ref.current;c.style.top="0px";const Je=Math.max(Pe,Re+_.offsetTop+(Ze?ie:0)+Oe)+We;c.style.height=Je+"px",_.scrollTop=Be-Pe+_.offsetTop}c.style.margin=`${CONTENT_MARGIN}px 0`,c.style.minHeight=ee+"px",c.style.maxHeight=Y+"px",s?.(),requestAnimationFrame(()=>E.current=!0)}},[x,o.trigger,o.valueNode,c,f,_,k,I,o.dir,s]);useLayoutEffect2(()=>A(),[A]);const[j,O]=reactExports.useState();useLayoutEffect2(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const $=reactExports.useCallback(V=>{V&&T.current===!0&&(A(),P?.(),T.current=!1)},[A,P]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:$,children:jsxRuntimeExports.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:jsxRuntimeExports.jsx(Primitive.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=CONTENT_MARGIN,...o}=t,a=usePopperScope(n);return jsxRuntimeExports.jsx(Content$1,{...a,...o,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$1,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,o=useSelectContentContext(VIEWPORT_NAME,n),a=useSelectViewportContext(VIEWPORT_NAME,n),c=useComposedRefs(e,o.onViewportChange),u=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:n,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:composeEventHandlers(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=a;if(x?.current&&m){const E=Math.abs(u.current-p.scrollTop);if(E>0){const T=window.innerHeight-CONTENT_MARGIN*2,_=parseFloat(m.style.minHeight),k=parseFloat(m.style.height),I=Math.max(_,k);if(I<T){const P=I+E,A=Math.min(T,P),j=P-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=useId$1();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:n,id:i,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":i,...s,ref:e})})});SelectGroup.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=useSelectGroupContext(LABEL_NAME,n);return jsxRuntimeExports.jsx(Primitive.div,{id:i.id,...s,ref:e})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...a}=t,c=useSelectContext(ITEM_NAME$1,n),u=useSelectContentContext(ITEM_NAME$1,n),f=c.value===s,[p,m]=reactExports.useState(o??""),[x,E]=reactExports.useState(!1),T=useComposedRefs(e,P=>u.itemRefCallback?.(P,s,i)),_=useId$1(),k=reactExports.useRef("touch"),I=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:n,value:s,disabled:i,textId:_,isSelected:f,onItemTextChange:reactExports.useCallback(P=>{m(A=>A||(P?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:n,value:s,disabled:i,textValue:p,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:T,onFocus:composeEventHandlers(a.onFocus,()=>E(!0)),onBlur:composeEventHandlers(a.onBlur,()=>E(!1)),onClick:composeEventHandlers(a.onClick,()=>{k.current!=="mouse"&&I()}),onPointerUp:composeEventHandlers(a.onPointerUp,()=>{k.current==="mouse"&&I()}),onPointerDown:composeEventHandlers(a.onPointerDown,P=>{k.current=P.pointerType}),onPointerMove:composeEventHandlers(a.onPointerMove,P=>{k.current=P.pointerType,i?u.onItemLeave?.():k.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(a.onPointerLeave,P=>{P.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:composeEventHandlers(a.onKeyDown,P=>{u.searchRef?.current!==""&&P.key===" "||(SELECTION_KEYS.includes(P.key)&&I(),P.key===" "&&P.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...o}=t,a=useSelectContext(ITEM_TEXT_NAME,n),c=useSelectContentContext(ITEM_TEXT_NAME,n),u=useSelectItemContext(ITEM_TEXT_NAME,n),f=useSelectNativeOptionsContext(ITEM_TEXT_NAME,n),[p,m]=reactExports.useState(null),x=useComposedRefs(e,I=>m(I),u.onItemTextChange,I=>c.itemTextRefCallback?.(I,u.value,u.disabled)),E=p?.textContent,T=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:u.value,disabled:u.disabled,children:E},u.value),[u.disabled,u.value,E]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=f;return useLayoutEffect2(()=>(_(T),()=>k(T)),[_,k,T]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:u.textId,...o,ref:x}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?reactDomExports.createPortal(o.children,a.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return useSelectItemContext(ITEM_INDICATOR_NAME,n).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...s,ref:e}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((t,e)=>{const n=useSelectContentContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),s=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),[i,o]=reactExports.useState(!1),a=useComposedRefs(e,s.onScrollButtonChange);return useLayoutEffect2(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollTop>0;o(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((t,e)=>{const n=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),s=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),[i,o]=reactExports.useState(!1),a=useComposedRefs(e,s.onScrollButtonChange);return useLayoutEffect2(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;o(p)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,o=useSelectContentContext("SelectScrollButton",n),a=reactExports.useRef(null),c=useCollection$1(n),u=reactExports.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return reactExports.useEffect(()=>()=>u(),[u]),useLayoutEffect2(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:composeEventHandlers(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:composeEventHandlers(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:composeEventHandlers(i.onPointerLeave,()=>{u()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...s,ref:e})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=usePopperScope(n),o=useSelectContext(ARROW_NAME,n),a=useSelectContentContext(ARROW_NAME,n);return o.open&&a.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...i,...s,ref:e}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=reactExports.useRef(null),o=useComposedRefs(s,i),a=usePrevious$1(e);return reactExports.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[a,e]),jsxRuntimeExports.jsx(Primitive.select,{...n,style:{...VISUALLY_HIDDEN_STYLES,...n.style},ref:o,defaultValue:e})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME;function shouldShowPlaceholder(t){return t===""||t===void 0}function useTypeaheadSearch(t){const e=useCallbackRef$1(t),n=reactExports.useRef(""),s=reactExports.useRef(0),i=reactExports.useCallback(a=>{const c=n.current+a;e(c),(function u(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(c)},[e]),o=reactExports.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function findNextItem(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=wrapArray$1(t,Math.max(o,0));i.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function wrapArray$1(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2=SelectContent$1,Viewport=SelectViewport,Label=SelectLabel$1,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;const Select=Root2$1,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:t,children:e,...n},s)=>jsxRuntimeExports.jsxs(Trigger$1,{ref:s,className:cn$1("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$1.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:n,className:cn$1("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:n,className:cn$1("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{ref:i,className:cn$1("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn$1("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2.displayName;const SelectLabel=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Label,{ref:n,className:cn$1("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:t,children:e,...n},s)=>jsxRuntimeExports.jsxs(Item$1,{ref:s,className:cn$1("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:e})]}));SelectItem.displayName=Item$1.displayName;const SelectSeparator=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Separator,{ref:n,className:cn$1("-mx-1 my-1 h-px bg-muted",t),...e}));SelectSeparator.displayName=Separator.displayName;const RouteNotificationCard=({call:t,onClose:e,theme:n,index:s})=>{const i={URGENTE:"from-red-500 to-red-700",ALTA:"from-orange-500 to-orange-700",MEDIA:"from-yellow-500 to-yellow-700",BAIXA:"from-blue-500 to-blue-700"},o=i[t.urgency]||i.BAIXA;return jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:300,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.9},transition:{type:"spring",stiffness:300,damping:30,delay:s*.1},className:cn$1("fixed right-4 z-50 w-full max-w-sm",`top-${20+s*120}`),style:{top:`${20+s*120}px`},children:jsxRuntimeExports.jsxs("div",{className:cn$1("relative rounded-2xl border-2 shadow-2xl backdrop-blur-xl overflow-hidden",n==="dark"?"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 border-orange-500/50":"bg-white/95 border-orange-300/60"),style:{boxShadow:n==="dark"?"0 20px 40px -10px rgba(238, 77, 45, 0.4), 0 0 0 1px rgba(238, 77, 45, 0.2)":"0 20px 40px -10px rgba(238, 77, 45, 0.3), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsx("div",{className:cn$1("h-1.5 w-full bg-gradient-to-r",o)}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-2.5 rounded-xl",n==="dark"?"bg-orange-500/20 border border-orange-500/40":"bg-orange-100 border border-orange-300"),children:jsxRuntimeExports.jsx(CircleAlert,{size:24,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:cn$1("font-bold text-lg",n==="dark"?"text-white":"text-slate-900"),children:"Nova Rota Disponvel"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-orange-400":"text-orange-600"),children:t.urgency})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:cn$1("p-1.5 rounded-lg transition-all hover:scale-110",n==="dark"?"text-slate-400 hover:text-white hover:bg-slate-700/50":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"),"aria-label":"Fechar notificao",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[t.routeId&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(Package,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Rota ID"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-bold truncate",n==="dark"?"text-white":"text-slate-900"),children:t.routeId})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(User,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Solicitante"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-bold truncate",n==="dark"?"text-white":"text-slate-900"),children:t.solicitante.name})]})]}),t.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(MapPin,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Localizao"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-semibold truncate",n==="dark"?"text-white":"text-slate-900"),children:t.location})]})]}),t.packageCount&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(Package,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Pacotes"}),jsxRuntimeExports.jsxs("p",{className:cn$1("text-sm font-bold",n==="dark"?"text-white":"text-slate-900"),children:[t.packageCount," ",t.packageCount===1?"pacote":"pacotes"]})]})]}),t.deliveryRegions&&t.deliveryRegions.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(MapPin,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide mb-1",n==="dark"?"text-slate-400":"text-slate-600"),children:"Regies"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.deliveryRegions.slice(0,3).map((a,c)=>jsxRuntimeExports.jsx("span",{className:cn$1("px-2 py-1 rounded-lg text-xs font-semibold",n==="dark"?"bg-orange-500/20 text-orange-300 border border-orange-500/30":"bg-orange-100 text-orange-700 border border-orange-300"),children:a},c)),t.deliveryRegions.length>3&&jsxRuntimeExports.jsxs("span",{className:cn$1("px-2 py-1 rounded-lg text-xs font-semibold",n==="dark"?"bg-slate-700/50 text-slate-300":"bg-slate-100 text-slate-600"),children:["+",t.deliveryRegions.length-3]})]})]})]}),t.vehicleType&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(Truck,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Tipo de Veculo"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-semibold capitalize",n==="dark"?"text-white":"text-slate-900"),children:t.vehicleType})]})]}),t.hub&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-lg",n==="dark"?"bg-slate-800/60":"bg-orange-50"),children:jsxRuntimeExports.jsx(MapPin,{size:16,className:cn$1(n==="dark"?"text-orange-400":"text-orange-600")})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-medium uppercase tracking-wide",n==="dark"?"text-slate-400":"text-slate-600"),children:"Hub"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-semibold truncate",n==="dark"?"text-white":"text-slate-900"),children:t.hub.split("_").pop()||t.hub})]})]}),t.isBulky&&jsxRuntimeExports.jsx("div",{className:cn$1("px-3 py-2 rounded-lg text-xs font-bold uppercase tracking-wide",n==="dark"?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-red-100 text-red-700 border border-red-300"),children:" Carga Volumosa"})]})]})]})})})},resetAllDrivers=async()=>{try{console.log("Iniciando reset de cadastros de motoristas...");const t=collection(db,"motoristas_pre_aprovados"),e=await getDocs(t);if(e.empty)return{success:!0,message:"Nenhum motorista encontrado para resetar.",resetCount:0};const n=e.docs;let s=0;const i=500;for(let o=0;o<n.length;o+=i){const a=writeBatch(db);n.slice(o,o+i).forEach(u=>{const f=u.data(),p={name:f.name||"",phone:f.phone||"",hub:f.hub||"",vehicleType:f.vehicleType||"",birthDate:f.birthDate||"",avatar:f.avatar||"",shopeeId:f.shopeeId||u.id,status:f.status||"DISPONIVEL",availability:f.availability!==void 0?f.availability:!0};f.createdAt&&(p.createdAt=f.createdAt);const m=doc(db,"motoristas_pre_aprovados",u.id);a.update(m,{...p,uid:deleteField(),googleUid:deleteField(),email:deleteField()}),s++}),await a.commit(),console.log(`Batch processado: ${s} motorista(s) resetado(s) at agora...`)}return console.log(`Reset concludo! ${s} motorista(s) resetado(s).`),{success:!0,message:`Reset concludo com sucesso! ${s} motorista(s) resetado(s).`,resetCount:s}}catch(t){return console.error("Erro ao resetar motoristas:",t),{success:!1,message:`Erro ao resetar: ${t.message}`,resetCount:0}}},HUB_CITY_MAP={"LM Hub_PR_Maringa":{city:"Maring",state:"PR",country:"BR"},"LM Hub_PR_Londrina":{city:"Londrina",state:"PR",country:"BR"},"LM Hub_PR_Cascavel":{city:"Cascavel",state:"PR",country:"BR"},"LM Hub_PR_Foz do Iguau":{city:"Foz do Iguau",state:"PR",country:"BR"},"LM Hub_PR_Toledo":{city:"Toledo",state:"PR",country:"BR"},"LM Hub_PR_Pato Branco":{city:"Pato Branco",state:"PR",country:"BR"},"LM Hub_PR_Umuarama":{city:"Umuarama",state:"PR",country:"BR"},"LM Hub_PR_Curitiba":{city:"Curitiba",state:"PR",country:"BR"},"LM Hub_PR_Pinhais":{city:"Pinhais",state:"PR",country:"BR"},"LM Hub_PR_Sao Jose dos Pinhais":{city:"So Jos dos Pinhais",state:"PR",country:"BR"}},getCityFromHub=t=>HUB_CITY_MAP[t]||null,fetchWeatherForecast=async t=>{const e=getCityFromHub(t);if(!e)return console.warn(`Hub no encontrado no mapeamento: ${t}`),null;try{const n=new AbortController,s=setTimeout(()=>n.abort(),5e3);try{const i=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(e.city)}&count=1&language=pt&format=json`,{signal:n.signal});if(clearTimeout(s),!i.ok)return getMockWeatherForecast(e);const o=await i.json();if(!o.results||o.results.length===0)return getMockWeatherForecast(e);const{latitude:a,longitude:c}=o.results[0],u=new AbortController,f=setTimeout(()=>u.abort(),5e3);try{const p=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${a}&longitude=${c}&daily=temperature_2m_max,temperature_2m_min,weather_code&timezone=America/Sao_Paulo&forecast_days=7`,{signal:u.signal});if(clearTimeout(f),!p.ok)return getMockWeatherForecast(e);const m=await p.json(),x={0:{condition:"Cu limpo",icon:"",description:"Ensolarado"},1:{condition:"Principalmente limpo",icon:"",description:"Parcialmente nublado"},2:{condition:"Parcialmente nublado",icon:"",description:"Nublado"},3:{condition:"Nublado",icon:"",description:"Nublado"},45:{condition:"Neblina",icon:"",description:"Neblina"},48:{condition:"Neblina",icon:"",description:"Neblina"},51:{condition:"Chuva leve",icon:"",description:"Chuva leve"},53:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},55:{condition:"Chuva forte",icon:"",description:"Chuva forte"},61:{condition:"Chuva leve",icon:"",description:"Chuva leve"},63:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},65:{condition:"Chuva forte",icon:"",description:"Chuva forte"},71:{condition:"Neve leve",icon:"",description:"Neve leve"},73:{condition:"Neve moderada",icon:"",description:"Neve moderada"},75:{condition:"Neve forte",icon:"",description:"Neve forte"},80:{condition:"Chuva leve",icon:"",description:"Chuva leve"},81:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},82:{condition:"Chuva forte",icon:"",description:"Chuva forte"},85:{condition:"Neve",icon:"",description:"Neve"},86:{condition:"Neve",icon:"",description:"Neve"},95:{condition:"Tempestade",icon:"",description:"Tempestade"},96:{condition:"Tempestade com granizo",icon:"",description:"Tempestade"},99:{condition:"Tempestade com granizo",icon:"",description:"Tempestade"}},E=m.daily.time.map((T,_)=>{const k=new Date(T),P=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][k.getDay()],A=m.daily.weather_code[_],j=x[A]||{condition:"Desconhecido",icon:"",description:"Desconhecido"};return{date:T,day:P,temp:{min:Math.round(m.daily.temperature_2m_min[_]),max:Math.round(m.daily.temperature_2m_max[_])},condition:j.condition,icon:j.icon,description:j.description}});return{city:e.city,state:e.state,forecast:E}}catch(p){return clearTimeout(f),p.name==="AbortError"?console.warn("Timeout ao buscar previso do tempo"):console.error("Erro ao buscar previso do tempo:",p),getMockWeatherForecast(e)}}catch(i){return clearTimeout(s),i.name==="AbortError"?console.warn("Timeout ao buscar coordenadas"):console.error("Erro ao buscar coordenadas:",i),getMockWeatherForecast(e)}}catch(n){return console.error("Erro ao buscar previso do tempo:",n),getMockWeatherForecast(e)}},fetchHourlyWeather=async(t,e)=>{const n=getCityFromHub(t);if(!n)return console.warn(`Hub no encontrado no mapeamento: ${t}`),null;try{const s=new AbortController,i=setTimeout(()=>s.abort(),5e3);try{const o=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(n.city)}&count=1&language=pt&format=json`,{signal:s.signal});if(clearTimeout(i),!o.ok)return getMockDayDetails(n,e);const a=await o.json();if(!a.results||a.results.length===0)return getMockDayDetails(n,e);const{latitude:c,longitude:u}=a.results[0],f=new Date(e),p=f.toISOString().split("T")[0],m=new Date(f);m.setDate(f.getDate()+1);const x=m.toISOString().split("T")[0],E=new AbortController,T=setTimeout(()=>E.abort(),5e3);try{const _=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${c}&longitude=${u}&hourly=temperature_2m,weather_code&timezone=America/Sao_Paulo&start_date=${p}&end_date=${x}`,{signal:E.signal});if(clearTimeout(T),!_.ok)return getMockDayDetails(n,e);const k=await _.json(),I={0:{condition:"Cu limpo",icon:"",description:"Ensolarado"},1:{condition:"Principalmente limpo",icon:"",description:"Parcialmente nublado"},2:{condition:"Parcialmente nublado",icon:"",description:"Nublado"},3:{condition:"Nublado",icon:"",description:"Nublado"},45:{condition:"Neblina",icon:"",description:"Neblina"},48:{condition:"Neblina",icon:"",description:"Neblina"},51:{condition:"Chuva leve",icon:"",description:"Chuva leve"},53:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},55:{condition:"Chuva forte",icon:"",description:"Chuva forte"},61:{condition:"Chuva leve",icon:"",description:"Chuva leve"},63:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},65:{condition:"Chuva forte",icon:"",description:"Chuva forte"},71:{condition:"Neve leve",icon:"",description:"Neve leve"},73:{condition:"Neve moderada",icon:"",description:"Neve moderada"},75:{condition:"Neve forte",icon:"",description:"Neve forte"},80:{condition:"Chuva leve",icon:"",description:"Chuva leve"},81:{condition:"Chuva moderada",icon:"",description:"Chuva moderada"},82:{condition:"Chuva forte",icon:"",description:"Chuva forte"},85:{condition:"Neve",icon:"",description:"Neve"},86:{condition:"Neve",icon:"",description:"Neve"},95:{condition:"Tempestade",icon:"",description:"Tempestade"},96:{condition:"Tempestade com granizo",icon:"",description:"Tempestade"},99:{condition:"Tempestade com granizo",icon:"",description:"Tempestade"}},P=[],A=f.toISOString().split("T")[0];k.hourly&&k.hourly.time&&k.hourly.time.forEach((K,ke)=>{if(K.startsWith(A)){const G=new Date(K).getHours(),q=k.hourly.weather_code[ke],M=I[q]||{condition:"Desconhecido",icon:"",description:"Desconhecido"};P.push({time:K,hour:`${G.toString().padStart(2,"0")}:00`,temperature:Math.round(k.hourly.temperature_2m[ke]),condition:M.condition,icon:M.icon,description:M.description,weatherCode:q})}});const j=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${c}&longitude=${u}&daily=temperature_2m_max,temperature_2m_min,weather_code&timezone=America/Sao_Paulo&start_date=${p}&end_date=${p}`,{signal:E.signal});let O=P.length>0?Math.min(...P.map(K=>K.temperature)):15,$=P.length>0?Math.max(...P.map(K=>K.temperature)):25,V="Cu limpo",L="",U="Ensolarado";if(j.ok){const K=await j.json();if(K.daily&&K.daily.time&&K.daily.time[0]===p){O=Math.round(K.daily.temperature_2m_min[0]),$=Math.round(K.daily.temperature_2m_max[0]);const ke=K.daily.weather_code[0],Re=I[ke]||{condition:"Cu limpo",icon:"",description:"Ensolarado"};V=Re.condition,L=Re.icon,U=Re.description}}const J=new Date(e),Y=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][J.getDay()];return{date:e,day:Y,temp:{min:O,max:$},condition:V,icon:L,description:U,hourly:P}}catch(_){return clearTimeout(T),_.name==="AbortError"?console.warn("Timeout ao buscar previso hora a hora"):console.error("Erro ao buscar previso hora a hora:",_),getMockDayDetails(n,e)}}catch(o){return clearTimeout(i),o.name==="AbortError"?console.warn("Timeout ao buscar coordenadas"):console.error("Erro ao buscar coordenadas:",o),getMockDayDetails(n,e)}}catch(s){return console.error("Erro ao buscar previso hora a hora:",s),getMockDayDetails(n,e)}},getMockDayDetails=(t,e)=>{const n=new Date(e),i=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][n.getDay()],o=Math.floor(Math.random()*10)+15,a=Math.floor(Math.random()*10)+22,c=[{condition:"Cu limpo",icon:"",description:"Ensolarado"},{condition:"Parcialmente nublado",icon:"",description:"Parcialmente nublado"},{condition:"Nublado",icon:"",description:"Nublado"},{condition:"Chuva leve",icon:"",description:"Chuva leve"}],u=c[Math.floor(Math.random()*c.length)],f=Array.from({length:24},(p,m)=>{const x=Math.floor(Math.random()*8)-4,E=Math.round((o+a)/2+x),T=c[Math.floor(Math.random()*c.length)];return{time:`${e}T${m.toString().padStart(2,"0")}:00:00`,hour:`${m.toString().padStart(2,"0")}:00`,temperature:E,condition:T.condition,icon:T.icon,description:T.description,weatherCode:0}});return{date:e,day:i,temp:{min:o,max:a},condition:u.condition,icon:u.icon,description:u.description,hourly:f}},getMockWeatherForecast=t=>{const e=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],n=new Date,s=Array.from({length:7},(i,o)=>{const a=new Date(n);a.setDate(n.getDate()+o);const c=e[a.getDay()],u=Math.floor(Math.random()*10)+15,f=Math.floor(Math.random()*10)+22,p=[{condition:"Cu limpo",icon:"",description:"Ensolarado"},{condition:"Parcialmente nublado",icon:"",description:"Parcialmente nublado"},{condition:"Nublado",icon:"",description:"Nublado"},{condition:"Chuva leve",icon:"",description:"Chuva leve"}],m=p[Math.floor(Math.random()*p.length)];return{date:a.toISOString().split("T")[0],day:c,temp:{min:u,max:f},condition:m.condition,icon:m.icon,description:m.description}});return{city:t.city,state:t.state,forecast:s}};function useCombinedRefs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return reactExports.useMemo(()=>s=>{e.forEach(i=>i(s))},e)}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function isNode(t){return"nodeType"in t}function getWindow(t){var e,n;return t?isWindow(t)?t:isNode(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function isDocument(t){const{Document:e}=getWindow(t);return t instanceof e}function isHTMLElement(t){return isWindow(t)?!1:t instanceof getWindow(t).HTMLElement}function isSVGElement(t){return t instanceof getWindow(t).SVGElement}function getOwnerDocument(t){return t?isWindow(t)?t.document:isNode(t)?isDocument(t)?t:isHTMLElement(t)||isSVGElement(t)?t.ownerDocument:document:document:document}const useIsomorphicLayoutEffect$1=canUseDOM$1?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(t){const e=reactExports.useRef(t);return useIsomorphicLayoutEffect$1(()=>{e.current=t}),reactExports.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e.current==null?void 0:e.current(...s)},[])}function useInterval(){const t=reactExports.useRef(null),e=reactExports.useCallback((s,i)=>{t.current=setInterval(s,i)},[]),n=reactExports.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function useLatestValue(t,e){e===void 0&&(e=[t]);const n=reactExports.useRef(t);return useIsomorphicLayoutEffect$1(()=>{n.current!==t&&(n.current=t)},e),n}function useLazyMemo(t,e){const n=reactExports.useRef();return reactExports.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function useNodeRef(t){const e=useEvent(t),n=reactExports.useRef(null),s=reactExports.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,s]}function usePrevious(t){const e=reactExports.useRef();return reactExports.useEffect(()=>{e.current=t},[t]),e.current}let ids={};function useUniqueId(t,e){return reactExports.useMemo(()=>{if(e)return e;const n=ids[t]==null?0:ids[t]+1;return ids[t]=n,t+"-"+n},[t,e])}function createAdjustmentFn(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>{const c=Object.entries(a);for(const[u,f]of c){const p=o[u];p!=null&&(o[u]=p+t*f)}return o},{...e})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(t){return"clientX"in t&&"clientY"in t}function isKeyboardEvent(t){if(!t)return!1;const{KeyboardEvent:e}=getWindow(t.target);return e&&t instanceof e}function isTouchEvent(t){if(!t)return!1;const{TouchEvent:e}=getWindow(t.target);return e&&t instanceof e}function getEventCoordinates(t){if(isTouchEvent(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return hasViewportRelativeCoordinates(t)?{x:t.clientX,y:t.clientY}:null}const CSS$1=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[CSS$1.Translate.toString(t),CSS$1.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(t){return t.matches(SELECTOR)?t:t.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(t){let{id:e,value:n}=t;return React.createElement("div",{id:e,style:hiddenStyles},n)}function LiveRegion(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React.createElement("div",{id:e,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function useAnnouncement(){const[t,e]=reactExports.useState("");return{announce:reactExports.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(t){const e=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function useDndMonitorProvider(){const[t]=reactExports.useState(()=>new Set),e=reactExports.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[reactExports.useCallback(s=>{let{type:i,event:o}=s;t.forEach(a=>{var c;return(c=a[i])==null?void 0:c.call(a,o)})},[t]),e]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Accessibility(t){let{announcements:e=defaultAnnouncements,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=defaultScreenReaderInstructions}=t;const{announce:o,announcement:a}=useAnnouncement(),c=useUniqueId("DndLiveRegion"),[u,f]=reactExports.useState(!1);if(reactExports.useEffect(()=>{f(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(m){let{active:x}=m;o(e.onDragStart({active:x}))},onDragMove(m){let{active:x,over:E}=m;e.onDragMove&&o(e.onDragMove({active:x,over:E}))},onDragOver(m){let{active:x,over:E}=m;o(e.onDragOver({active:x,over:E}))},onDragEnd(m){let{active:x,over:E}=m;o(e.onDragEnd({active:x,over:E}))},onDragCancel(m){let{active:x,over:E}=m;o(e.onDragCancel({active:x,over:E}))}}),[o,e])),!u)return null;const p=React.createElement(React.Fragment,null,React.createElement(HiddenText,{id:s,value:i.draggable}),React.createElement(LiveRegion,{id:c,announcement:a}));return n?reactDomExports.createPortal(p,n):p}var Action;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop(){}function useSensor(t,e){return reactExports.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function useSensors(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return reactExports.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sortCollisionsAsc(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function sortCollisionsDesc(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function cornersOfRectangle(t){let{left:e,top:n,height:s,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+s},{x:e+i,y:n+s}]}function getFirstCollision(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function centerOfRectangle(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const closestCenter=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const i=centerOfRectangle(e,e.left,e.top),o=[];for(const a of s){const{id:c}=a,u=n.get(c);if(u){const f=distanceBetween(centerOfRectangle(u),i);o.push({id:c,data:{droppableContainer:a,value:f}})}}return o.sort(sortCollisionsAsc)},closestCorners=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const i=cornersOfRectangle(e),o=[];for(const a of s){const{id:c}=a,u=n.get(c);if(u){const f=cornersOfRectangle(u),p=i.reduce((x,E,T)=>x+distanceBetween(f[T],E),0),m=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:a,value:m}})}}return o.sort(sortCollisionsAsc)};function getIntersectionRatio(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=i-s,c=o-n;if(s<i&&n<o){const u=e.width*e.height,f=t.width*t.height,p=a*c,m=p/(u+f-p);return Number(m.toFixed(4))}return 0}const rectIntersection=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const i=[];for(const o of s){const{id:a}=o,c=n.get(a);if(c){const u=getIntersectionRatio(c,e);u>0&&i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(sortCollisionsDesc)};function adjustScale(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function getRectDelta(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:defaultCoordinates}function createRectAdjustmentFn(t){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return i.reduce((a,c)=>({...a,top:a.top+t*c.y,bottom:a.bottom+t*c.y,left:a.left+t*c.x,right:a.right+t*c.x}),{...n})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function inverseTransform(t,e,n){const s=parseTransform(e);if(!s)return t;const{scaleX:i,scaleY:o,x:a,y:c}=s,u=t.left-a-(1-i)*parseFloat(n),f=t.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,m=o?t.height/o:t.height;return{width:p,height:m,top:f,right:u+p,bottom:f+m,left:u}}const defaultOptions={ignoreTransform:!1};function getClientRect(t,e){e===void 0&&(e=defaultOptions);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:p}=getWindow(t).getComputedStyle(t);f&&(n=inverseTransform(n,f,p))}const{top:s,left:i,width:o,height:a,bottom:c,right:u}=n;return{top:s,left:i,width:o,height:a,bottom:c,right:u}}function getTransformAgnosticClientRect(t){return getClientRect(t,{ignoreTransform:!0})}function getWindowClientRect(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function isFixed(t,e){return e===void 0&&(e=getWindow(t).getComputedStyle(t)),e.position==="fixed"}function isScrollable(t,e){e===void 0&&(e=getWindow(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function getScrollableAncestors(t,e){const n=[];function s(i){if(e!=null&&n.length>=e||!i)return n;if(isDocument(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!isHTMLElement(i)||isSVGElement(i)||n.includes(i))return n;const o=getWindow(t).getComputedStyle(i);return i!==t&&isScrollable(i,o)&&n.push(i),isFixed(i,o)?n:s(i.parentNode)}return t?s(t):n}function getFirstScrollableAncestor(t){const[e]=getScrollableAncestors(t,1);return e??null}function getScrollableElement(t){return!canUseDOM$1||!t?null:isWindow(t)?t:isNode(t)?isDocument(t)||t===getOwnerDocument(t).scrollingElement?window:isHTMLElement(t)?t:null:null}function getScrollXCoordinate(t){return isWindow(t)?t.scrollX:t.scrollLeft}function getScrollYCoordinate(t){return isWindow(t)?t.scrollY:t.scrollTop}function getScrollCoordinates(t){return{x:getScrollXCoordinate(t),y:getScrollYCoordinate(t)}}var Direction;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(t){return!canUseDOM$1||!t?!1:t===document.scrollingElement}function getScrollPosition(t){const e={x:0,y:0},n=isDocumentScrollingElement(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=s.y,c=t.scrollLeft>=s.x;return{isTop:i,isLeft:o,isBottom:a,isRight:c,maxScroll:s,minScroll:e}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(t,e,n,s,i){let{top:o,left:a,right:c,bottom:u}=n;s===void 0&&(s=10),i===void 0&&(i=defaultThreshold);const{isTop:f,isBottom:p,isLeft:m,isRight:x}=getScrollPosition(t),E={x:0,y:0},T={x:0,y:0},_={height:e.height*i.y,width:e.width*i.x};return!f&&o<=e.top+_.height?(E.y=Direction.Backward,T.y=s*Math.abs((e.top+_.height-o)/_.height)):!p&&u>=e.bottom-_.height&&(E.y=Direction.Forward,T.y=s*Math.abs((e.bottom-_.height-u)/_.height)),!x&&c>=e.right-_.width?(E.x=Direction.Forward,T.x=s*Math.abs((e.right-_.width-c)/_.width)):!m&&a<=e.left+_.width&&(E.x=Direction.Backward,T.x=s*Math.abs((e.left+_.width-a)/_.width)),{direction:E,speed:T}}function getScrollElementRect(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:s,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:i,width:t.clientWidth,height:t.clientHeight}}function getScrollOffsets(t){return t.reduce((e,n)=>add(e,getScrollCoordinates(n)),defaultCoordinates)}function getScrollXOffset(t){return t.reduce((e,n)=>e+getScrollXCoordinate(n),0)}function getScrollYOffset(t){return t.reduce((e,n)=>e+getScrollYCoordinate(n),0)}function scrollIntoViewIfNeeded(t,e){if(e===void 0&&(e=getClientRect),!t)return;const{top:n,left:s,bottom:i,right:o}=e(t);getFirstScrollableAncestor(t)&&(i<=0||o<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=getScrollableAncestors(n),i=getScrollOffsets(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,c]of properties)for(const u of a)Object.defineProperty(this,u,{get:()=>{const f=c(s),p=i[o]-f;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var i;(i=this.target)==null||i.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function getEventListenerTarget(t){const{EventTarget:e}=getWindow(t);return t instanceof e?t:getOwnerDocument(t)}function hasExceededDistance(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var EventName;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(t){t.preventDefault()}function stopPropagation(t){t.stopPropagation()}var KeyboardCode;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case KeyboardCode.Right:return{...n,x:n.x+25};case KeyboardCode.Left:return{...n,x:n.x-25};case KeyboardCode.Down:return{...n,y:n.y+25};case KeyboardCode.Up:return{...n,y:n.y-25}}};class KeyboardSensor{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Listeners(getOwnerDocument(n)),this.windowListeners=new Listeners(getWindow(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&scrollIntoViewIfNeeded(s),n(defaultCoordinates)}handleKeyDown(e){if(isKeyboardEvent(e)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:o=defaultKeyboardCodes,coordinateGetter:a=defaultKeyboardCoordinateGetter,scrollBehavior:c="smooth"}=i,{code:u}=e;if(o.end.includes(u)){this.handleEnd(e);return}if(o.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:f}=s.current,p=f?{x:f.left,y:f.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=p);const m=a(e,{active:n,context:s.current,currentCoordinates:p});if(m){const x=subtract(m,p),E={x:0,y:0},{scrollableAncestors:T}=s.current;for(const _ of T){const k=e.code,{isTop:I,isRight:P,isLeft:A,isBottom:j,maxScroll:O,minScroll:$}=getScrollPosition(_),V=getScrollElementRect(_),L={x:Math.min(k===KeyboardCode.Right?V.right-V.width/2:V.right,Math.max(k===KeyboardCode.Right?V.left:V.left+V.width/2,m.x)),y:Math.min(k===KeyboardCode.Down?V.bottom-V.height/2:V.bottom,Math.max(k===KeyboardCode.Down?V.top:V.top+V.height/2,m.y))},U=k===KeyboardCode.Right&&!P||k===KeyboardCode.Left&&!A,J=k===KeyboardCode.Down&&!j||k===KeyboardCode.Up&&!I;if(U&&L.x!==m.x){const Z=_.scrollLeft+x.x,Y=k===KeyboardCode.Right&&Z<=O.x||k===KeyboardCode.Left&&Z>=$.x;if(Y&&!x.y){_.scrollTo({left:Z,behavior:c});return}Y?E.x=_.scrollLeft-Z:E.x=k===KeyboardCode.Right?_.scrollLeft-O.x:_.scrollLeft-$.x,E.x&&_.scrollBy({left:-E.x,behavior:c});break}else if(J&&L.y!==m.y){const Z=_.scrollTop+x.y,Y=k===KeyboardCode.Down&&Z<=O.y||k===KeyboardCode.Up&&Z>=$.y;if(Y&&!x.x){_.scrollTo({top:Z,behavior:c});return}Y?E.y=_.scrollTop-Z:E.y=k===KeyboardCode.Down?_.scrollTop-O.y:_.scrollTop-$.y,E.y&&_.scrollBy({top:-E.y,behavior:c});break}}this.handleMove(e,add(subtract(m,this.referenceCoordinates),E))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=defaultKeyboardCodes,onActivation:i}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(s.start.includes(a)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(t){return!!(t&&"distance"in t)}function isDelayConstraint(t){return!!(t&&"delay"in t)}class AbstractPointerSensor{constructor(e,n,s){var i;s===void 0&&(s=getEventListenerTarget(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=getOwnerDocument(a),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(s),this.windowListeners=new Listeners(getWindow(a)),this.initialCoordinates=(i=getEventCoordinates(o))!=null?i:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(isDistanceConstraint(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:i}=this.props;i(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:c}}=o;if(!i)return;const u=(n=getEventCoordinates(e))!=null?n:defaultCoordinates,f=subtract(i,u);if(!s&&c){if(isDistanceConstraint(c)){if(c.tolerance!=null&&hasExceededDistance(f,c.tolerance))return this.handleCancel();if(hasExceededDistance(f,c.distance))return this.handleStart()}if(isDelayConstraint(c)&&hasExceededDistance(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(e){const{event:n}=e,s=getOwnerDocument(n.target);super(e,events,s)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(t){t[t.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(e){super(e,events$1,getOwnerDocument(e.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===MouseButton.RightClick?!1:(s?.({event:n}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(e){super(e,events$2)}static setup(){return window.addEventListener(events$2.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,e)};function e(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:i}=n;return i.length>1?!1:(s?.({event:n}),!0)}}];var AutoScrollActivator;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(t){let{acceleration:e,activator:n=AutoScrollActivator.Pointer,canScroll:s,draggingRect:i,enabled:o,interval:a=5,order:c=TraversalOrder.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:x}=t;const E=useScrollIntent({delta:m,disabled:!o}),[T,_]=useInterval(),k=reactExports.useRef({x:0,y:0}),I=reactExports.useRef({x:0,y:0}),P=reactExports.useMemo(()=>{switch(n){case AutoScrollActivator.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case AutoScrollActivator.DraggableRect:return i}},[n,i,u]),A=reactExports.useRef(null),j=reactExports.useCallback(()=>{const $=A.current;if(!$)return;const V=k.current.x*I.current.x,L=k.current.y*I.current.y;$.scrollBy(V,L)},[]),O=reactExports.useMemo(()=>c===TraversalOrder.TreeOrder?[...f].reverse():f,[c,f]);reactExports.useEffect(()=>{if(!o||!f.length||!P){_();return}for(const $ of O){if(s?.($)===!1)continue;const V=f.indexOf($),L=p[V];if(!L)continue;const{direction:U,speed:J}=getScrollDirectionAndSpeed($,L,P,e,x);for(const Z of["x","y"])E[Z][U[Z]]||(J[Z]=0,U[Z]=0);if(J.x>0||J.y>0){_(),A.current=$,T(j,a),k.current=J,I.current=U;return}}k.current={x:0,y:0},I.current={x:0,y:0},_()},[e,j,s,_,o,a,JSON.stringify(P),JSON.stringify(E),T,f,O,p,JSON.stringify(x)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(t){let{delta:e,disabled:n}=t;const s=usePrevious(e);return useLazyMemo(i=>{if(n||!s||!i)return defaultScrollIntent;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Direction.Backward]:i.x[Direction.Backward]||o.x===-1,[Direction.Forward]:i.x[Direction.Forward]||o.x===1},y:{[Direction.Backward]:i.y[Direction.Backward]||o.y===-1,[Direction.Forward]:i.y[Direction.Forward]||o.y===1}}},[n,e,s])}function useCachedNode(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return useLazyMemo(i=>{var o;return e==null?null:(o=s??i)!=null?o:null},[s,e])}function useCombineActivators(t,e){return reactExports.useMemo(()=>t.reduce((n,s)=>{const{sensor:i}=s,o=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,s)}));return[...n,...o]},[]),[t,e])}var MeasuringStrategy;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(t){t.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(t,e){let{dragging:n,dependencies:s,config:i}=e;const[o,a]=reactExports.useState(null),{frequency:c,measure:u,strategy:f}=i,p=reactExports.useRef(t),m=k(),x=useLatestValue(m),E=reactExports.useCallback(function(I){I===void 0&&(I=[]),!x.current&&a(P=>P===null?I:P.concat(I.filter(A=>!P.includes(A))))},[x]),T=reactExports.useRef(null),_=useLazyMemo(I=>{if(m&&!n)return defaultValue;if(!I||I===defaultValue||p.current!==t||o!=null){const P=new Map;for(let A of t){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){P.set(A.id,A.rect.current);continue}const j=A.node.current,O=j?new Rect(u(j),j):null;A.rect.current=O,O&&P.set(A.id,O)}return P}return I},[t,o,n,m,u]);return reactExports.useEffect(()=>{p.current=t},[t]),reactExports.useEffect(()=>{m||E()},[n,m]),reactExports.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),reactExports.useEffect(()=>{m||typeof c!="number"||T.current!==null||(T.current=setTimeout(()=>{E(),T.current=null},c))},[c,m,E,...s]),{droppableRects:_,measureDroppableContainers:E,measuringScheduled:o!=null};function k(){switch(f){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return n;default:return!n}}}function useInitialValue(t,e){return useLazyMemo(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function useInitialRect(t,e){return useInitialValue(t,e)}function useMutationObserver(t){let{callback:e,disabled:n}=t;const s=useEvent(e),i=reactExports.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,n]);return reactExports.useEffect(()=>()=>i?.disconnect(),[i]),i}function useResizeObserver(t){let{callback:e,disabled:n}=t;const s=useEvent(e),i=reactExports.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[n]);return reactExports.useEffect(()=>()=>i?.disconnect(),[i]),i}function defaultMeasure(t){return new Rect(getClientRect(t),t)}function useRect(t,e,n){e===void 0&&(e=defaultMeasure);const[s,i]=reactExports.useState(null);function o(){i(u=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=u??n)!=null?f:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=useMutationObserver({callback(u){if(t)for(const f of u){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(t)){o();break}}}}),c=useResizeObserver({callback:o});return useIsomorphicLayoutEffect$1(()=>{o(),t?(c?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[t]),s}function useRectDelta(t){const e=useInitialValue(t);return getRectDelta(t,e)}const defaultValue$1=[];function useScrollableAncestors(t){const e=reactExports.useRef(t),n=useLazyMemo(s=>t?s&&s!==defaultValue$1&&t&&e.current&&t.parentNode===e.current.parentNode?s:getScrollableAncestors(t):defaultValue$1,[t]);return reactExports.useEffect(()=>{e.current=t},[t]),n}function useScrollOffsets(t){const[e,n]=reactExports.useState(null),s=reactExports.useRef(t),i=reactExports.useCallback(o=>{const a=getScrollableElement(o.target);a&&n(c=>c?(c.set(a,getScrollCoordinates(a)),new Map(c)):null)},[]);return reactExports.useEffect(()=>{const o=s.current;if(t!==o){a(o);const c=t.map(u=>{const f=getScrollableElement(u);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,getScrollCoordinates(f)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),s.current=t}return()=>{a(t),a(o)};function a(c){c.forEach(u=>{const f=getScrollableElement(u);f?.removeEventListener("scroll",i)})}},[i,t]),reactExports.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>add(o,a),defaultCoordinates):getScrollOffsets(t):defaultCoordinates,[t,e])}function useScrollOffsetsDelta(t,e){e===void 0&&(e=[]);const n=reactExports.useRef(null);return reactExports.useEffect(()=>{n.current=null},e),reactExports.useEffect(()=>{const s=t!==defaultCoordinates;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?subtract(t,n.current):defaultCoordinates}function useSensorSetup(t){reactExports.useEffect(()=>{if(!canUseDOM$1)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function useSyntheticListeners(t,e){return reactExports.useMemo(()=>t.reduce((n,s)=>{let{eventName:i,handler:o}=s;return n[i]=a=>{o(a,e)},n},{}),[t,e])}function useWindowRect(t){return reactExports.useMemo(()=>t?getWindowClientRect(t):null,[t])}const defaultValue$2=[];function useRects(t,e){e===void 0&&(e=getClientRect);const[n]=t,s=useWindowRect(n?getWindow(n):null),[i,o]=reactExports.useState(defaultValue$2);function a(){o(()=>t.length?t.map(u=>isDocumentScrollingElement(u)?s:new Rect(e(u),u)):defaultValue$2)}const c=useResizeObserver({callback:a});return useIsomorphicLayoutEffect$1(()=>{c?.disconnect(),a(),t.forEach(u=>c?.observe(u))},[t]),i}function getMeasurableNode(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return isHTMLElement(e)?e:t}function useDragOverlayMeasuring(t){let{measure:e}=t;const[n,s]=reactExports.useState(null),i=reactExports.useCallback(f=>{for(const{target:p}of f)if(isHTMLElement(p)){s(m=>{const x=e(p);return m?{...m,width:x.width,height:x.height}:x});break}},[e]),o=useResizeObserver({callback:i}),a=reactExports.useCallback(f=>{const p=getMeasurableNode(f);o?.disconnect(),p&&o?.observe(p),s(p?e(p):null)},[e,o]),[c,u]=useNodeRef(a);return reactExports.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop,draggableNodes:new Map,over:null,measureDroppableContainers:noop},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(t,e){switch(e.type){case Action.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Action.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:n}=e,{id:s}=n,i=new DroppableContainersMap(t.droppable.containers);return i.set(s,n),{...t,droppable:{...t.droppable,containers:i}}}case Action.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||s!==o.key)return t;const a=new DroppableContainersMap(t.droppable.containers);return a.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Action.UnregisterDroppable:{const{id:n,key:s}=e,i=t.droppable.containers.get(n);if(!i||s!==i.key)return t;const o=new DroppableContainersMap(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function RestoreFocus(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:i}=reactExports.useContext(InternalContext),o=usePrevious(s),a=usePrevious(n?.id);return reactExports.useEffect(()=>{if(!e&&!s&&o&&a!=null){if(!isKeyboardEvent(o)||document.activeElement===o.target)return;const c=i.get(a);if(!c)return;const{activatorNode:u,node:f}=c;if(!u.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[u.current,f.current]){if(!p)continue;const m=findFirstFocusableNode(p);if(m){m.focus();break}}})}},[s,e,i,a,o]),null}function applyModifiers(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...s}),n):n}function useMeasuringConfiguration(t){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...t?.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...t?.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function useLayoutShiftScrollCompensation(t){let{activeNode:e,measure:n,initialRect:s,config:i=!0}=t;const o=reactExports.useRef(!1),{x:a,y:c}=typeof i=="boolean"?{x:i,y:i}:i;useIsomorphicLayoutEffect$1(()=>{if(!a&&!c||!e){o.current=!1;return}if(o.current||!s)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=getRectDelta(p,s);if(a||(m.x=0),c||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=getFirstScrollableAncestor(f);x&&x.scrollBy({top:m.y,left:m.x})}},[e,a,c,s,n])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function t(e){var n,s,i,o;let{id:a,accessibility:c,autoScroll:u=!0,children:f,sensors:p=defaultSensors,collisionDetection:m=rectIntersection,measuring:x,modifiers:E,...T}=e;const _=reactExports.useReducer(reducer,void 0,getInitialState),[k,I]=_,[P,A]=useDndMonitorProvider(),[j,O]=reactExports.useState(Status.Uninitialized),$=j===Status.Initialized,{draggable:{active:V,nodes:L,translate:U},droppable:{containers:J}}=k,Z=V!=null?L.get(V):null,Y=reactExports.useRef({initial:null,translated:null}),K=reactExports.useMemo(()=>{var Ft;return V!=null?{id:V,data:(Ft=Z?.data)!=null?Ft:defaultData,rect:Y}:null},[V,Z]),ke=reactExports.useRef(null),[Re,G]=reactExports.useState(null),[q,M]=reactExports.useState(null),z=useLatestValue(T,Object.values(T)),ee=useUniqueId("DndDescribedBy",a),W=reactExports.useMemo(()=>J.getEnabled(),[J]),ie=useMeasuringConfiguration(x),{droppableRects:se,measureDroppableContainers:Pe,measuringScheduled:Ne}=useDroppableMeasuring(W,{dragging:$,dependencies:[U.x,U.y],config:ie.droppable}),Oe=useCachedNode(L,V),je=reactExports.useMemo(()=>q?getEventCoordinates(q):null,[q]),Be=nr(),We=useInitialRect(Oe,ie.draggable.measure);useLayoutShiftScrollCompensation({activeNode:V!=null?L.get(V):null,config:Be.layoutShiftCompensation,initialRect:We,measure:ie.draggable.measure});const Ue=useRect(Oe,ie.draggable.measure,We),Ze=useRect(Oe?Oe.parentElement:null),ot=reactExports.useRef({activatorEvent:null,active:null,activeNode:Oe,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:J,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=J.getNodeFor((n=ot.current.over)==null?void 0:n.id),He=useDragOverlayMeasuring({measure:ie.dragOverlay.measure}),Ge=(s=He.nodeRef.current)!=null?s:Oe,at=$?(i=He.rect)!=null?i:Ue:null,et=!!(He.nodeRef.current&&He.rect),lt=useRectDelta(et?null:Ue),pt=useWindowRect(Ge?getWindow(Ge):null),Tt=useScrollableAncestors($?Je??Oe:null),yt=useRects(Tt),_t=applyModifiers(E,{transform:{x:U.x-lt.x,y:U.y-lt.y,scaleX:1,scaleY:1},activatorEvent:q,active:K,activeNodeRect:Ue,containerNodeRect:Ze,draggingNodeRect:at,over:ot.current.over,overlayNodeRect:He.rect,scrollableAncestors:Tt,scrollableAncestorRects:yt,windowRect:pt}),Pt=je?add(je,U):null,Lt=useScrollOffsets(Tt),Jt=useScrollOffsetsDelta(Lt),Ct=useScrollOffsetsDelta(Lt,[Ue]),It=add(_t,Jt),Yt=at?getAdjustedRect(at,_t):null,Zt=K&&Yt?m({active:K,collisionRect:Yt,droppableRects:se,droppableContainers:W,pointerCoordinates:Pt}):null,er=getFirstCollision(Zt,"id"),[tr,gr]=reactExports.useState(null),qe=et?_t:add(_t,Ct),tn=adjustScale(qe,(o=tr?.rect)!=null?o:null,Ue),zr=reactExports.useRef(null),Ur=reactExports.useCallback((Ft,Gt)=>{let{sensor:ct,options:Dt}=Gt;if(ke.current==null)return;const kt=L.get(ke.current);if(!kt)return;const Mt=Ft.nativeEvent,qt=new ct({active:ke.current,activeNode:kt,event:Mt,options:Dt,context:ot,onAbort(vt){if(!L.get(vt))return;const{onDragAbort:Nt}=z.current,Vt={id:vt};Nt?.(Vt),P({type:"onDragAbort",event:Vt})},onPending(vt,dr,Nt,Vt){if(!L.get(vt))return;const{onDragPending:Xt}=z.current,jt={id:vt,constraint:dr,initialCoordinates:Nt,offset:Vt};Xt?.(jt),P({type:"onDragPending",event:jt})},onStart(vt){const dr=ke.current;if(dr==null)return;const Nt=L.get(dr);if(!Nt)return;const{onDragStart:Vt}=z.current,Kt={activatorEvent:Mt,active:{id:dr,data:Nt.data,rect:Y}};reactDomExports.unstable_batchedUpdates(()=>{Vt?.(Kt),O(Status.Initializing),I({type:Action.DragStart,initialCoordinates:vt,active:dr}),P({type:"onDragStart",event:Kt}),G(zr.current),M(Mt)})},onMove(vt){I({type:Action.DragMove,coordinates:vt})},onEnd:Ot(Action.DragEnd),onCancel:Ot(Action.DragCancel)});zr.current=qt;function Ot(vt){return async function(){const{active:Nt,collisions:Vt,over:Kt,scrollAdjustedTranslate:Xt}=ot.current;let jt=null;if(Nt&&Xt){const{cancelDrop:Dr}=z.current;jt={activatorEvent:Mt,active:Nt,collisions:Vt,delta:Xt,over:Kt},vt===Action.DragEnd&&typeof Dr=="function"&&await Promise.resolve(Dr(jt))&&(vt=Action.DragCancel)}ke.current=null,reactDomExports.unstable_batchedUpdates(()=>{I({type:vt}),O(Status.Uninitialized),gr(null),G(null),M(null),zr.current=null;const Dr=vt===Action.DragEnd?"onDragEnd":"onDragCancel";if(jt){const _n=z.current[Dr];_n?.(jt),P({type:Dr,event:jt})}})}}},[L]),Nr=reactExports.useCallback((Ft,Gt)=>(ct,Dt)=>{const kt=ct.nativeEvent,Mt=L.get(Dt);if(ke.current!==null||!Mt||kt.dndKit||kt.defaultPrevented)return;const qt={active:Mt};Ft(ct,Gt.options,qt)===!0&&(kt.dndKit={capturedBy:Gt.sensor},ke.current=Dt,Ur(ct,Gt))},[L,Ur]),vr=useCombineActivators(p,Nr);useSensorSetup(p),useIsomorphicLayoutEffect$1(()=>{Ue&&j===Status.Initializing&&O(Status.Initialized)},[Ue,j]),reactExports.useEffect(()=>{const{onDragMove:Ft}=z.current,{active:Gt,activatorEvent:ct,collisions:Dt,over:kt}=ot.current;if(!Gt||!ct)return;const Mt={active:Gt,activatorEvent:ct,collisions:Dt,delta:{x:It.x,y:It.y},over:kt};reactDomExports.unstable_batchedUpdates(()=>{Ft?.(Mt),P({type:"onDragMove",event:Mt})})},[It.x,It.y]),reactExports.useEffect(()=>{const{active:Ft,activatorEvent:Gt,collisions:ct,droppableContainers:Dt,scrollAdjustedTranslate:kt}=ot.current;if(!Ft||ke.current==null||!Gt||!kt)return;const{onDragOver:Mt}=z.current,qt=Dt.get(er),Ot=qt&&qt.rect.current?{id:qt.id,rect:qt.rect.current,data:qt.data,disabled:qt.disabled}:null,vt={active:Ft,activatorEvent:Gt,collisions:ct,delta:{x:kt.x,y:kt.y},over:Ot};reactDomExports.unstable_batchedUpdates(()=>{gr(Ot),Mt?.(vt),P({type:"onDragOver",event:vt})})},[er]),useIsomorphicLayoutEffect$1(()=>{ot.current={activatorEvent:q,active:K,activeNode:Oe,collisionRect:Yt,collisions:Zt,droppableRects:se,draggableNodes:L,draggingNode:Ge,draggingNodeRect:at,droppableContainers:J,over:tr,scrollableAncestors:Tt,scrollAdjustedTranslate:It},Y.current={initial:at,translated:Yt}},[K,Oe,Zt,Yt,L,Ge,at,se,J,tr,Tt,It]),useAutoScroller({...Be,delta:U,draggingRect:Yt,pointerCoordinates:Pt,scrollableAncestors:Tt,scrollableAncestorRects:yt});const rr=reactExports.useMemo(()=>({active:K,activeNode:Oe,activeNodeRect:Ue,activatorEvent:q,collisions:Zt,containerNodeRect:Ze,dragOverlay:He,draggableNodes:L,droppableContainers:J,droppableRects:se,over:tr,measureDroppableContainers:Pe,scrollableAncestors:Tt,scrollableAncestorRects:yt,measuringConfiguration:ie,measuringScheduled:Ne,windowRect:pt}),[K,Oe,Ue,q,Zt,Ze,He,L,J,se,tr,Pe,Tt,yt,ie,Ne,pt]),rn=reactExports.useMemo(()=>({activatorEvent:q,activators:vr,active:K,activeNodeRect:Ue,ariaDescribedById:{draggable:ee},dispatch:I,draggableNodes:L,over:tr,measureDroppableContainers:Pe}),[q,vr,K,Ue,I,ee,L,tr,Pe]);return React.createElement(DndMonitorContext.Provider,{value:A},React.createElement(InternalContext.Provider,{value:rn},React.createElement(PublicContext.Provider,{value:rr},React.createElement(ActiveDraggableContext.Provider,{value:tn},f)),React.createElement(RestoreFocus,{disabled:c?.restoreFocus===!1})),React.createElement(Accessibility,{...c,hiddenTextDescribedById:ee}));function nr(){const Ft=Re?.autoScrollEnabled===!1,Gt=typeof u=="object"?u.enabled===!1:u===!1,ct=$&&!Ft&&!Gt;return typeof u=="object"?{...u,enabled:ct}:{enabled:ct}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(t){let{id:e,data:n,disabled:s=!1,attributes:i}=t;const o=useUniqueId(ID_PREFIX$1),{activators:a,activatorEvent:c,active:u,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:x}=reactExports.useContext(InternalContext),{role:E=defaultRole,roleDescription:T="draggable",tabIndex:_=0}=i??{},k=u?.id===e,I=reactExports.useContext(k?ActiveDraggableContext:NullContext),[P,A]=useNodeRef(),[j,O]=useNodeRef(),$=useSyntheticListeners(a,e),V=useLatestValue(n);useIsomorphicLayoutEffect$1(()=>(m.set(e,{id:e,key:o,node:P,activatorNode:j,data:V}),()=>{const U=m.get(e);U&&U.key===o&&m.delete(e)}),[m,e]);const L=reactExports.useMemo(()=>({role:E,tabIndex:_,"aria-disabled":s,"aria-pressed":k&&E===defaultRole?!0:void 0,"aria-roledescription":T,"aria-describedby":p.draggable}),[s,E,_,k,T,p.draggable]);return{active:u,activatorEvent:c,activeNodeRect:f,attributes:L,isDragging:k,listeners:s?void 0:$,node:P,over:x,setNodeRef:A,setActivatorNodeRef:O,transform:I}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:i}=t;const o=useUniqueId(ID_PREFIX$1$1),{active:a,dispatch:c,over:u,measureDroppableContainers:f}=reactExports.useContext(InternalContext),p=reactExports.useRef({disabled:n}),m=reactExports.useRef(!1),x=reactExports.useRef(null),E=reactExports.useRef(null),{disabled:T,updateMeasurementsFor:_,timeout:k}={...defaultResizeObserverConfig,...i},I=useLatestValue(_??s),P=reactExports.useCallback(()=>{if(!m.current){m.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{f(Array.isArray(I.current)?I.current:[I.current]),E.current=null},k)},[k]),A=useResizeObserver({callback:P,disabled:T||!a}),j=reactExports.useCallback((L,U)=>{A&&(U&&(A.unobserve(U),m.current=!1),L&&A.observe(L))},[A]),[O,$]=useNodeRef(j),V=useLatestValue(e);return reactExports.useEffect(()=>{!A||!O.current||(A.disconnect(),m.current=!1,A.observe(O.current))},[O,A]),reactExports.useEffect(()=>(c({type:Action.RegisterDroppable,element:{id:s,key:o,disabled:n,node:O,rect:x,data:V}}),()=>c({type:Action.UnregisterDroppable,key:o,id:s})),[s]),reactExports.useEffect(()=>{n!==p.current.disabled&&(c({type:Action.SetDroppableDisabled,id:s,key:o,disabled:n}),p.current.disabled=n)},[s,o,n,c]),{active:a,rect:x,isOver:u?.id===s,node:O,over:u,setNodeRef:$}}function arrayMove(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function getSortedRects(t,e){return t.reduce((n,s,i)=>{const o=e.get(s);return o&&(n[i]=o),n},Array(t.length))}function isValidIndex(t){return t!==null&&t>=0}function itemsEqual(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function normalizeDisabled(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const defaultScale={scaleX:1,scaleY:1},horizontalListSortingStrategy=t=>{var e;let{rects:n,activeNodeRect:s,activeIndex:i,overIndex:o,index:a}=t;const c=(e=n[i])!=null?e:s;if(!c)return null;const u=getItemGap(n,a,i);if(a===i){const f=n[o];return f?{x:i<o?f.left+f.width-(c.left+c.width):f.left-c.left,y:0,...defaultScale}:null}return a>i&&a<=o?{x:-c.width-u,y:0,...defaultScale}:a<i&&a>=o?{x:c.width+u,y:0,...defaultScale}:{x:0,y:0,...defaultScale}};function getItemGap(t,e,n){const s=t[e],i=t[e-1],o=t[e+1];return!s||!i&&!o?0:n<e?i?s.left-(i.left+i.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(i.left+i.width)}const rectSortingStrategy=t=>{let{rects:e,activeIndex:n,overIndex:s,index:i}=t;const o=arrayMove(e,s,n),a=e[i],c=o[i];return!c||!a?null:{x:c.left-a.left,y:c.top-a.top,scaleX:c.width/a.width,scaleY:c.height/a.height}},defaultScale$1={scaleX:1,scaleY:1},verticalListSortingStrategy=t=>{var e;let{activeIndex:n,activeNodeRect:s,index:i,rects:o,overIndex:a}=t;const c=(e=o[n])!=null?e:s;if(!c)return null;if(i===n){const f=o[a];return f?{x:0,y:n<a?f.top+f.height-(c.top+c.height):f.top-c.top,...defaultScale$1}:null}const u=getItemGap$1(o,i,n);return i>n&&i<=a?{x:0,y:-c.height-u,...defaultScale$1}:i<n&&i>=a?{x:0,y:c.height+u,...defaultScale$1}:{x:0,y:0,...defaultScale$1}};function getItemGap$1(t,e,n){const s=t[e],i=t[e-1],o=t[e+1];return s?n<e?i?s.top-(i.top+i.height):o?o.top-(s.top+s.height):0:o?o.top-(s.top+s.height):i?s.top-(i.top+i.height):0:0}const ID_PREFIX="Sortable",Context=React.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(t){let{children:e,id:n,items:s,strategy:i=rectSortingStrategy,disabled:o=!1}=t;const{active:a,dragOverlay:c,droppableRects:u,over:f,measureDroppableContainers:p}=useDndContext(),m=useUniqueId(ID_PREFIX,n),x=c.rect!==null,E=reactExports.useMemo(()=>s.map($=>typeof $=="object"&&"id"in $?$.id:$),[s]),T=a!=null,_=a?E.indexOf(a.id):-1,k=f?E.indexOf(f.id):-1,I=reactExports.useRef(E),P=!itemsEqual(E,I.current),A=k!==-1&&_===-1||P,j=normalizeDisabled(o);useIsomorphicLayoutEffect$1(()=>{P&&T&&p(E)},[P,E,T,p]),reactExports.useEffect(()=>{I.current=E},[E]);const O=reactExports.useMemo(()=>({activeIndex:_,containerId:m,disabled:j,disableTransforms:A,items:E,overIndex:k,useDragOverlay:x,sortedRects:getSortedRects(E,u),strategy:i}),[_,m,j.draggable,j.droppable,A,E,k,u,x,i]);return React.createElement(Context.Provider,{value:O},e)}const defaultNewIndexGetter=t=>{let{id:e,items:n,activeIndex:s,overIndex:i}=t;return arrayMove(n,s,i).indexOf(e)},defaultAnimateLayoutChanges=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:i,items:o,newIndex:a,previousItems:c,previousContainerId:u,transition:f}=t;return!f||!s||c!==o&&i===a?!1:n?!0:a!==i&&e===u},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS$1.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(t){let{disabled:e,index:n,node:s,rect:i}=t;const[o,a]=reactExports.useState(null),c=reactExports.useRef(n);return useIsomorphicLayoutEffect$1(()=>{if(!e&&n!==c.current&&s.current){const u=i.current;if(u){const f=getClientRect(s.current,{ignoreTransform:!0}),p={x:u.left-f.left,y:u.top-f.top,scaleX:u.width/f.width,scaleY:u.height/f.height};(p.x||p.y)&&a(p)}}n!==c.current&&(c.current=n)},[e,n,s,i]),reactExports.useEffect(()=>{o&&a(null)},[o]),o}function useSortable(t){let{animateLayoutChanges:e=defaultAnimateLayoutChanges,attributes:n,disabled:s,data:i,getNewIndex:o=defaultNewIndexGetter,id:a,strategy:c,resizeObserverConfig:u,transition:f=defaultTransition}=t;const{items:p,containerId:m,activeIndex:x,disabled:E,disableTransforms:T,sortedRects:_,overIndex:k,useDragOverlay:I,strategy:P}=reactExports.useContext(Context),A=normalizeLocalDisabled(s,E),j=p.indexOf(a),O=reactExports.useMemo(()=>({sortable:{containerId:m,index:j,items:p},...i}),[m,i,j,p]),$=reactExports.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:V,node:L,isOver:U,setNodeRef:J}=useDroppable({id:a,data:O,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...u}}),{active:Z,activatorEvent:Y,activeNodeRect:K,attributes:ke,setNodeRef:Re,listeners:G,isDragging:q,over:M,setActivatorNodeRef:z,transform:ee}=useDraggable({id:a,data:O,attributes:{...defaultAttributes,...n},disabled:A.draggable}),W=useCombinedRefs(J,Re),ie=!!Z,se=ie&&!T&&isValidIndex(x)&&isValidIndex(k),Pe=!I&&q,Ne=Pe&&se?ee:null,je=se?Ne??(c??P)({rects:_,activeNodeRect:K,activeIndex:x,overIndex:k,index:j}):null,Be=isValidIndex(x)&&isValidIndex(k)?o({id:a,items:p,activeIndex:x,overIndex:k}):j,We=Z?.id,Ue=reactExports.useRef({activeId:We,items:p,newIndex:Be,containerId:m}),Ze=p!==Ue.current.items,ot=e({active:Z,containerId:m,isDragging:q,isSorting:ie,id:a,index:j,items:p,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:f,wasDragging:Ue.current.activeId!=null}),Je=useDerivedTransform({disabled:!ot,index:j,node:L,rect:V});return reactExports.useEffect(()=>{ie&&Ue.current.newIndex!==Be&&(Ue.current.newIndex=Be),m!==Ue.current.containerId&&(Ue.current.containerId=m),p!==Ue.current.items&&(Ue.current.items=p)},[ie,Be,m,p]),reactExports.useEffect(()=>{if(We===Ue.current.activeId)return;if(We!=null&&Ue.current.activeId==null){Ue.current.activeId=We;return}const Ge=setTimeout(()=>{Ue.current.activeId=We},50);return()=>clearTimeout(Ge)},[We]),{active:Z,activeIndex:x,attributes:ke,data:O,rect:V,index:j,newIndex:Be,items:p,isOver:U,isSorting:ie,isDragging:q,listeners:G,node:L,overIndex:k,over:M,setNodeRef:W,setActivatorNodeRef:z,setDroppableNodeRef:J,setDraggableNodeRef:Re,transform:Je??je,transition:He()};function He(){if(Je||Ze&&Ue.current.newIndex===j)return disabledTransition;if(!(Pe&&!isKeyboardEvent(Y)||!f)&&(ie||ot))return CSS$1.Transition.toString({...f,property:transitionProperty})}}function normalizeLocalDisabled(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function hasSortableData(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const directions=[KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left],sortableKeyboardCoordinates=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:c}}=e;if(directions.includes(t.code)){if(t.preventDefault(),!n||!s)return;const u=[];o.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const x=i.get(m.id);if(x)switch(t.code){case KeyboardCode.Down:s.top<x.top&&u.push(m);break;case KeyboardCode.Up:s.top>x.top&&u.push(m);break;case KeyboardCode.Left:s.left>x.left&&u.push(m);break;case KeyboardCode.Right:s.left<x.left&&u.push(m);break}});const f=closestCorners({collisionRect:s,droppableRects:i,droppableContainers:u});let p=getFirstCollision(f,"id");if(p===a?.id&&f.length>1&&(p=f[1].id),p!=null){const m=o.get(n.id),x=o.get(p),E=x?i.get(x.id):null,T=x?.node.current;if(T&&E&&m&&x){const k=getScrollableAncestors(T).some(($,V)=>c[V]!==$),I=isSameContainer(m,x),P=isAfter(m,x),A=k||!I?{x:0,y:0}:{x:P?s.width-E.width:0,y:P?s.height-E.height:0},j={x:E.left,y:E.top};return A.x&&A.y?j:subtract(j,A)}}}};function isSameContainer(t,e){return!hasSortableData(t)||!hasSortableData(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function isAfter(t,e){return!hasSortableData(t)||!hasSortableData(e)||!isSameContainer(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const SortableHourCard=({hour:t,isDark:e})=>{const{attributes:n,listeners:s,setNodeRef:i,transform:o,transition:a,isDragging:c}=useSortable({id:t.time}),u={transform:CSS$1.Transform.toString(o),transition:a,opacity:c?.5:1};return jsxRuntimeExports.jsxs("div",{ref:i,style:u,...n,...s,className:cn$1("p-1.5 md:p-2 rounded-lg border text-center transition-all cursor-grab active:cursor-grabbing",e?"bg-slate-700/50 border-orange-500/20 hover:bg-slate-700/70":"bg-orange-50/50 border-orange-200/30 hover:bg-orange-50/70",c&&"z-50 shadow-2xl scale-105"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("text-[9px] md:text-[10px] font-medium mb-1",e?"text-gray-300":"text-slate-700"),children:t.hour}),jsxRuntimeExports.jsx("div",{className:"text-base md:text-lg mb-1",children:t.icon}),jsxRuntimeExports.jsxs("div",{className:cn$1("text-xs md:text-sm font-semibold mb-0.5",e?"text-white":"text-slate-800"),children:[t.temperature,""]}),jsxRuntimeExports.jsx("div",{className:cn$1("text-[8px] md:text-[9px] truncate",e?"text-gray-400":"text-gray-600"),title:t.description,children:t.description})]})},WeatherDayDetails=({dayDetails:t,onClose:e})=>{const[n,s]=reactExports.useState([]),i=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));React.useEffect(()=>{t&&s(t.hourly)},[t]);const o=c=>{const{active:u,over:f}=c;if(f&&u.id!==f.id){const p=n.findIndex(E=>E.time===u.id),m=n.findIndex(E=>E.time===f.id),x=arrayMove(n,p,m);s(x)}};if(!t)return null;const a=document.documentElement.classList.contains("dark");return jsxRuntimeExports.jsxs("div",{className:cn$1("p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl border transition-all shadow-lg flex flex-col h-full",a?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("h3",{className:cn$1("text-xs sm:text-sm md:text-base font-bold truncate",a?"text-white":"text-slate-800"),children:[t.day," - ",new Date(t.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"long"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 sm:gap-2 md:gap-3 mt-1 sm:mt-1.5",children:[jsxRuntimeExports.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl flex-shrink-0",children:t.icon}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("text-sm sm:text-lg md:text-xl font-bold",a?"text-white":"text-slate-800"),children:[t.temp.max," / ",t.temp.min,""]}),jsxRuntimeExports.jsx("div",{className:cn$1("text-[10px] sm:text-xs truncate",a?"text-gray-300":"text-gray-600"),children:t.condition})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:cn$1("p-1 rounded-lg hover:bg-opacity-20 transition-colors flex-shrink-0 ml-2",a?"text-gray-300 hover:bg-white/10":"text-gray-600 hover:bg-gray-100"),children:jsxRuntimeExports.jsx(X,{size:14,className:"sm:w-4 sm:h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[jsxRuntimeExports.jsx("h4",{className:cn$1("text-[10px] sm:text-xs font-semibold mb-1.5 sm:mb-2 flex-shrink-0",a?"text-white":"text-slate-800"),children:"Previso Hora a Hora"}),jsxRuntimeExports.jsx(DndContext,{sensors:i,collisionDetection:closestCenter,onDragEnd:o,children:jsxRuntimeExports.jsx(SortableContext,{items:n.map(c=>c.time),strategy:rectSortingStrategy,children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-4 xl:grid-cols-6 gap-1 sm:gap-1.5 flex-1 overflow-y-auto pr-1",children:n.map(c=>jsxRuntimeExports.jsx(SortableHourCard,{hour:c,isDark:a},c.time))})})})]})]})},SortableWeatherCard=({day:t,index:e,isDark:n,isSelected:s,onSelect:i})=>{const{attributes:o,listeners:a,setNodeRef:c,transform:u,transition:f,isDragging:p}=useSortable({id:t.date}),m={transform:CSS$1.Transform.toString(u),transition:f,opacity:p?.5:1};return jsxRuntimeExports.jsxs("div",{ref:c,style:m,...o,...a,onClick:i,className:cn$1("flex-1 p-2 md:p-3 lg:p-4 rounded-xl border text-center transition-all cursor-grab active:cursor-grabbing",n?"bg-slate-800/50 border-orange-500/30 hover:bg-slate-700/50 hover:border-orange-500/50":"bg-orange-50/50 border-orange-200/30 hover:bg-orange-50/70 hover:border-orange-300/50",s&&"ring-2 ring-orange-500/50 bg-slate-700/70",p&&"z-50 shadow-2xl scale-105"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("text-xs md:text-sm font-medium mb-1.5 md:mb-2",n?"text-gray-200":"text-slate-700",e===0&&"font-bold"),children:t.day}),jsxRuntimeExports.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl xl:text-6xl mb-1.5 md:mb-2",children:t.icon}),jsxRuntimeExports.jsxs("div",{className:cn$1("text-sm md:text-base lg:text-lg font-semibold mb-0.5",n?"text-white":"text-slate-800"),children:[t.temp.max,""]}),jsxRuntimeExports.jsxs("div",{className:cn$1("text-[10px] md:text-xs",n?"text-gray-300":"text-gray-600"),children:[t.temp.min,""]})]})},WeatherForecast=({hub:t,className:e})=>{const[n,s]=reactExports.useState(null),[i,o]=reactExports.useState(!1),[a,c]=reactExports.useState(null),[u,f]=reactExports.useState(null),[p,m]=reactExports.useState(null),[x,E]=reactExports.useState(!1),[T,_]=reactExports.useState([]),k=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));reactExports.useEffect(()=>{if(!t||t==="Todos os Hubs"){s(null),_([]),o(!1),c(null);return}(async()=>{o(!0),c(null);try{const j=await fetchWeatherForecast(t);j&&(s(j),_(j.forecast))}catch(j){console.error("Erro ao carregar previso do tempo:",j),c("Erro ao carregar previso")}finally{o(!1)}})()},[t]);const I=A=>{const{active:j,over:O}=A;if(O&&j.id!==O.id&&n){const $=T.findIndex(U=>U.date===j.id),V=T.findIndex(U=>U.date===O.id),L=arrayMove(T,$,V);_(L)}},P=document.documentElement.classList.contains("dark");return jsxRuntimeExports.jsxs("div",{className:cn$1("w-full",e),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4 mb-3 sm:mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:cn$1("text-sm sm:text-base md:text-lg font-semibold flex items-center gap-2",P?"text-white":"text-slate-800"),children:[jsxRuntimeExports.jsx(CloudSun,{size:18,className:"sm:w-6 sm:h-6 flex-shrink-0",style:{color:P?"#fb923c":"#ea580c"}}),"Previso do Tempo"]}),n&&jsxRuntimeExports.jsxs("span",{className:cn$1("text-xs sm:text-sm md:text-base",P?"text-gray-300":"text-gray-600"),children:[n.city,", ",n.state]})]}),!t||t==="Todos os Hubs"?jsxRuntimeExports.jsx("div",{className:cn$1("text-sm md:text-base text-center py-4",P?"text-gray-300":"text-gray-600"),children:"Selecione um hub para ver a previso"}):i?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-6",children:jsxRuntimeExports.jsx(Loading,{size:"md"})}):a?jsxRuntimeExports.jsx("div",{className:cn$1("text-sm md:text-base text-center py-4",P?"text-gray-300":"text-gray-600"),children:a}):n&&T.length>0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 md:gap-4 w-full",children:[jsxRuntimeExports.jsx(DndContext,{sensors:k,collisionDetection:closestCenter,onDragEnd:I,children:jsxRuntimeExports.jsx(SortableContext,{items:T.map(A=>A.date),strategy:horizontalListSortingStrategy,children:jsxRuntimeExports.jsx("div",{className:cn$1("flex gap-0.5 md:gap-1 w-full",u&&"lg:flex-1"),children:T.map((A,j)=>jsxRuntimeExports.jsx(SortableWeatherCard,{day:A,index:j,isDark:P,isSelected:u===A.date,onSelect:async()=>{if(u===A.date)f(null),m(null);else{f(A.date),E(!0);try{const O=await fetchHourlyWeather(t,A.date);m(O)}catch(O){console.error("Erro ao carregar detalhes:",O)}finally{E(!1)}}}},A.date))})})}),u&&jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-full lg:w-80 xl:w-96",children:x?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(Loading,{size:"md"})}):jsxRuntimeExports.jsx(WeatherDayDetails,{dayDetails:p,onClose:()=>{f(null),m(null)}})})]}):jsxRuntimeExports.jsx("div",{className:cn$1("text-sm md:text-base text-center py-4",P?"text-gray-300":"text-gray-600"),children:"Previso no disponvel"})]})},HUBS=["LM Hub_PR_Maringa","LM Hub_PR_Londrina","LM Hub_PR_Cascavel","LM Hub_PR_Foz do Iguau","LM Hub_PR_Toledo","LM Hub_PR_Pato Branco","LM Hub_PR_Umuarama","LM Hub_PR_Curitiba","LM Hub_PR_Pinhais","LM Hub_PR_Sao Jose dos Pinhais"],SortableItem=({id:t,label:e,isVisible:n,onToggle:s})=>{const{attributes:i,listeners:o,setNodeRef:a,transform:c,transition:u}=useSortable({id:t}),f={transform:CSS$1.Transform.toString(c),transition:u};return jsxRuntimeExports.jsxs("div",{ref:a,style:f,className:"flex items-center justify-between p-2 mb-2 bg-muted/30 rounded-md border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{...i,...o,className:"cursor-grab hover:text-primary active:cursor-grabbing p-1",children:jsxRuntimeExports.jsx(GripVertical,{size:16,className:"text-muted-foreground"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:e})]}),jsxRuntimeExports.jsx(Switch,{checked:n,onCheckedChange:s})]})},showNotification$1=(t,e,n)=>{const s={success:{icon:CircleCheckBig,color:"text-green-600",bg:"bg-green-100"},error:{icon:TriangleAlert,color:"text-red-600",bg:"bg-red-100"},warning:{icon:TriangleAlert,color:"text-orange-600",bg:"bg-orange-100"},info:{icon:CircleCheckBig,color:"text-blue-600",bg:"bg-blue-100"}},{icon:i,color:o,bg:a}=s[t];toast.custom(c=>jsxRuntimeExports.jsxs("div",{className:"flex w-full max-w-sm items-start gap-4 rounded-xl bg-card p-4 shadow-lg border border-border ring-1 ring-black/5 transition-all animate-in slide-in-from-top-2",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-2 rounded-full shrink-0",a,o),children:jsxRuntimeExports.jsx(i,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 pt-0.5",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n})]}),jsxRuntimeExports.jsx("button",{onClick:()=>toast.dismiss(c),className:"text-muted-foreground hover:text-foreground transition-colors",children:jsxRuntimeExports.jsx(X,{size:16})})]}))},handleContactDriver=t=>{if(t){const e=encodeURIComponent("Ol, estou entrando em contato referente a um chamado de apoio.");window.open(`https://wa.me/55${t}?text=${e}`,"_blank")}else showNotification$1("error","Contato Indisponvel","O nmero de telefone deste motorista no est cadastrado.")},EnhancedDriverCard=({driver:t,onInfoClick:e})=>jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl flex items-center justify-between gap-3 group transition-all cursor-pointer",style:{background:"#000000",border:"1px solid rgba(238, 77, 45, 0.3)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(238, 77, 45, 0.1)"},onMouseEnter:n=>{n.currentTarget.style.borderColor="rgba(238, 77, 45, 0.5)",n.currentTarget.style.boxShadow="0 8px 32px rgba(238, 77, 45, 0.3), 0 0 0 1px rgba(238, 77, 45, 0.2)"},onMouseLeave:n=>{n.currentTarget.style.borderColor="rgba(238, 77, 45, 0.3)",n.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{onClick:()=>e(t),className:"cursor-pointer",children:jsxRuntimeExports.jsx(AvatarComponent,{user:t})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-orange-500 cursor-pointer truncate text-sm",onClick:()=>e(t),title:t.name,children:t.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-orange-400 flex flex-col sm:flex-row sm:items-center sm:gap-3 mt-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 truncate",title:t.hub,children:[jsxRuntimeExports.jsx(Building,{size:12,className:"text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:t.hub?.split("_")[2]||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 capitalize",children:[jsxRuntimeExports.jsx(Truck,{size:12,className:"text-orange-500"}),jsxRuntimeExports.jsx("span",{children:t.vehicleType||"N/A"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:"px-2.5 py-1 text-xs font-semibold",style:{background:"rgba(16, 185, 129, 0.15)",border:"1px solid rgba(16, 185, 129, 0.3)",color:"#10b981"},children:"Disponvel"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>handleContactDriver(t.phone),size:"sm",className:"h-8 text-xs rounded-lg font-semibold text-white",style:{background:"linear-gradient(135deg, #EE4D2D 0%, #FF6B35 50%, #EE4D2D 100%)",backgroundSize:"200% 200%",boxShadow:"0 4px 20px -5px rgba(238, 77, 45, 0.5)"},onMouseEnter:n=>{n.currentTarget.style.backgroundPosition="100% 0"},onMouseLeave:n=>{n.currentTarget.style.backgroundPosition="0% 0"},children:"Acionar"})]})]}),SearchableSelect=({options:t,value:e,onChange:n,placeholder:s,icon:i})=>{const[o,a]=reactExports.useState(!1),[c,u]=reactExports.useState(""),f=reactExports.useRef(null),p=reactExports.useMemo(()=>{const E=c.toLowerCase(),T=t.find(k=>k.toLowerCase().startsWith("todos")),_=t.filter(k=>k.toLowerCase().includes(E)&&!k.toLowerCase().startsWith("todos"));return T?[T,..._]:_},[t,c]);React.useEffect(()=>{function E(T){f.current&&!f.current.contains(T.target)&&(a(!1),u(""))}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[f]);const m=E=>{n(E),u(""),a(!1)},x=o?c:e;return jsxRuntimeExports.jsxs("div",{className:"relative w-full",ref:f,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:s,value:x,onChange:E=>{if(u(E.target.value),o||a(!0),E.target.value===""){const T=t.find(_=>_.toLowerCase().startsWith("todos"));T&&n(T)}},onFocus:()=>{u(""),a(!0)},className:"w-full pl-10 pr-8 py-2 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary font-sans"}),jsxRuntimeExports.jsx(ChevronDown,{className:`absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground transition-transform ${o?"rotate-180":""}`,size:16})]}),o&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-y-auto text-sm",children:jsxRuntimeExports.jsx("ul",{children:p.length>0?p.map((E,T)=>jsxRuntimeExports.jsx("li",{onClick:()=>m(E),className:"px-4 py-2 hover:bg-muted cursor-pointer capitalize",children:E.toLowerCase().replace(/_/g," ")},T)):jsxRuntimeExports.jsx("li",{className:"px-4 py-2 text-muted-foreground",children:"Nenhuma opo encontrada."})})})]})},SearchInput=({value:t,onChange:e,placeholder:n,icon:s,type:i="text"})=>jsxRuntimeExports.jsxs("div",{className:"relative w-full",children:[jsxRuntimeExports.jsx(s,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),jsxRuntimeExports.jsx("input",{type:i,placeholder:n,value:t,onChange:o=>e(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary font-sans"})]}),ConfirmationModal=({isOpen:t,onClose:e,onConfirm:n,title:s,children:i,confirmText:o,confirmColor:a="bg-red-600"})=>t?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md bg-card",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-foreground",children:s})}),jsxRuntimeExports.jsx(CardContent,{className:"text-muted-foreground",children:i}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:e,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:n,className:`${a} hover:opacity-90`,children:o})]})]})}):null,CallDetailsModal=({call:t,onClose:e,onUpdateStatus:n})=>{if(!t)return null;const s=o=>{switch(o){case"ABERTO":return"text-yellow-500";case"EM ANDAMENTO":return"text-blue-500";case"CONCLUIDO":return"text-green-500";case"AGUARDANDO_APROVACAO":return"text-purple-500";case"DEVOLUCAO":return"text-red-500";default:return"text-muted-foreground"}},i=o=>o.includes("Aqui est a descrio")&&o.split('"')[1]||o;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-lg relative bg-card max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1.5 rounded-full hover:bg-muted text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(X,{size:20})}),jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-foreground",children:"Detalhes do Chamado"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AvatarComponent,{user:t.solicitante}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:t.solicitante.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitante"})]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>handleContactDriver(t.solicitante.phone),children:[jsxRuntimeExports.jsx(Phone,{size:16,className:"mr-2"})," WhatsApp"]})]}),jsxRuntimeExports.jsx("p",{className:`font-bold text-sm uppercase ${s(t.status)}`,children:t.status.replace("_"," ")}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.reason&&jsxRuntimeExports.jsxs("div",{className:"col-span-2 bg-red-50 dark:bg-red-900/10 p-2 rounded border border-red-100 dark:border-red-900/30",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:"Motivo:"})," ",t.reason]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{size:16,className:"text-primary"}),jsxRuntimeExports.jsxs("span",{children:[t.packageCount||"N/A"," Pacotes"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Truck,{size:16,className:"text-primary"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:t.vehicleType||"N/A"})]}),t.isBulky&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[jsxRuntimeExports.jsx(Weight,{size:16}),jsxRuntimeExports.jsx("span",{children:"Volumoso"})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsxs("a",{href:t.location,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:underline hover:text-blue-800 transition-colors p-2 rounded bg-blue-50 dark:bg-blue-900/10",children:[jsxRuntimeExports.jsx(MapPin,{size:16,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:t.location}),jsxRuntimeExports.jsx(ExternalLink,{size:12,className:"ml-auto opacity-50"})]})}),t.deliveryRegions&&t.deliveryRegions.length>0&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-muted-foreground block mb-1",children:"Regies:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:t.deliveryRegions.map((o,a)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:o},a))})]})]}),jsxRuntimeExports.jsx("div",{className:"font-sans text-base font-medium text-foreground bg-muted/50 p-3 rounded-md whitespace-pre-wrap",children:i(t.description)})]}),jsxRuntimeExports.jsxs(CardFooter,{className:"mt-2 pt-4 border-t border-border flex flex-wrap justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Mover para:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[t.status==="EM ANDAMENTO"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>n(t.id,{status:"ABERTO"}),children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16,className:"mr-1.5"})," Aberto"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"destructive",size:"sm",className:"bg-red-100 text-red-700 hover:bg-red-200 border-red-200",onClick:()=>n(t.id,{status:"DEVOLUCAO"}),children:[jsxRuntimeExports.jsx(OctagonAlert,{size:16,className:"mr-1.5"})," Devoluo"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"default",size:"sm",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>n(t.id,{status:"AGUARDANDO_APROVACAO"}),children:["Aguard. Aprovao ",jsxRuntimeExports.jsx(ArrowRight,{size:16,className:"ml-1.5"})]})]}),t.status==="DEVOLUCAO"&&jsxRuntimeExports.jsxs(Button$1,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>n(t.id,{status:"EM ANDAMENTO"}),children:[jsxRuntimeExports.jsx(RotateCcw,{size:16,className:"mr-1.5"})," Retomar Rota"]}),t.status==="CONCLUIDO"&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>n(t.id,{status:"EM ANDAMENTO"}),children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16,className:"mr-1.5"})," Em Andamento"]}),t.status==="ABERTO"&&jsxRuntimeExports.jsxs(Button$1,{variant:"default",size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>n(t.id,{status:"EM ANDAMENTO"}),children:["Em Andamento ",jsxRuntimeExports.jsx(ArrowRight,{size:16,className:"ml-1.5"})]})]})]})]})})},CallCard=({call:t,onDelete:e,onClick:n,drivers:s=[]})=>{const i=t.assignedTo?s.find(m=>m.uid===t.assignedTo||m.googleUid===t.assignedTo||m.shopeeId===t.assignedTo):null,o=s.find(m=>m.uid===t.solicitante.id||m.googleUid===t.solicitante.id||m.shopeeId===t.solicitante.id),c=(m=>{if(!m)return"--:--";let x;if(m instanceof Timestamp)x=m.toDate();else if(m&&typeof m.seconds=="number")x=new Date(m.seconds*1e3);else return"--:--";return isNaN(x.getTime())?"--:--":format(x,"HH:mm",{locale:ptBR})})(t.timestamp),u={BAIXA:"border-l-blue-400",MEDIA:"border-l-yellow-400",ALTA:"border-l-orange-500",URGENTE:"border-l-red-600"}[t.urgency]||"border-l-gray-300",f=m=>{if(!m)return null;const x={},E=m.match(/MOTIVO:\s*([^.]+)/i);E&&(x.motivo=E[1].trim());const T=m.match(/DETALHES:\s*([^.]+(?:\.[^H]|$))/i);T&&(x.detalhes=T[1].trim());const _=m.match(/Hub:\s*([^.]+)/i);_&&(x.hub=_[1].trim());const k=m.match(/Loc:\s*([^.]+)/i);k&&(x.loc=k[1].trim());const I=m.match(/Qtd:\s*(\d+)/i);I&&(x.qtd=I[1].trim());const P=m.match(/Regies:\s*([^.]+)/i);P&&(x.regioes=P[1].split(",").map(j=>j.trim()).filter(Boolean));const A=m.match(/Veculos:\s*([^.]+)/i);return A&&(x.veiculos=A[1].split(",").map(j=>j.trim()).filter(Boolean)),x.volumoso=/VOLUMOSO/i.test(m),Object.keys(x).length>0?x:null},p=t.description?f(t.description):null;return jsxRuntimeExports.jsxs("div",{className:cn$1("bg-card p-4 rounded-xl shadow-lg border-2 border-border hover:shadow-xl transition-all cursor-pointer group relative overflow-hidden","border-l-4",u),onClick:()=>n(t),style:{minHeight:p?"280px":"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Ticket,{size:16,className:"text-primary flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold font-mono text-primary truncate",children:t.routeId||"SEM ID"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-base font-bold text-foreground break-words overflow-wrap-anywhere min-w-0",children:t.solicitante.name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground flex-shrink-0 ml-2",children:[jsxRuntimeExports.jsx(Clock,{size:14}),jsxRuntimeExports.jsx("span",{children:c})]})]}),p?.motivo&&jsxRuntimeExports.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(TriangleAlert,{size:14,className:"text-red-600 dark:text-red-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold uppercase tracking-wide text-red-700 dark:text-red-300",children:"Motivo"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white pl-5 break-words overflow-wrap-anywhere",children:p.motivo})]}),p?.detalhes&&jsxRuntimeExports.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200/50 dark:border-orange-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(FileText,{size:14,className:"text-orange-600 dark:text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold uppercase tracking-wide text-orange-700 dark:text-orange-300",children:"Detalhes"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-200 pl-5 leading-relaxed break-words overflow-wrap-anywhere",children:p.detalhes})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-2 border border-blue-200/50 dark:border-blue-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[jsxRuntimeExports.jsx(Building,{size:12,className:"text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-blue-700 dark:text-blue-300",children:"Hub"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white pl-3.5 break-words overflow-wrap-anywhere",title:p?.hub||t.hub,children:p?.hub||t.hub?.split("_")[2]||t.hub||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-2 border border-purple-200/50 dark:border-purple-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[jsxRuntimeExports.jsx(Package,{size:12,className:"text-purple-600 dark:text-purple-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-purple-700 dark:text-purple-300",children:"Pacotes"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white pl-3.5",children:p?.qtd||t.packageCount||"?"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-2 border border-indigo-200/50 dark:border-indigo-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[jsxRuntimeExports.jsx(Truck,{size:12,className:"text-indigo-600 dark:text-indigo-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-indigo-700 dark:text-indigo-300",children:"Veculo"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white pl-3.5 capitalize truncate",children:p?.veiculos?.[0]||t.vehicleType?.split(" ")[0]||"?"})]}),(p?.volumoso||t.isBulky)&&jsxRuntimeExports.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-2 border-2 border-orange-300 dark:border-orange-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Weight,{size:12,className:"text-orange-600 dark:text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-orange-700 dark:text-orange-300",children:"Volumoso"})]})})]}),p?.regioes&&p.regioes.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200/50 dark:border-green-800/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[jsxRuntimeExports.jsx(MapPin,{size:12,className:"text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-green-700 dark:text-green-300",children:"Regies"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5 pl-3.5",children:[p.regioes.slice(0,2).map((m,x)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold bg-green-100 dark:bg-green-800/40 text-green-700 dark:text-green-300 border border-green-300 dark:border-green-700",children:m},x)),p.regioes.length>2&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",children:["+",p.regioes.length-2]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wide text-muted-foreground mb-2",children:"Motoristas"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200/50 dark:border-orange-800/30",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-orange-500/20 flex items-center justify-center text-xs font-bold text-orange-700 dark:text-orange-300",children:o?.initials||t.solicitante.initials||t.solicitante.name?.charAt(0)||"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white truncate",children:o?.name||t.solicitante.name}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:"Solicitante"})]})]}),t.assignedTo&&jsxRuntimeExports.jsx(ArrowRight,{size:14,className:"text-muted-foreground flex-shrink-0"}),t.assignedTo?i?jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200/50 dark:border-blue-800/30",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-blue-500/20 flex items-center justify-center text-xs font-bold text-blue-700 dark:text-blue-300",children:i.initials||i.name?.charAt(0)||"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white truncate",children:i.name}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:"Prestador"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200/50 dark:border-blue-800/30",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 flex-shrink-0 rounded-full bg-blue-500/20 flex items-center justify-center text-xs font-bold text-blue-700 dark:text-blue-300",children:"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white truncate",children:"Motorista no encontrado"}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-muted-foreground truncate",children:["Prestador (ID: ",t.assignedTo.substring(0,12),"...)"]})]})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg bg-gray-50 dark:bg-gray-800/20 border border-gray-200/50 dark:border-gray-700/30",children:jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Aguardando prestador"})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground truncate max-w-[50%]",children:[jsxRuntimeExports.jsx(Building,{size:12,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",title:t.hub,children:t.hub?.split("_")[2]||t.hub||"Hub..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:m=>{m.stopPropagation();const x=p?.loc||t.location;x?window.open(x,"_blank"):showNotification$1("error","Erro","Localizao no disponvel para este chamado.")},className:"p-1.5 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors",title:"Abrir no Maps",children:jsxRuntimeExports.jsx(MapPin,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:m=>{m.stopPropagation(),handleContactDriver(t.solicitante.phone)},className:"p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600 dark:text-green-400 transition-colors",title:"Chamar no WhatsApp",children:jsxRuntimeExports.jsx(Phone,{size:14})})]})]}),t.reason&&!p?.motivo&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-[10px] py-0.5 h-5 border-red-200 text-red-700 bg-red-50 dark:bg-red-900/20 dark:text-red-300 dark:border-red-900/50 truncate max-w-full",children:t.reason})}),jsxRuntimeExports.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"absolute top-3 right-12 p-1.5 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 opacity-0 group-hover:opacity-100 transition-all z-10",title:"Excluir",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]})},ApprovalCard=({call:t,onApprove:e,onReject:n,onDelete:s,drivers:i})=>{const o=t.assignedTo?i.find(c=>c.uid===t.assignedTo||c.googleUid===t.assignedTo||c.shopeeId===t.assignedTo):null,a=c=>c.includes("Aqui est a descrio")&&c.split('"')[1]||c;return jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden shadow-lg border-l-8 border-purple-500 rounded-xl bg-card",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"p-4 bg-purple-500/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(AvatarComponent,{user:t.solicitante}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-foreground",children:t.solicitante.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicitante"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsx(UrgencyBadge$1,{urgency:t.urgency}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full text-green-500 hover:bg-green-500/10 hover:text-green-600",onClick:c=>{c.stopPropagation(),handleContactDriver(t.solicitante.phone)},children:jsxRuntimeExports.jsx(Phone,{size:16})})]})]}),o&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm text-muted-foreground pl-1 pt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(ArrowRight,{size:16,className:"text-muted-foreground/50"}),jsxRuntimeExports.jsx(AvatarComponent,{user:o}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:o.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Prestador do Apoio"})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full text-green-500 hover:bg-green-500/10 hover:text-green-600",onClick:c=>{c.stopPropagation(),handleContactDriver(o.phone)},children:jsxRuntimeExports.jsx(Phone,{size:16})})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"p-4 space-y-3",children:[t.reason&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"w-full justify-center border-red-200 text-red-700 bg-red-50 dark:bg-red-900/20 dark:text-red-300 dark:border-red-900/50",children:t.reason}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{size:14,className:"text-primary"}),jsxRuntimeExports.jsx("span",{children:t.packageCount||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Truck,{size:14,className:"text-primary"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:t.vehicleType||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building,{size:14,className:"text-primary"}),jsxRuntimeExports.jsx("span",{children:t.hub||"N/A"})]})]}),jsxRuntimeExports.jsx("p",{className:"font-sans text-sm font-medium text-foreground bg-muted/50 p-3 rounded-md whitespace-pre-wrap",children:a(t.description)})]}),jsxRuntimeExports.jsxs(CardFooter,{className:"mt-2 pt-3 border-t bg-muted/30 p-4 flex justify-end gap-3",children:[jsxRuntimeExports.jsx(Button$1,{onClick:()=>s(t),variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10",title:"Excluir Solicitao",children:jsxRuntimeExports.jsx(Trash2,{size:16})}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>n(t),variant:"destructive",size:"sm",className:"rounded-lg",children:[jsxRuntimeExports.jsx(X,{size:16,className:"mr-1.5"})," Rejeitar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>e(t),variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700 rounded-lg",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16,className:"mr-1.5"})," Aprovar"]})]})]})},viewTitles={kanban:"Acompanhamento Operacional",excluded:"Solicitaes Excludas (Lixeira)",history:"Histrico de Solicitaes",profile:"Perfil e Configuraes"},AdminDashboard=({calls:t,drivers:e,updateCall:n,onDeleteCall:s,onDeletePermanently:i,onDeleteAllExcluded:o})=>{const[a,c]=reactExports.useState(!1),[u,f]=reactExports.useState(()=>localStorage.getItem("notificationsMuted")==="true"),[p,m]=reactExports.useState([]),x=reactExports.useRef(new Set),E=reactExports.useRef(!0),[T,_]=reactExports.useState("kanban"),[k,I]=reactExports.useState(new Date),[P,A]=reactExports.useState({name:"",email:"",phone:"",city:"",state:"",avatar:"",initials:"",address:"",zipCode:"",department:"",position:"",bio:"",linkedin:"",whatsapp:""}),[j,O]=reactExports.useState(!0),[$,V]=reactExports.useState(!1),[L,U]=reactExports.useState(!1),[J,Z]=reactExports.useState(!1),[Y,K]=reactExports.useState(null),[ke,Re]=reactExports.useState(()=>localStorage.getItem("adminCardBackgroundColor")||"#000000"),[G,q]=reactExports.useState(()=>localStorage.getItem("adminCardGradientColor")||"#1a1a1a"),[M,z]=reactExports.useState(!1),[ee,W]=reactExports.useState(()=>{if(typeof window<"u"){const xe=localStorage.getItem("theme"),Le=window.matchMedia("(prefers-color-scheme: dark)").matches;return xe||(Le?"dark":"light")}return"light"});reactExports.useEffect(()=>{const xe=()=>{const tt=new Date(new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}));I(tt)};xe();const Le=setInterval(xe,1e3);return()=>clearInterval(Le)},[]),reactExports.useEffect(()=>{const xe=window.document.documentElement;xe.classList.remove("light","dark"),xe.classList.add(ee),localStorage.setItem("theme",ee)},[ee]);const ie=()=>{const xe=ee==="light"?"dark":"light";W(xe);const Le=window.document.documentElement;Le.classList.remove("light","dark"),Le.classList.add(xe),localStorage.setItem("theme",xe)};reactExports.useEffect(()=>{(async()=>{const Le=auth.currentUser;if(!Le){O(!1);return}try{O(!0);const tt=new Promise((st,bt)=>setTimeout(()=>bt(new Error("Timeout")),5e3)),Ke=doc(db,"admins_pre_aprovados",Le.uid),ht=await Promise.race([getDoc(Ke),tt]);if(ht.exists()){const st=ht.data(),Et=(st.name||"").split(" ").map(lr=>lr[0]).join("").toUpperCase().slice(0,2);A({name:st.name||"",email:st.email||Le.email||"",phone:st.phone||"",city:st.city||"",state:st.state||"",avatar:st.avatar||"",initials:Et||Le.email?.[0].toUpperCase()||"A",address:st.address||"",zipCode:st.zipCode||"",department:st.department||"",position:st.position||"",bio:st.bio||"",linkedin:st.linkedin||"",whatsapp:st.whatsapp||""}),K(st.avatar||null)}else{const st=Le.displayName||Le.email?.split("@")[0]||"Admin",bt=st.split(" ").map(lr=>lr[0]).join("").toUpperCase().slice(0,2),Et={uid:Le.uid,email:Le.email||"",name:st,phone:"",city:"",state:"",avatar:"",initials:bt||"A",role:"admin"};await setDoc(Ke,Et),A({name:Et.name,email:Et.email,phone:"",city:"",state:"",avatar:"",initials:Et.initials,address:"",zipCode:"",department:"",position:"",bio:"",linkedin:"",whatsapp:""})}}catch(tt){console.error("Erro ao carregar perfil:",tt),tt.message!=="Timeout"&&toast.error("Erro ao carregar perfil");const Ke=auth.currentUser;if(Ke){const ht=Ke.displayName||Ke.email?.split("@")[0]||"Admin",st=ht.split(" ").map(bt=>bt[0]).join("").toUpperCase().slice(0,2);A({name:ht,email:Ke.email||"",phone:"",city:"",state:"",avatar:Ke.photoURL||"",initials:st||"A",address:"",zipCode:"",department:"",position:"",bio:"",linkedin:"",whatsapp:""})}}finally{O(!1)}})()},[]);const se=async xe=>{const Le=xe.target.files?.[0];if(!Le)return;const tt=auth.currentUser;if(tt){if(!Le.type.startsWith("image/")){toast.error("Por favor, selecione uma imagem");return}if(Le.size>5*1024*1024){toast.error("A imagem deve ter no mximo 5MB");return}try{Z(!0);const Ke=ref(storage,`admin-avatars/${tt.uid}/${Date.now()}_${Le.name}`);await uploadBytesResumable(Ke,Le);const ht=await getDownloadURL(Ke);A(bt=>({...bt,avatar:ht})),K(ht);const st=doc(db,"admins_pre_aprovados",tt.uid);await updateDoc(st,{avatar:ht}),toast.success("Foto atualizada com sucesso!")}catch(Ke){console.error("Erro ao fazer upload:",Ke),toast.error("Erro ao fazer upload da foto: "+Ke.message)}finally{Z(!1)}}},Pe=async()=>{const xe=auth.currentUser;if(xe){if(!P.name.trim()){toast.error("O nome  obrigatrio");return}try{V(!0);const Le=doc(db,"admins_pre_aprovados",xe.uid),tt=P.name.split(" ").map(Ke=>Ke[0]).join("").toUpperCase().slice(0,2);await updateDoc(Le,{name:P.name.trim(),phone:P.phone.replace(/\D/g,""),city:P.city.trim(),state:P.state.trim(),initials:tt,address:P.address.trim(),zipCode:P.zipCode.replace(/\D/g,""),department:P.department.trim(),position:P.position.trim(),bio:P.bio.trim(),linkedin:P.linkedin.trim(),whatsapp:P.whatsapp.replace(/\D/g,"")}),A(Ke=>({...Ke,initials:tt})),toast.success("Perfil atualizado com sucesso!")}catch(Le){console.error("Erro ao salvar perfil:",Le),toast.error("Erro ao salvar perfil: "+Le.message)}finally{V(!1)}}},[Ne,Oe]=reactExports.useState("TODOS"),[je,Be]=reactExports.useState(null),[We,Ue]=reactExports.useState(null),[Ze,ot]=reactExports.useState(null),[Je,He]=reactExports.useState(null),[Ge,at]=reactExports.useState(""),[et,lt]=reactExports.useState("Todos os Hubs"),[pt,Tt]=reactExports.useState("Todos os Hubs"),[yt,_t]=reactExports.useState({start:"",end:"",hub:"Todos",routeId:"",status:"Todos"}),[Pt,Lt]=reactExports.useState({start:"",end:"",hub:"Todos",routeId:"",status:"Todos"}),[Jt,Ct]=reactExports.useState("Todos os Hubs"),[It,Yt]=reactExports.useState("Todos os Veculos"),Zt=reactExports.useRef(new Set),er=reactExports.useRef([]),[tr,gr]=reactExports.useState([{id:"abertos",label:"Abertos",isVisible:!0,colorClass:"#F59E0B"},{id:"em_andamento",label:"Em Andamento",isVisible:!0,colorClass:"#3B82F6"},{id:"aprovacao",label:"Aprovao",isVisible:!0,colorClass:"#8B5CF6"},{id:"devolucao",label:"Devoluo",isVisible:!0,colorClass:"#EF4444"},{id:"concluidos",label:"Concludos",isVisible:!0,colorClass:"#10B981"},{id:"motoristas",label:"Motoristas",isVisible:!0,colorClass:"#6B7280"}]),qe=useSensors(useSensor(PointerSensor),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates})),tn=xe=>{const{active:Le,over:tt}=xe;Le.id!==tt?.id&&gr(Ke=>{const ht=Ke.findIndex(bt=>bt.id===Le.id),st=Ke.findIndex(bt=>bt.id===tt?.id);return arrayMove(Ke,ht,st)})},zr=xe=>{gr(Le=>Le.map(tt=>tt.id===xe?{...tt,isVisible:!tt.isVisible}:tt))},Ur=async(xe,Le)=>{if(!xe)return;const tt=doc(db,"motoristas_pre_aprovados",xe);await updateDoc(tt,Le)},Nr=()=>{Lt(yt),showNotification$1("info","Filtros Aplicados","Os filtros do histrico foram atualizados com sucesso.")},vr=(xe,Le)=>{_t(tt=>({...tt,[xe]:Le}))},rr=xe=>{const Le=["ID","Solicitante","Apoio","Hub","Status","Data","Aprovado Por","Urgncia","Motivo"],tt=xe.map(Et=>{const lr=Et.assignedTo?e.find(Gr=>Gr.uid===Et.assignedTo||Gr.googleUid===Et.assignedTo||Gr.shopeeId===Et.assignedTo):null,Wr=Et.timestamp?format(Et.timestamp instanceof Timestamp?Et.timestamp.toDate():new Date(Et.timestamp.seconds*1e3),"dd/MM/yyyy HH:mm",{locale:ptBR}):"N/A";return[Et.id||"",Et.solicitante?.name||"",lr?.name||"N/A",Et.hub||"N/A",Et.status?.replace("_"," ")||"N/A",Wr,Et.approvedBy||"N/A",Et.urgency||"N/A",Et.reason||""]}),Ke=[Le.join(","),...tt.map(Et=>Et.map(lr=>`"${String(lr).replace(/"/g,'""')}"`).join(","))].join(`
`),ht=new Blob(["\uFEFF"+Ke],{type:"text/csv;charset=utf-8;"}),st=document.createElement("a"),bt=URL.createObjectURL(ht);st.setAttribute("href",bt),st.setAttribute("download",`historico_${format(new Date,"dd-MM-yyyy_HH-mm")}.csv`),st.style.visibility="hidden",document.body.appendChild(st),st.click(),document.body.removeChild(st),showNotification$1("success","Exportado","Relatrio CSV exportado com sucesso!")},rn=xe=>{const Le=xe.map(bt=>{const Et=bt.assignedTo?e.find(Wr=>Wr.uid===bt.assignedTo||Wr.googleUid===bt.assignedTo||Wr.shopeeId===bt.assignedTo):null,lr=bt.timestamp?format(bt.timestamp instanceof Timestamp?bt.timestamp.toDate():new Date(bt.timestamp.seconds*1e3),"dd/MM/yyyy HH:mm",{locale:ptBR}):"N/A";return{id:bt.id,solicitante:bt.solicitante?.name||"",apoio:Et?.name||"N/A",hub:bt.hub||"N/A",status:bt.status?.replace("_"," ")||"N/A",data:lr,aprovadoPor:bt.approvedBy||"N/A",urgencia:bt.urgency||"N/A",motivo:bt.reason||""}}),tt=JSON.stringify(Le,null,2),Ke=new Blob([tt],{type:"application/json"}),ht=document.createElement("a"),st=URL.createObjectURL(Ke);ht.setAttribute("href",st),ht.setAttribute("download",`historico_${format(new Date,"dd-MM-yyyy_HH-mm")}.json`),ht.style.visibility="hidden",document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),showNotification$1("success","Exportado","Relatrio JSON exportado com sucesso!")},nr=xe=>{const Le=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Relatrio de Histrico</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
            }
            h1 {
              color: #f97316;
              text-align: center;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 20px;
            }
            th, td {
              border: 1px solid #ddd;
              padding: 8px;
              text-align: left;
            }
            th {
              background-color: #f97316;
              color: white;
            }
            tr:nth-child(even) {
              background-color: #f9f9f9;
            }
            .header-info {
              margin-bottom: 20px;
              text-align: center;
            }
          </style>
        </head>
        <body>
          <div class="header-info">
            <h1>Relatrio de Histrico de Solicitaes</h1>
            <p>Data de Exportao: ${format(new Date,"dd/MM/yyyy HH:mm",{locale:ptBR})}</p>
            <p>Total de Registros: ${xe.length}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Solicitante</th>
                <th>Apoio</th>
                <th>Hub</th>
                <th>Status</th>
                <th>Data</th>
                <th>Aprovado Por</th>
                <th>Urgncia</th>
              </tr>
            </thead>
            <tbody>
              ${xe.map(st=>{const bt=st.assignedTo?e.find(lr=>lr.uid===st.assignedTo||lr.googleUid===st.assignedTo||lr.shopeeId===st.assignedTo):null,Et=st.timestamp?format(st.timestamp instanceof Timestamp?st.timestamp.toDate():new Date(st.timestamp.seconds*1e3),"dd/MM/yyyy HH:mm",{locale:ptBR}):"N/A";return`
                    <tr>
                      <td>${st.id||""}</td>
                      <td>${st.solicitante?.name||""}</td>
                      <td>${bt?.name||"N/A"}</td>
                      <td>${st.hub||"N/A"}</td>
                      <td>${st.status?.replace("_"," ")||"N/A"}</td>
                      <td>${Et}</td>
                      <td>${st.approvedBy||"N/A"}</td>
                      <td>${st.urgency||"N/A"}</td>
                    </tr>
                  `}).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,tt=new Blob([Le],{type:"text/html"}),Ke=URL.createObjectURL(tt),ht=document.createElement("a");ht.href=Ke,ht.download=`historico_${format(new Date,"dd-MM-yyyy_HH-mm")}.html`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(Ke),showNotification$1("success","Exportado","Relatrio HTML exportado! Abra o arquivo e use 'Imprimir como PDF' no navegador.")},Ft=xe=>{const Le=["ID","Solicitante","Apoio","Hub","Status","Data","Aprovado Por","Urgncia","Motivo"],tt=xe.map(Et=>{const lr=Et.assignedTo?e.find(Gr=>Gr.uid===Et.assignedTo||Gr.googleUid===Et.assignedTo||Gr.shopeeId===Et.assignedTo):null,Wr=Et.timestamp?format(Et.timestamp instanceof Timestamp?Et.timestamp.toDate():new Date(Et.timestamp.seconds*1e3),"dd/MM/yyyy HH:mm",{locale:ptBR}):"N/A";return[Et.id||"",Et.solicitante?.name||"",lr?.name||"N/A",Et.hub||"N/A",Et.status?.replace("_"," ")||"N/A",Wr,Et.approvedBy||"N/A",Et.urgency||"N/A",Et.reason||""]}),Ke=[Le.join("	"),...tt.map(Et=>Et.join("	"))].join(`
`),ht=new Blob(["\uFEFF"+Ke],{type:"application/vnd.ms-excel"}),st=document.createElement("a"),bt=URL.createObjectURL(ht);st.setAttribute("href",bt),st.setAttribute("download",`historico_${format(new Date,"dd-MM-yyyy_HH-mm")}.xls`),st.style.visibility="hidden",document.body.appendChild(st),st.click(),document.body.removeChild(st),showNotification$1("success","Exportado","Relatrio Excel exportado com sucesso!")};reactExports.useEffect(()=>{const xe=query(collection(db,"supportCalls"),where("status","==","ABERTO"),orderBy("timestamp","desc")),Le=onSnapshot(xe,tt=>{tt.docChanges().forEach(Ke=>{if(Ke.type==="added"&&!E.current){const ht={id:Ke.doc.id,...Ke.doc.data()};if(!x.current.has(ht.id)&&(m(st=>[...st,ht]),x.current.add(ht.id),!u)){const st=new Audio("/shopee-ringtone.mp3");st.volume=.5,st.play().catch(()=>{})}}}),E.current&&(E.current=!1)});return()=>Le()},[u]);const Gt=xe=>{m(Le=>Le.filter(tt=>tt.id!==xe))},ct=()=>{const xe=!u;if(f(xe),localStorage.setItem("notificationsMuted",String(xe)),!xe){const Le=new Audio("/shopee-ringtone.mp3");Le.volume=.5,Le.play().catch(()=>{})}showNotification$1("info",xe?"Silenciado":"Som Ativado",xe?"Notificaes silenciadas.":"Alertas sonoros ativos.")};reactExports.useEffect(()=>{const xe=localStorage.getItem("notificationsMuted");f(xe==="true")},[]),reactExports.useEffect(()=>{const xe=setInterval(()=>{const Le=Date.now(),tt=["BAIXA","MEDIA","ALTA","URGENTE"];t.forEach(Ke=>{if(Ke.status==="ABERTO"&&Ke.timestamp){const ht=Ke.timestamp instanceof Timestamp?Ke.timestamp.toMillis():Ke.timestamp.seconds*1e3,st=(Le-ht)/6e4,bt=tt.indexOf(Ke.urgency),Et=Math.floor(st/30),lr=Math.min(bt+Et,tt.length-1);tt[lr]!==Ke.urgency&&n(Ke.id,{urgency:tt[lr]})}})},6e4);return()=>clearInterval(xe)},[t,n]),reactExports.useEffect(()=>{const xe=()=>{const tt=new Date,Ke=new Date(tt.getTime()-1440*60*1e3);t.filter(ht=>!["ARQUIVADO","EXCLUIDO","ABERTO"].includes(ht.status)).forEach(ht=>{ht.timestamp&&(ht.timestamp instanceof Timestamp?ht.timestamp.toDate():new Date(ht.timestamp.seconds*1e3))<Ke&&n(ht.id,{status:"ARQUIVADO"})})},Le=setInterval(xe,36e5);return xe(),()=>clearInterval(Le)},[t,n]),reactExports.useEffect(()=>{const xe=new Map(er.current.map(Ke=>[Ke.id,Ke.status])),Le=t.filter(Ke=>{const ht=xe.get(Ke.id);return Ke.status==="ABERTO"&&ht!=="ABERTO"&&!Zt.current.has(Ke.id)});Le.length>0&&(u||new Audio("/shopee-ringtone.mp3").play().catch(ht=>console.error("Erro som:",ht)),Le.forEach(Ke=>{showNotification$1("warning","Novo Chamado!",`${Ke.solicitante.name} precisa de apoio.`),Zt.current.add(Ke.id)})),er.current=t;const tt=new Set(t.filter(Ke=>Ke.status==="ABERTO").map(Ke=>Ke.id));Zt.current.forEach(Ke=>{tt.has(Ke)||Zt.current.delete(Ke)})},[t,u]);const Dt=async xe=>{try{const Le={status:"CONCLUIDO",approvedBy:"Admin"};await n(xe.id,Le),xe.solicitante.id&&await Ur(xe.solicitante.id,{status:"DISPONIVEL"}),xe.assignedTo&&await Ur(xe.assignedTo,{status:"DISPONIVEL"}),showNotification$1("success","Aprovado","Chamado concludo com sucesso.")}catch{showNotification$1("error","Erro","Falha ao aprovar.")}},kt=async xe=>{try{await n(xe.id,{status:"EM ANDAMENTO"}),showNotification$1("warning","Rejeitado","Chamado voltou para Em Andamento.")}catch{showNotification$1("error","Erro","Falha ao rejeitar.")}},Mt=xe=>{Ue(xe),ot("soft-delete")},qt=xe=>{Ue(xe),ot("permanent-delete")},Ot=()=>{ot("clear-all")},vt=()=>{Ue(null),ot(null)},dr=()=>{Ze==="soft-delete"&&We?(s(We.id),showNotification$1("success","Lixeira","Chamado movido para lixeira.")):Ze==="permanent-delete"&&We?(i(We.id),showNotification$1("success","Excludo","Chamado excludo permanentemente.")):Ze==="clear-all"&&(o(),showNotification$1("success","Limpo","Lixeira esvaziada.")),vt()},Nt=xe=>{n(xe,{status:"ABERTO",deletedAt:deleteField()}),showNotification$1("success","Restaurado","Chamado voltou para Abertos.")},Vt=reactExports.useMemo(()=>t.filter(xe=>pt==="Todos os Hubs"||xe.hub===pt),[t,pt]),Kt=reactExports.useMemo(()=>Vt.filter(xe=>!["EXCLUIDO","ARQUIVADO"].includes(xe.status)),[Vt]),Xt=reactExports.useMemo(()=>Vt.filter(xe=>xe.status==="EXCLUIDO"),[Vt]),jt=reactExports.useMemo(()=>Kt.filter(xe=>xe.status==="ABERTO"),[Kt]),Dr=reactExports.useMemo(()=>Kt.filter(xe=>xe.status==="EM ANDAMENTO"),[Kt]),_n=reactExports.useMemo(()=>Kt.filter(xe=>xe.status==="AGUARDANDO_APROVACAO"),[Kt]),Mr=reactExports.useMemo(()=>Kt.filter(xe=>xe.status==="DEVOLUCAO"),[Kt]),hn=reactExports.useMemo(()=>Kt.filter(xe=>xe.status==="CONCLUIDO"),[Kt]),hr=reactExports.useMemo(()=>e.filter(xe=>pt==="Todos os Hubs"||xe.hub===pt),[e,pt]),bn=reactExports.useMemo(()=>hr.filter(xe=>{const Le=xe.status==="DISPONIVEL",tt=Jt==="Todos os Hubs"||xe.hub===Jt,Ke=It==="Todos os Veculos"||xe.vehicleType===It;return Le&&tt&&Ke}),[hr,Jt,It]),Hr=reactExports.useMemo(()=>Ne==="TODOS"?jt:jt.filter(xe=>xe.urgency===Ne),[jt,Ne]),Hn=reactExports.useMemo(()=>Xt.filter(xe=>(Ge===""||xe.solicitante.name.toLowerCase().includes(Ge.toLowerCase()))&&(et==="Todos os Hubs"||xe.hub===et)),[Xt,Ge,et]),fn=reactExports.useMemo(()=>Vt.filter(xe=>{if(xe.status==="EXCLUIDO"||Pt.hub!=="Todos"&&xe.hub!==Pt.hub||Pt.routeId&&!xe.routeId?.toLowerCase().includes(Pt.routeId.toLowerCase())||Pt.status==="Concluidas"&&xe.status!=="CONCLUIDO"||Pt.status==="Nao Concluidas"&&(xe.status==="CONCLUIDO"||xe.status==="ARQUIVADO"))return!1;const Le=xe.timestamp instanceof Timestamp?xe.timestamp.toDate():new Date(xe.timestamp.seconds*1e3);if(Pt.start&&Le<new Date(Pt.start))return!1;if(Pt.end){const tt=new Date(Pt.end);if(tt.setHours(23,59,59,999),Le>tt)return!1}return!0}).sort((xe,Le)=>{const tt=xe.timestamp instanceof Timestamp?xe.timestamp.toMillis():xe.timestamp?.seconds*1e3||0;return(Le.timestamp instanceof Timestamp?Le.timestamp.toMillis():Le.timestamp?.seconds*1e3||0)-tt}),[Vt,Pt]),Wn=reactExports.useMemo(()=>["Todos",...new Set(t.map(xe=>xe.hub).filter(xe=>!!xe))].sort(),[t]),Gn=reactExports.useMemo(()=>["Todos os Hubs",...new Set(e.map(xe=>xe.hub).filter(xe=>!!xe))].sort(),[e]),qn=reactExports.useMemo(()=>{const xe=[...HUBS],Le=new Set(xe),tt=new Set(t.map(bt=>bt.hub).filter(bt=>!!bt)),Ke=new Set(e.map(bt=>bt.hub).filter(bt=>!!bt)),ht=new Set([...Le,...tt,...Ke]);return["Todos os Hubs",...Array.from(ht)].sort()},[t,e]),ss=reactExports.useMemo(()=>["Todos os Veculos",...new Set(e.map(xe=>xe.vehicleType).filter(xe=>!!xe))].sort(),[e]),jn=reactExports.useMemo(()=>["Todos os Hubs",...new Set(Xt.map(xe=>xe.hub).filter(xe=>!!xe))],[Xt]),$t=jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["TODOS","URGENTE","ALTA","MEDIA","BAIXA"].map(xe=>jsxRuntimeExports.jsx(Button$1,{onClick:()=>Oe(xe),variant:Ne===xe?"default":"secondary",size:"sm",className:"text-xs h-7 px-2.5 rounded-full",children:xe==="TODOS"?"Todos":xe.charAt(0)+xe.slice(1).toLowerCase()},xe))}),xs=jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[jsxRuntimeExports.jsx(SearchableSelect,{options:Gn,value:Jt,onChange:Ct,placeholder:"Filtrar por Hub...",icon:Building}),jsxRuntimeExports.jsx(SearchableSelect,{options:ss,value:It,onChange:Yt,placeholder:"Filtrar por Veculo...",icon:Truck})]}),Rn=je&&t.find(xe=>xe.assignedTo===je.uid&&(xe.status==="EM ANDAMENTO"||xe.status==="AGUARDANDO_APROVACAO"))||null,pn=xe=>{switch(xe){case"abertos":return Hr;case"em_andamento":return Dr;case"aprovacao":return _n;case"devolucao":return Mr;case"concluidos":return hn;case"motoristas":return bn;default:return[]}},Vr=(xe,Le)=>{if(xe==="motoristas")return jsxRuntimeExports.jsx(KanbanColumn,{title:"Motoristas",count:Le.length,colorClass:"#6B7280",headerControls:xs,children:Le.map(ht=>jsxRuntimeExports.jsx(EnhancedDriverCard,{driver:ht,onInfoClick:()=>Be(ht)},ht.uid))});if(xe==="aprovacao")return jsxRuntimeExports.jsx(KanbanColumn,{title:"Aprovao",count:Le.length,colorClass:"#8B5CF6",children:Le.map(ht=>jsxRuntimeExports.jsx(ApprovalCard,{call:ht,onApprove:Dt,onReject:kt,onDelete:Mt,drivers:e},ht.id))});const tt={abertos:"Abertos",em_andamento:"Em Andamento",devolucao:"Devoluo",concluidos:"Concludos"},Ke={abertos:"#F59E0B",em_andamento:"#3B82F6",devolucao:"#EF4444",concluidos:"#10B981"};return jsxRuntimeExports.jsx(KanbanColumn,{title:tt[xe],count:Le.length,colorClass:Ke[xe],headerControls:xe==="abertos"?$t:void 0,children:Le.map(ht=>jsxRuntimeExports.jsx(CallCard,{call:ht,onDelete:Mt,drivers:e,onClick:He},ht.id))})};return jsxRuntimeExports.jsxs(TooltipProvider,{children:[p.map((xe,Le)=>jsxRuntimeExports.jsx(RouteNotificationCard,{call:xe,onClose:()=>Gt(xe.id),theme:ee,index:Le},xe.id)),jsxRuntimeExports.jsxs("div",{className:cn$1("flex min-h-screen text-foreground",ee==="dark"&&"bg-[hsl(222_47%_8%)]"),style:{background:ee==="light"?"linear-gradient(to bottom, #fff5f0 0%, #ffe8d6 5%, #ffd4b8 10%, #ffb88c 15%, #ffa366 20%, #ff8c42 25%, #ff7733 30%, #ff6622 35%, #ff5511 40%, #ff4400 45%, #ee3d00 50%, #dd3300 55%, #cc2a00 60%, #bb2200 65%, #aa1a00 70%, #991100 75%, #880900 80%, #770600 85%, #660400 90%, #550300 95%, #440200 100%)":void 0,backgroundAttachment:ee==="light"?"fixed":void 0,minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("aside",{className:cn$1("sticky top-0 h-screen flex-shrink-0 p-4 flex flex-col gap-6 transition-all duration-300 ease-in-out backdrop-blur-xl border-r border-border",a?"w-20":"w-64",ee==="light"?"bg-white/70 border-orange-200/50":"bg-slate-900/95 border-slate-700/50"),children:[jsxRuntimeExports.jsx(Button$1,{variant:"secondary",size:"icon",className:"absolute top-4 -right-4 z-20 rounded-full w-8 h-8",onClick:()=>c(!a),children:a?jsxRuntimeExports.jsx(PanelRight,{size:18}):jsxRuntimeExports.jsx(PanelLeft,{size:18})}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-3 px-2 transition-all",a&&"justify-center"),children:[jsxRuntimeExports.jsx("img",{src:spxLogo,alt:"spx-logo.png",className:"w-10 h-10 flex-shrink-0"}),jsxRuntimeExports.jsx("div",{className:cn$1("overflow-hidden transition-all duration-200",a?"w-0 opacity-0":"w-auto opacity-100"),children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-primary whitespace-nowrap",children:"Central SPX"})})]}),jsxRuntimeExports.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[jsxRuntimeExports.jsxs(Button$1,{variant:T==="kanban"?"secondary":"ghost",className:cn$1("gap-2 justify-start",a&&"justify-center"),onClick:()=>_("kanban"),children:[jsxRuntimeExports.jsx(LayoutDashboard,{size:18})," ",jsxRuntimeExports.jsx("span",{className:cn$1(a&&"hidden"),children:"Quadro Geral"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:T==="excluded"?"secondary":"ghost",className:cn$1("gap-2 justify-start",a&&"justify-center"),onClick:()=>_("excluded"),children:[jsxRuntimeExports.jsx(Trash2,{size:18})," ",jsxRuntimeExports.jsx("span",{className:cn$1(a&&"hidden"),children:"Lixeira"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:T==="history"?"secondary":"ghost",className:cn$1("gap-2 justify-start",a&&"justify-center"),onClick:()=>_("history"),children:[jsxRuntimeExports.jsx(History,{size:18})," ",jsxRuntimeExports.jsx("span",{className:cn$1(a&&"hidden"),children:"Histrico"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:jsxRuntimeExports.jsxs(Button$1,{variant:T==="profile"?"secondary":"ghost",className:cn$1("gap-2 w-full justify-start",a&&"justify-center"),onClick:()=>_("profile"),children:[jsxRuntimeExports.jsx(User,{size:18})," ",jsxRuntimeExports.jsx("span",{className:cn$1(a&&"hidden"),children:"Perfil"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[jsxRuntimeExports.jsxs("header",{className:cn$1("sticky top-0 z-10 p-4 sm:p-6 flex justify-between items-center backdrop-blur-xl border-b border-border transition-all duration-300",ee==="light"?"bg-gradient-to-r from-orange-50/90 via-orange-100/80 to-orange-50/90":"bg-background/95"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("h2",{className:cn$1("text-xl font-semibold",ee==="light"?"text-slate-800":"text-foreground"),children:viewTitles[T]}),T==="kanban"&&jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Settings2,{size:16})," Configurar Painel"]})}),jsxRuntimeExports.jsxs(PopoverContent,{className:"w-64 p-4",align:"start",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Exibir e Reordenar"}),jsxRuntimeExports.jsx(DndContext,{sensors:qe,collisionDetection:closestCenter,onDragEnd:tn,children:jsxRuntimeExports.jsx(SortableContext,{items:tr,strategy:verticalListSortingStrategy,children:tr.map(xe=>jsxRuntimeExports.jsx(SortableItem,{id:xe.id,label:xe.label,isVisible:xe.isVisible,onToggle:()=>zr(xe.id)},xe.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Popover,{open:M,onOpenChange:z,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-accent transition-all","aria-label":"Escolher cor do card",title:"Escolher cor do card",children:jsxRuntimeExports.jsx(Palette,{size:20})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-80 p-4",align:"end",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm",children:"Cor de Fundo do Card"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Cor Principal"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:ke,onChange:xe=>{const Le=xe.target.value;Re(Le),localStorage.setItem("adminCardBackgroundColor",Le)},className:"w-16 h-10 rounded-lg border cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:ke,onChange:xe=>{const Le=xe.target.value;Re(Le),localStorage.setItem("adminCardBackgroundColor",Le)},className:"flex-1 px-3 py-2 rounded-lg border text-sm",placeholder:"#000000"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Cor do Gradiente"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:G,onChange:xe=>{const Le=xe.target.value;q(Le),localStorage.setItem("adminCardGradientColor",Le)},className:"w-16 h-10 rounded-lg border cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:G,onChange:xe=>{const Le=xe.target.value;q(Le),localStorage.setItem("adminCardGradientColor",Le)},className:"flex-1 px-3 py-2 rounded-lg border text-sm",placeholder:"#1a1a1a"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Cores Pr-definidas"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Preto",main:"#000000",grad:"#1a1a1a"},{name:"Azul Escuro",main:"#1e3a5f",grad:"#2d4a6b"},{name:"Verde Escuro",main:"#1a3a1a",grad:"#2d4a2d"},{name:"Roxo Escuro",main:"#2d1a3a",grad:"#3d2a4a"},{name:"Vermelho Escuro",main:"#3a1a1a",grad:"#4a2a2d"},{name:"Laranja Escuro",main:"#3a2a1a",grad:"#4a3a2d"},{name:"Cinza Escuro",main:"#1a1a1a",grad:"#2d2d2d"},{name:"Azul Marinho",main:"#0a1a2a",grad:"#1a2a3a"}].map(xe=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Re(xe.main),q(xe.grad),localStorage.setItem("adminCardBackgroundColor",xe.main),localStorage.setItem("adminCardGradientColor",xe.grad)},className:"p-2 rounded-lg border hover:border-orange-500 transition-all text-xs",title:xe.name,children:[jsxRuntimeExports.jsx("div",{className:"w-full h-8 rounded mb-1",style:{background:`linear-gradient(to bottom, ${xe.main} 0%, ${xe.grad} 100%)`}}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-muted-foreground",children:xe.name})]},xe.name))})]})]})]})})]}),jsxRuntimeExports.jsx("button",{onClick:ie,className:"w-9 h-9 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-accent transition-all","aria-label":"Alternar tema",children:ee==="light"?jsxRuntimeExports.jsx(Moon,{size:18,className:"sm:w-5 sm:h-5"}):jsxRuntimeExports.jsx(Sun,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-4 sm:px-6 pt-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full p-4 md:p-6 rounded-xl border border-orange-900/30 relative z-10",style:{backgroundColor:ke,background:`linear-gradient(to bottom, ${ke} 0%, ${G} 100%)`},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-4 pb-4 border-b border-orange-900/20",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Clock,{size:20,className:"text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-xl md:text-2xl font-bold",children:format(k,"HH:mm:ss",{locale:ptBR})})]}),jsxRuntimeExports.jsx("div",{className:"text-sm md:text-base text-gray-300 ml-8",children:format(k,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:ptBR})})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[P.avatar?jsxRuntimeExports.jsx("img",{src:P.avatar,alt:P.name,className:"w-16 h-16 md:w-20 md:h-20 rounded-full object-cover border-2 border-orange-500/50 shadow-lg",onError:xe=>{const Le=xe.target;Le.style.display="none";const tt=Le.parentElement;if(tt){const Ke=tt.querySelector(".avatar-fallback");Ke&&(Ke.style.display="flex")}}}):null,jsxRuntimeExports.jsx("div",{className:`avatar-fallback w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-orange-500 to-orange-700 flex items-center justify-center border-2 border-orange-500/50 shadow-lg ${P.avatar?"hidden":""}`,style:{display:P.avatar?"none":"flex"},children:jsxRuntimeExports.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:P.initials||"A"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-shrink-0 min-w-0 flex-1 sm:flex-none",children:[jsxRuntimeExports.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-white mb-1 truncate",children:P.name||"Admin Shopee"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm md:text-base text-gray-300",children:[jsxRuntimeExports.jsx(MapPin,{size:14,className:"sm:w-4 sm:h-4 text-orange-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:P.city||"No informado"})]})]})]})}),T==="kanban"&&jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(WeatherForecast,{hub:pt,className:"w-full"})})]})}),jsxRuntimeExports.jsx("main",{className:"flex-grow p-4 sm:p-6 space-y-6 relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"tab-content-enter",children:[T==="kanban"&&jsxRuntimeExports.jsxs("div",{className:"flex-grow flex flex-col space-y-4 h-[calc(100vh-140px)]",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsx(SummaryCard,{title:"Abertos",value:jt.length,icon:jsxRuntimeExports.jsx(TriangleAlert,{}),subtext:"Fila",colorClass:"#F59E0B"}),jsxRuntimeExports.jsx(SummaryCard,{title:"Pendentes",value:_n.length,icon:jsxRuntimeExports.jsx(Clock,{}),subtext:"Aprovao",colorClass:"#8B5CF6"}),jsxRuntimeExports.jsx(SummaryCard,{title:"Andamento",value:Dr.length,icon:jsxRuntimeExports.jsx(Truck,{}),subtext:"Rota",colorClass:"#3B82F6"}),jsxRuntimeExports.jsx(SummaryCard,{title:"Devolues",value:Mr.length,icon:jsxRuntimeExports.jsx(OctagonAlert,{}),subtext:"Problemas",colorClass:"#EF4444"}),jsxRuntimeExports.jsx(SummaryCard,{title:"Disponveis",value:bn.length,icon:jsxRuntimeExports.jsx(Users,{}),subtext:"Motoristas",colorClass:"#10B981"})]}),jsxRuntimeExports.jsx(PanelGroup,{direction:"horizontal",className:"flex-grow rounded-xl min-h-[500px]",style:{border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:tr.filter(xe=>xe.isVisible).map((xe,Le,tt)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(Panel,{defaultSize:100/tt.length,minSize:10,children:jsxRuntimeExports.jsx("div",{className:"h-full p-2 overflow-hidden flex flex-col",style:{background:`linear-gradient(135deg, ${xe.colorClass}08 0%, ${xe.colorClass}03 100%)`},children:Vr(xe.id,pn(xe.id))})}),Le<tt.length-1&&jsxRuntimeExports.jsx(PanelResizeHandle,{className:"w-1 transition-colors",style:{background:"rgba(255, 255, 255, 0.1)"},onMouseEnter:Ke=>{Ke.currentTarget.style.background="rgba(249, 115, 22, 0.5)"},onMouseLeave:Ke=>{Ke.currentTarget.style.background="rgba(255, 255, 255, 0.1)"}})]},xe.id))})]}),T==="excluded"&&jsxRuntimeExports.jsxs("div",{className:"tab-content-enter space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Solicitaes Excludas"}),Xt.length>0&&jsxRuntimeExports.jsxs(Button$1,{onClick:Ot,variant:"destructive",size:"sm",className:"rounded-lg",children:[jsxRuntimeExports.jsx(Trash2,{size:14,className:"mr-1.5"})," Limpar Tudo"]})]}),jsxRuntimeExports.jsx(Card,{className:"p-4 bg-card shadow-md",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsx(SearchInput,{value:Ge,onChange:at,placeholder:"Filtrar por nome...",icon:Search}),jsxRuntimeExports.jsx(SearchableSelect,{options:jn,value:et,onChange:lt,placeholder:"Filtrar por hub...",icon:Building})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Hn.length>0?Hn.map(xe=>{const Le=xe.deletedAt,tt=Le?format(Le instanceof Timestamp?Le.toDate():new Date(Le.seconds*1e3),"dd/MM/yyyy 's' HH:mm",{locale:ptBR}):"Data indisponvel";return jsxRuntimeExports.jsxs(Card,{className:"p-4 shadow-md bg-card flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground break-words overflow-wrap-anywhere",children:xe.solicitante.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground break-words overflow-wrap-anywhere line-clamp-2",children:xe.description}),xe.deletedAt&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70 mt-1",children:["Excludo em: ",tt]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>Nt(xe.id),variant:"outline",size:"sm",className:"text-green-500 border-green-500/50 hover:bg-green-500/10",children:[jsxRuntimeExports.jsx(RotateCcw,{size:14,className:"mr-1.5"})," ","Restaurar"]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>qt(xe),variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10",title:"Excluir Permanentemente",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},xe.id)}):jsxRuntimeExports.jsxs(Card,{className:"md:col-span-2 text-center py-10 px-4 shadow-sm bg-card",children:[jsxRuntimeExports.jsx(Trash2,{className:"mx-auto h-12 w-12 text-muted-foreground"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"Lixeira vazia"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"No h solicitaes excludas."})]})})]}),T==="history"&&jsxRuntimeExports.jsxs("div",{className:"tab-content-enter space-y-6",children:[jsxRuntimeExports.jsx(Card,{className:"shadow-lg bg-card",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Data Incio"}),jsxRuntimeExports.jsx(SearchInput,{value:yt.start,onChange:xe=>vr("start",xe),placeholder:"Data de Incio",icon:CalendarDays,type:"date"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Data Fim"}),jsxRuntimeExports.jsx(SearchInput,{value:yt.end,onChange:xe=>vr("end",xe),placeholder:"Data Final",icon:CalendarDays,type:"date"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Hub"}),jsxRuntimeExports.jsx(SearchableSelect,{options:Wn,value:yt.hub,onChange:xe=>vr("hub",xe),placeholder:"Filtrar por Hub...",icon:Building})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"ID da Rota"}),jsxRuntimeExports.jsx(SearchInput,{value:yt.routeId,onChange:xe=>vr("routeId",xe),placeholder:"Pesquisar ID da Rota...",icon:Ticket})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx(SearchableSelect,{options:["Todos","Concluidas","Nao Concluidas"],value:yt.status,onChange:xe=>vr("status",xe),placeholder:"Filtrar por Status...",icon:ListFilter})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:Nr,className:"rounded-lg h-10 w-full xl:w-auto",children:[jsxRuntimeExports.jsx(Search,{size:16,className:"mr-1.5"})," Filtrar"]})]})}),jsxRuntimeExports.jsx(Card,{className:"shadow-lg bg-card",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-muted-foreground mr-2",children:"Exportar Relatrio:"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>rr(fn),variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{size:16}),"CSV"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>nr(fn),variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),"PDF"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>rn(fn),variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),"JSON"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>Ft(fn),variant:"outline",size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{size:16}),"Excel"]})]})})}),jsxRuntimeExports.jsx(Card,{className:"shadow-lg bg-card overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-foreground",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Solicitante"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Apoio"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Hub"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Data"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Aprovado Por"})]})}),jsxRuntimeExports.jsx("tbody",{children:fn.map(xe=>{const Le=xe.assignedTo?e.find(Ke=>Ke.uid===xe.assignedTo||Ke.googleUid===xe.assignedTo||Ke.shopeeId===xe.assignedTo):null,tt=xe.timestamp?format(xe.timestamp instanceof Timestamp?xe.timestamp.toDate():new Date(xe.timestamp.seconds*1e3),"dd/MM/yy HH:mm",{locale:ptBR}):"N/A";return jsxRuntimeExports.jsxs("tr",{className:"bg-card border-b border-border hover:bg-muted/50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-foreground whitespace-nowrap",children:xe.solicitante.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:Le?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:xe.hub||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:xe.status.replace("_"," ")}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:tt}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:xe.approvedBy||"N/A"})]},xe.id)})})]})})})]}),T==="profile"&&jsxRuntimeExports.jsx("div",{className:"tab-content-enter space-y-6 w-full relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:cn$1("shadow-lg border",ee==="dark"?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:cn$1(ee==="dark"?"text-white":"text-slate-800"),children:"Foto de Perfil"})}),jsxRuntimeExports.jsx(CardContent,{className:"flex flex-col items-center gap-4",children:j?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(Loading,{size:"lg",variant:"spinner"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("w-40 h-40 rounded-full overflow-hidden border-4 flex items-center justify-center",ee==="dark"?"border-orange-500/30 bg-slate-700/50":"border-orange-200/50 bg-orange-50/80"),children:[Y||P.avatar?jsxRuntimeExports.jsx("img",{src:Y||P.avatar,alt:P.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("span",{className:cn$1("text-5xl font-bold",ee==="dark"?"text-white":"text-slate-800"),children:P.initials}),J&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-slate-900/60 flex items-center justify-center",children:jsxRuntimeExports.jsx(Loading,{size:"md",variant:"spinner",className:"text-white"})})]}),jsxRuntimeExports.jsxs("label",{className:"absolute bottom-0 right-0 p-3 rounded-full cursor-pointer transition-all hover:scale-110 shadow-lg",style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)"},children:[jsxRuntimeExports.jsx(Camera,{size:22,className:"text-white"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"hidden",disabled:J})]})]}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm text-center",ee==="dark"?"text-slate-300":"text-slate-600"),children:"Clique na cmera para alterar a foto"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:cn$1("shadow-lg border",ee==="dark"?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:cn$1(ee==="dark"?"text-white":"text-slate-800"),children:"Configuraes do Painel"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center justify-between p-4 rounded-lg border",ee==="dark"?"bg-slate-700/50 border-orange-500/30":"bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[u?jsxRuntimeExports.jsx(VolumeX,{size:20,className:ee==="dark"?"text-slate-300":"text-slate-600"}):jsxRuntimeExports.jsx(Volume2,{size:20,className:ee==="dark"?"text-slate-300":"text-slate-600"}),jsxRuntimeExports.jsx("label",{htmlFor:"mute-toggle",className:cn$1("text-sm font-medium",ee==="dark"?"text-white":"text-slate-800"),children:"Som das Notificaes"})]}),jsxRuntimeExports.jsx(Button$1,{id:"mute-toggle",onClick:ct,variant:u?"secondary":"default",size:"sm",className:"w-24 text-xs",children:u?"Ativar":"Mutar"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-white":"text-slate-800"),children:[jsxRuntimeExports.jsx(Building,{size:16}),"Filtrar por Hub"]}),jsxRuntimeExports.jsxs(Select,{value:pt,onValueChange:Tt,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:cn$1("w-full",ee==="dark"?"bg-slate-700/50 border-orange-500/30 text-white":"bg-white border-orange-200/50 text-slate-800"),children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione um hub"})}),jsxRuntimeExports.jsx(SelectContent,{className:cn$1(ee==="dark"?"bg-slate-800 border-orange-500/30":"bg-white border-orange-200/50"),children:qn.map(xe=>jsxRuntimeExports.jsx(SelectItem,{value:xe,className:cn$1(ee==="dark"?"text-white hover:bg-slate-700 focus:bg-slate-700":"text-slate-800 hover:bg-orange-50 focus:bg-orange-50"),children:xe.replace(/_/g," ")},xe))})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsx(WeatherForecast,{hub:pt}),jsxRuntimeExports.jsxs(Card,{className:cn$1("shadow-lg border",ee==="dark"?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:cn$1(ee==="dark"?"text-white":"text-slate-800"),children:"Perfil do Administrador"})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:j?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(Loading,{size:"lg",variant:"spinner"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-lg font-bold pb-2 border-b",ee==="dark"?"text-white border-orange-500/30":"text-slate-800 border-orange-200/50"),children:"Informaes Pessoais"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(User,{size:16}),"Nome Completo *"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.name,onChange:xe=>A(Le=>({...Le,name:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Digite seu nome completo",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Mail,{size:16}),"E-mail"]}),jsxRuntimeExports.jsx("input",{type:"email",value:P.email,disabled:!0,className:cn$1("w-full p-3 rounded-xl border outline-none cursor-not-allowed opacity-60",ee==="dark"?"bg-slate-700/50 border-orange-500/30 text-slate-400":"bg-slate-100 border-orange-200/50 text-slate-600")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Phone,{size:16}),"Telefone"]}),jsxRuntimeExports.jsx("input",{type:"tel",value:P.phone,onChange:xe=>{const Le=xe.target.value.replace(/\D/g,"");let tt=Le;Le.length>10?tt=`(${Le.slice(0,2)}) ${Le.slice(2,7)}-${Le.slice(7,11)}`:Le.length>6?tt=`(${Le.slice(0,2)}) ${Le.slice(2,6)}-${Le.slice(6)}`:Le.length>2&&(tt=`(${Le.slice(0,2)}) ${Le.slice(2)}`),A(Ke=>({...Ke,phone:tt}))},className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"(00) 00000-0000",maxLength:15})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(MessageCircle,{size:16}),"WhatsApp"]}),jsxRuntimeExports.jsx("input",{type:"tel",value:P.whatsapp,onChange:xe=>{const Le=xe.target.value.replace(/\D/g,"");let tt=Le;Le.length>10?tt=`(${Le.slice(0,2)}) ${Le.slice(2,7)}-${Le.slice(7,11)}`:Le.length>6?tt=`(${Le.slice(0,2)}) ${Le.slice(2,6)}-${Le.slice(6)}`:Le.length>2&&(tt=`(${Le.slice(0,2)}) ${Le.slice(2)}`),A(Ke=>({...Ke,whatsapp:tt}))},className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"(00) 00000-0000",maxLength:15})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-lg font-bold pb-2 border-b",ee==="dark"?"text-white border-orange-500/30":"text-slate-800 border-orange-200/50"),children:"Informaes Profissionais"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Building,{size:16}),"Departamento"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.department,onChange:xe=>A(Le=>({...Le,department:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Ex: Logstica, Operaes"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Briefcase,{size:16}),"Cargo"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.position,onChange:xe=>A(Le=>({...Le,position:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Ex: Gerente, Coordenador"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Linkedin,{size:16}),"LinkedIn"]}),jsxRuntimeExports.jsx("input",{type:"url",value:P.linkedin,onChange:xe=>A(Le=>({...Le,linkedin:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"https://linkedin.com/in/seu-perfil"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(FileText,{size:16}),"Biografia"]}),jsxRuntimeExports.jsx("textarea",{value:P.bio,onChange:xe=>A(Le=>({...Le,bio:xe.target.value})),rows:4,className:cn$1("w-full p-3 rounded-xl border outline-none transition-all resize-none",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Conte um pouco sobre voc..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-lg font-bold pb-2 border-b",ee==="dark"?"text-white border-orange-500/30":"text-slate-800 border-orange-200/50"),children:"Endereo"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Hash,{size:16}),"CEP"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.zipCode,onChange:xe=>{const Le=xe.target.value.replace(/\D/g,"");let tt=Le;Le.length>5&&(tt=`${Le.slice(0,5)}-${Le.slice(5,8)}`),A(Ke=>({...Ke,zipCode:tt}))},className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"00000-000",maxLength:9})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(MapPin,{size:16}),"Cidade"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.city,onChange:xe=>A(Le=>({...Le,city:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Digite a cidade"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Building,{size:16}),"Estado"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.state,onChange:xe=>A(Le=>({...Le,state:xe.target.value.toUpperCase()})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"UF",maxLength:2})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:cn$1("text-sm font-semibold flex items-center gap-2",ee==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Home,{size:16}),"Endereo Completo"]}),jsxRuntimeExports.jsx("input",{type:"text",value:P.address,onChange:xe=>A(Le=>({...Le,address:xe.target.value})),className:cn$1("w-full p-3 rounded-xl border outline-none transition-all",ee==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400 focus:ring-2 focus:ring-orange-500/50":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-orange-500/50"),placeholder:"Rua, nmero, complemento"})]})]})]})]})}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex justify-between gap-3 pt-6 border-t border-border",children:[jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(confirm("Tem certeza que deseja resetar TODOS os cadastros de motoristas? Esta ao ir remover as vinculaes (uid, googleUid, email) mas manter os dados dos motoristas.")){U(!0);try{const xe=await resetAllDrivers();xe.success?toast.success(`Reset Concludo: ${xe.message}`):toast.error(`Erro no Reset: ${xe.message}`)}catch(xe){toast.error(`Erro ao resetar: ${xe.message}`)}finally{U(!1)}}},disabled:L,variant:"destructive",className:"shadow-md px-6",size:"lg",children:L?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner",className:"mr-2"}),"Resetando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RotateCcw,{size:18,className:"mr-2"}),"Resetar Cadastros"]})}),jsxRuntimeExports.jsx(Button$1,{onClick:Pe,disabled:$||j,className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-md px-8",size:"lg",children:$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner",className:"mr-2"}),"Salvando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:18,className:"mr-2"}),"Salvar Alteraes"]})})]})]})]})]})})]})})]}),je&&jsxRuntimeExports.jsx(DriverInfoModal,{driver:je,call:Rn,onClose:()=>Be(null)}),jsxRuntimeExports.jsx(CallDetailsModal,{call:Je,onClose:()=>He(null),onUpdateStatus:(xe,Le)=>{n(xe,Le),He(null)}}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Ze,onClose:()=>ot(null),onConfirm:dr,title:"Confirmar",confirmText:"Sim",children:"Confirmar ao?"})]})]})};var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...t,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=t,x=reactExports.useRef(null),E=useComposedRefs(e,x),T=useDirection(o),[_,k]=useControllableState({prop:a,defaultProp:c??null,onChange:u,caller:GROUP_NAME}),[I,P]=reactExports.useState(!1),A=useCallbackRef$1(f),j=useCollection(n),O=reactExports.useRef(!1),[$,V]=reactExports.useState(0);return reactExports.useEffect(()=>{const L=x.current;if(L)return L.addEventListener(ENTRY_FOCUS,A),()=>L.removeEventListener(ENTRY_FOCUS,A)},[A]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:n,orientation:s,dir:T,loop:i,currentTabStopId:_,onItemFocus:reactExports.useCallback(L=>k(L),[k]),onItemShiftTab:reactExports.useCallback(()=>P(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>V(L=>L+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>V(L=>L-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:I||$===0?-1:0,"data-orientation":s,...m,ref:E,style:{outline:"none",...t.style},onMouseDown:composeEventHandlers(t.onMouseDown,()=>{O.current=!0}),onFocus:composeEventHandlers(t.onFocus,L=>{const U=!O.current;if(L.target===L.currentTarget&&U&&!I){const J=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(L.currentTarget.dispatchEvent(J),!J.defaultPrevented){const Z=j().filter(G=>G.focusable),Y=Z.find(G=>G.active),K=Z.find(G=>G.id===_),Re=[Y,K,...Z].filter(Boolean).map(G=>G.ref.current);focusFirst(Re,p)}}O.current=!1}),onBlur:composeEventHandlers(t.onBlur,()=>P(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,children:a,...c}=t,u=useId$1(),f=o||u,p=useRovingFocusContext(ITEM_NAME,n),m=p.currentTabStopId===f,x=useCollection(n),{onFocusableItemAdd:E,onFocusableItemRemove:T,currentTabStopId:_}=p;return reactExports.useEffect(()=>{if(s)return E(),()=>T()},[s,E,T]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:n,id:f,focusable:s,active:i,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:composeEventHandlers(t.onMouseDown,k=>{s?p.onItemFocus(f):k.preventDefault()}),onFocus:composeEventHandlers(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:composeEventHandlers(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const I=getFocusIntent(k,p.orientation,p.dir);if(I!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let A=x().filter(j=>j.focusable).map(j=>j.ref.current);if(I==="last")A.reverse();else if(I==="prev"||I==="next"){I==="prev"&&A.reverse();const j=A.indexOf(k.currentTarget);A=p.loop?wrapArray(A,j+1):A.slice(j+1)}setTimeout(()=>focusFirst(A))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:_!=null}):a})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function getFocusIntent(t,e,n){const s=getDirectionAwareKey(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return MAP_KEY_TO_FOCUS_INTENT[s]}function focusFirst(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function wrapArray(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Root$1=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:u="automatic",...f}=t,p=useDirection(c),[m,x]=useControllableState({prop:s,onChange:i,defaultProp:o??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:n,baseId:useId$1(),value:m,onValueChange:x,orientation:a,dir:p,activationMode:u,children:jsxRuntimeExports.jsx(Primitive.div,{dir:p,"data-orientation":a,...f,ref:e})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,o=useTabsContext(TAB_LIST_NAME,n),a=useRovingFocusGroupScope(n);return jsxRuntimeExports.jsx(Root$1,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:s,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=t,a=useTabsContext(TRIGGER_NAME,n),c=useRovingFocusGroupScope(n),u=makeTriggerId(a.baseId,s),f=makeContentId(a.baseId,s),p=s===a.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...c,focusable:!i,active:p,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:e,onMouseDown:composeEventHandlers(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?a.onValueChange(s):m.preventDefault()}),onKeyDown:composeEventHandlers(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(s)}),onFocus:composeEventHandlers(t.onFocus,()=>{const m=a.activationMode!=="manual";!p&&!i&&m&&a.onValueChange(s)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...a}=t,c=useTabsContext(CONTENT_NAME,n),u=makeTriggerId(c.baseId,s),f=makeContentId(c.baseId,s),p=s===c.value,m=reactExports.useRef(p);return reactExports.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),jsxRuntimeExports.jsx(Presence,{present:i||p,children:({present:x})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:f,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&o})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(t,e){return`${t}-trigger-${e}`}function makeContentId(t,e){return`${t}-content-${e}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(List,{ref:n,className:cn$1("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Trigger,{ref:n,className:cn$1("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow data-[state=active]:scale-105",t),...e}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:t,...e},n)=>jsxRuntimeExports.jsx(Content,{ref:n,className:cn$1("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 tab-content-enter",t),...e}));TabsContent.displayName=Content.displayName;const Input=reactExports.forwardRef(({className:t,type:e,...n},s)=>jsxRuntimeExports.jsx("input",{type:e,className:cn$1("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));Input.displayName="Input";const senderTopics=["Como iniciar uma transferncia?","Como baixar o romaneio (rota)?","Como cancelar uma transferncia?"],receiverTopics=["Onde vejo os pacotes que vou receber?"],stepMap={"Como baixar o romaneio (rota)?":[{parts:[{text:"No app Shopee, v para a aba de pacotes pendentes No canto superior direito ao lado de 'mostrar no mapa' tem um icone de flecha para baixo clique-o para baixar o arquivo automaticamente, OBS: 'pacotes no devem ficar em ocorrencia no processo de transferencia' "}],gifUrls:["/Gifs.Chatbot/Romaneio-1.gif"]}],"Como iniciar uma transferncia?":[{parts:[{text:"No menu principal, v para 'Transferncia de Pacotes' e depois 'Iniciar transferencia de pacotes' depois escolha o motivo e depois lista de transferencias."}],gifUrls:["/Gifs.Chatbot/Transferencia-1.gif"]},{parts:[{text:"Bipe os pacotes um a um."}],gifUrls:["/Gifs.Chatbot/Transferencia-2.gif"]},{parts:[{text:"Selecione o motivo (ex: Avaria) e clique em enviar, aps isso aguarde a aprovao de um Admin."}],gifUrls:["/Gifs.Chatbot/Transferencia-3.gif"]}],"Como cancelar uma transferncia?":[{parts:[{text:"Siga este passo: Minhas Transferncias > Transferncia em andamento > Cancelar solicitao > Confirmar."}]}],"Onde vejo os pacotes que vou receber?":[{parts:[{text:"No menu 'Transferncia de Pacotes', v para a aba 'Meus recebidos'."}]}]},Chatbot=()=>{const[t,e]=reactExports.useState(!1),[n,s]=reactExports.useState([]),[i,o]=reactExports.useState(""),[a,c]=reactExports.useState(!1),[u,f]=reactExports.useState("initial"),p=reactExports.useRef(null);reactExports.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[n]);const m=()=>{s([]),c(!1),f("initial")},x=()=>{e(!1),setTimeout(()=>{s([]),o(""),c(!1),f("initial")},300)},E=()=>({id:`followup-${Date.now()}`,role:"model",type:"follow-up",parts:[{text:""}]}),T=async P=>{if(a)return;const A={id:`user-${Date.now()}`,role:"user",parts:[{text:P}],type:"message"},j=n.filter(O=>O.type==="message");s(O=>[...O,A]),c(!0),f("conversation");try{const O=auth.currentUser;if(!O)throw new Error("Usurio no autenticado.");const $=await O.getIdToken(!0),L=await fetch("https://odoriferously-nonstringent-vergie.ngrok-free.dev/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({message:P,history:j})});if(!L.ok)throw new Error("Falha ao obter resposta do bot.");const U=await L.json(),J={id:`bot-${Date.now()}`,role:"model",parts:[{text:U.response}],type:"message"};s(Z=>[...Z,J,E()])}catch(O){console.error("Erro ao enviar mensagem do Chatbot:",O);const $={id:`err-${Date.now()}`,role:"model",parts:[{text:"Desculpe, no consegui me conectar. Tente novamente."}],type:"message"};s(V=>[...V,$,E()])}finally{c(!1)}},_=P=>{if(a)return;const A={id:`user-${Date.now()}`,role:"user",parts:[{text:P}],type:"message"},O=(stepMap[P]||[]).map(($,V)=>({id:`bot-${Date.now()}-${V}`,role:"model",parts:$.parts,gifUrls:$.gifUrls,type:"message"}));s($=>[...$,A]),c(!0),f("conversation"),setTimeout(()=>{s($=>[...$,...O,E()]),c(!1)},1200)},k=P=>{const A=P==="sender"?"Vou ENVIAR pacotes":"Vou RECEBER pacotes",j={id:`user-${Date.now()}`,role:"user",parts:[{text:A}],type:"message"},O={id:`topics-${Date.now()}`,role:"model",type:"topic-selection",parts:[{text:`Certo! Em que posso ajudar sobre ${P==="sender"?"enviar":"receber"} pacotes?`}]};s([j,O]),f(P==="sender"?"sending_topics":"receiving_topics")},I=P=>{P.preventDefault(),i.trim()&&(T(i),o(""))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t&&jsxRuntimeExports.jsxs(Card,{className:"font-sans fixed bottom-20 right-4 z-50 w-[calc(100%-2rem)] max-w-sm h-[70dvh] flex flex-col shadow-2xl rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between p-5",style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",boxShadow:"0 4px 20px rgba(249, 115, 22, 0.3)"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"relative flex h-12 w-12 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg font-bold text-white tracking-wide",children:"ApoioBot"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{background:"#10b981",boxShadow:"0 0 8px rgba(16, 185, 129, 0.6)"}}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/90 font-medium",children:"Online"})]})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",onClick:x,className:"rounded-full text-white hover:text-white hover:bg-orange-500/20 transition-all",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"flex-1 overflow-y-auto p-5 space-y-4",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%)"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.2) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 15px rgba(249, 115, 22, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsx("div",{className:"p-4 rounded-2xl max-w-[80%] rounded-tl-none",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white leading-relaxed",children:u==="initial"?"Ol! Sou o ApoioBot. Para te ajudar, selecione o seu papel:":"Em que mais posso ajudar?"})})]}),u==="initial"&&!a&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3 items-start pl-14",children:[jsxRuntimeExports.jsx("button",{onClick:()=>k("sender"),className:"group w-full text-left p-4 rounded-xl transition-all",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},onMouseEnter:P=>{P.currentTarget.style.borderColor="rgba(249, 115, 22, 0.6)",P.currentTarget.style.boxShadow="0 8px 32px rgba(249, 115, 22, 0.3)",P.currentTarget.style.transform="translateX(4px)"},onMouseLeave:P=>{P.currentTarget.style.borderColor="rgba(249, 115, 22, 0.3)",P.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.2)",P.currentTarget.style.transform="translateX(0)"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-white",children:"Vou ENVIAR pacotes"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>k("receiver"),className:"group w-full text-left p-4 rounded-xl transition-all",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},onMouseEnter:P=>{P.currentTarget.style.borderColor="rgba(249, 115, 22, 0.6)",P.currentTarget.style.boxShadow="0 8px 32px rgba(249, 115, 22, 0.3)",P.currentTarget.style.transform="translateX(4px)"},onMouseLeave:P=>{P.currentTarget.style.borderColor="rgba(249, 115, 22, 0.3)",P.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.2)",P.currentTarget.style.transform="translateX(0)"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-white",children:"Vou RECEBER pacotes"})]})})]}),n.map(P=>{if(P.type==="topic-selection"){const A=u==="sending_topics"?senderTopics:receiverTopics;return jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.2) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 15px rgba(249, 115, 22, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3 items-start",children:[jsxRuntimeExports.jsx("div",{className:"p-4 rounded-2xl max-w-[80%] rounded-tl-none",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white leading-relaxed",children:P.parts[0].text})}),A.map(j=>jsxRuntimeExports.jsx("button",{onClick:()=>_(j),disabled:a,className:"w-full text-left p-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},onMouseEnter:O=>{a||(O.currentTarget.style.borderColor="rgba(249, 115, 22, 0.6)",O.currentTarget.style.boxShadow="0 8px 32px rgba(249, 115, 22, 0.3)",O.currentTarget.style.transform="translateX(4px)")},onMouseLeave:O=>{O.currentTarget.style.borderColor="rgba(249, 115, 22, 0.3)",O.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.2)",O.currentTarget.style.transform="translateX(0)"},children:jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-white",children:j})},j))]})]},P.id)}return P.type==="follow-up"?jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.2) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 15px rgba(249, 115, 22, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3 items-start",children:[jsxRuntimeExports.jsx("div",{className:"p-4 rounded-2xl max-w-[80%] rounded-tl-none",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white leading-relaxed",children:"Posso ajudar em algo mais?"})}),jsxRuntimeExports.jsx("button",{onClick:m,className:"w-full text-left p-3 rounded-xl transition-all",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},onMouseEnter:A=>{A.currentTarget.style.borderColor="rgba(249, 115, 22, 0.6)",A.currentTarget.style.boxShadow="0 8px 32px rgba(249, 115, 22, 0.3)",A.currentTarget.style.transform="translateX(4px)"},onMouseLeave:A=>{A.currentTarget.style.borderColor="rgba(249, 115, 22, 0.3)",A.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.2)",A.currentTarget.style.transform="translateX(0)"},children:jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-white",children:"Ver menu principal"})}),jsxRuntimeExports.jsx("button",{onClick:x,className:"w-full text-left p-3 rounded-xl transition-all",style:{background:"rgba(30, 41, 59, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)"},onMouseEnter:A=>{A.currentTarget.style.background="rgba(30, 41, 59, 0.6)"},onMouseLeave:A=>{A.currentTarget.style.background="rgba(30, 41, 59, 0.4)"},children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Encerrar conversa"})})]})]},P.id):P.type==="message"?jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-start gap-3 w-full",P.role==="user"?"justify-end":"justify-start"),children:[P.role==="model"&&jsxRuntimeExports.jsx("span",{className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.2) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 15px rgba(249, 115, 22, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsxs("div",{className:cn$1("p-4 rounded-2xl max-w-[85%] shadow-lg",P.role==="user"?"rounded-br-none":"rounded-tl-none"),style:P.role==="user"?{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",boxShadow:"0 4px 20px rgba(249, 115, 22, 0.3)"}:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[P.parts[0].text&&jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-medium leading-relaxed",(P.role==="user","text-white"),P.gifUrls&&P.gifUrls.length>0&&"mb-3"),children:P.parts[0].text}),P.gifUrls&&P.gifUrls.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:P.gifUrls.map((A,j)=>jsxRuntimeExports.jsx("img",{src:A,alt:"GIF Tutorial",className:"rounded-md"},j))})]}),P.role==="user"&&jsxRuntimeExports.jsx("span",{className:"relative flex h-8 w-8 shrink-0"})]},P.id):null}),a&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full p-1.5",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.2) 0%, rgba(234, 88, 12, 0.2) 100%)",border:"1px solid rgba(249, 115, 22, 0.3)",boxShadow:"0 4px 15px rgba(249, 115, 22, 0.2)"},children:jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"ApoioBot Avatar",className:"h-full w-full object-contain"})}),jsxRuntimeExports.jsx("div",{className:"p-4 rounded-2xl rounded-tl-none",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-5 w-5 text-orange-400"})})]}),jsxRuntimeExports.jsx("div",{ref:p})]}),jsxRuntimeExports.jsx(CardFooter,{className:"p-4",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.9) 100%)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:jsxRuntimeExports.jsxs("form",{onSubmit:I,className:"flex w-full items-center gap-3",children:[jsxRuntimeExports.jsx(Input,{type:"text",placeholder:"Ou digite sua dvida...",value:i,onChange:P=>o(P.target.value),disabled:a,className:"flex-1 rounded-xl border-0",style:{background:"rgba(30, 41, 59, 0.6)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff",padding:"12px 16px",fontSize:"14px"}}),jsxRuntimeExports.jsx(Button$1,{type:"submit",size:"icon",disabled:a||!i,className:"rounded-xl w-12 h-12",style:{background:a||!i?"rgba(249, 115, 22, 0.3)":"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",boxShadow:a||!i?"none":"0 4px 20px rgba(249, 115, 22, 0.4)"},children:jsxRuntimeExports.jsx(Send,{className:"h-5 w-5"})})]})})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{t?x():e(!0)},className:"fixed bottom-4 right-4 z-50 w-16 h-16 rounded-full transition-all",size:"icon",style:{background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",boxShadow:"0 8px 32px rgba(249, 115, 22, 0.5)"},onMouseEnter:P=>{P.currentTarget.style.boxShadow="0 12px 40px rgba(249, 115, 22, 0.6)",P.currentTarget.style.transform="scale(1.05)"},onMouseLeave:P=>{P.currentTarget.style.boxShadow="0 8px 32px rgba(249, 115, 22, 0.5)",P.currentTarget.style.transform="scale(1)"},children:t?jsxRuntimeExports.jsx(X,{size:28,className:"text-white"}):jsxRuntimeExports.jsx("img",{src:"/shopee-chicken.png",alt:"Abrir Chat",className:"h-full w-full p-3 object-contain rounded-full"})})]})};var __assign=function(){return __assign=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},__assign.apply(this,arguments)};function __rest(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function __spreadArray(t,e,n){for(var s=0,i=e.length,o;s<i;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function isDayPickerMultiple(t){return t.mode==="multiple"}function isDayPickerRange(t){return t.mode==="range"}function isDayPickerSingle(t){return t.mode==="single"}var defaultClassNames={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function formatCaption(t,e){return format(t,"LLLL y",e)}function formatDay(t,e){return format(t,"d",e)}function formatMonthCaption(t,e){return format(t,"LLLL",e)}function formatWeekNumber(t){return"".concat(t)}function formatWeekdayName(t,e){return format(t,"cccccc",e)}function formatYearCaption(t,e){return format(t,"yyyy",e)}var formatters=Object.freeze({__proto__:null,formatCaption,formatDay,formatMonthCaption,formatWeekNumber,formatWeekdayName,formatYearCaption}),labelDay=function(t,e,n){return format(t,"do MMMM (EEEE)",n)},labelMonthDropdown=function(){return"Month: "},labelNext=function(){return"Go to next month"},labelPrevious=function(){return"Go to previous month"},labelWeekday=function(t,e){return format(t,"cccc",e)},labelWeekNumber=function(t){return"Week n. ".concat(t)},labelYearDropdown=function(){return"Year: "},labels=Object.freeze({__proto__:null,labelDay,labelMonthDropdown,labelNext,labelPrevious,labelWeekNumber,labelWeekday,labelYearDropdown});function getDefaultContextValues(){var t="buttons",e=defaultClassNames,n=enUS,s={},i={},o=1,a={},c=new Date;return{captionLayout:t,classNames:e,formatters,labels,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:o,styles:a,today:c,mode:"default"}}function parseFromToProps(t){var e=t.fromYear,n=t.toYear,s=t.fromMonth,i=t.toMonth,o=t.fromDate,a=t.toDate;return s?o=startOfMonth(s):e&&(o=new Date(e,0,1)),i?a=endOfMonth(i):n&&(a=new Date(n,11,31)),{fromDate:o?startOfDay(o):void 0,toDate:a?startOfDay(a):void 0}}var DayPickerContext=reactExports.createContext(void 0);function DayPickerProvider(t){var e,n=t.initialProps,s=getDefaultContextValues(),i=parseFromToProps(n),o=i.fromDate,a=i.toDate,c=(e=n.captionLayout)!==null&&e!==void 0?e:s.captionLayout;c!=="buttons"&&(!o||!a)&&(c="buttons");var u;(isDayPickerSingle(n)||isDayPickerMultiple(n)||isDayPickerRange(n))&&(u=n.onSelect);var f=__assign(__assign(__assign({},s),n),{captionLayout:c,classNames:__assign(__assign({},s.classNames),n.classNames),components:__assign({},n.components),formatters:__assign(__assign({},s.formatters),n.formatters),fromDate:o,labels:__assign(__assign({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:__assign(__assign({},s.modifiers),n.modifiers),modifiersClassNames:__assign(__assign({},s.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:__assign(__assign({},s.styles),n.styles),toDate:a});return jsxRuntimeExports.jsx(DayPickerContext.Provider,{value:f,children:t.children})}function useDayPicker(){var t=reactExports.useContext(DayPickerContext);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function CaptionLabel(t){var e=useDayPicker(),n=e.locale,s=e.classNames,i=e.styles,o=e.formatters.formatCaption;return jsxRuntimeExports.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function IconDropdown(t){return jsxRuntimeExports.jsx("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:jsxRuntimeExports.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dropdown(t){var e,n,s=t.onChange,i=t.value,o=t.children,a=t.caption,c=t.className,u=t.style,f=useDayPicker(),p=(n=(e=f.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:IconDropdown;return jsxRuntimeExports.jsxs("div",{className:c,style:u,children:[jsxRuntimeExports.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),jsxRuntimeExports.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:s,children:o}),jsxRuntimeExports.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[a,jsxRuntimeExports.jsx(p,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function MonthsDropdown(t){var e,n=useDayPicker(),s=n.fromDate,i=n.toDate,o=n.styles,a=n.locale,c=n.formatters.formatMonthCaption,u=n.classNames,f=n.components,p=n.labels.labelMonthDropdown;if(!s)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!i)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var m=[];if(isSameYear(s,i))for(var x=startOfMonth(s),E=s.getMonth();E<=i.getMonth();E++)m.push(setMonth(x,E));else for(var x=startOfMonth(new Date),E=0;E<=11;E++)m.push(setMonth(x,E));var T=function(k){var I=Number(k.target.value),P=setMonth(startOfMonth(t.displayMonth),I);t.onChange(P)},_=(e=f?.Dropdown)!==null&&e!==void 0?e:Dropdown;return jsxRuntimeExports.jsx(_,{name:"months","aria-label":p(),className:u.dropdown_month,style:o.dropdown_month,onChange:T,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:a}),children:m.map(function(k){return jsxRuntimeExports.jsx("option",{value:k.getMonth(),children:c(k,{locale:a})},k.getMonth())})})}function YearsDropdown(t){var e,n=t.displayMonth,s=useDayPicker(),i=s.fromDate,o=s.toDate,a=s.locale,c=s.styles,u=s.classNames,f=s.components,p=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,x=[];if(!i)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!o)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});for(var E=i.getFullYear(),T=o.getFullYear(),_=E;_<=T;_++)x.push(setYear(startOfYear(new Date),_));var k=function(P){var A=setYear(startOfMonth(n),Number(P.target.value));t.onChange(A)},I=(e=f?.Dropdown)!==null&&e!==void 0?e:Dropdown;return jsxRuntimeExports.jsx(I,{name:"years","aria-label":m(),className:u.dropdown_year,style:c.dropdown_year,onChange:k,value:n.getFullYear(),caption:p(n,{locale:a}),children:x.map(function(P){return jsxRuntimeExports.jsx("option",{value:P.getFullYear(),children:p(P,{locale:a})},P.getFullYear())})})}function useControlledValue(t,e){var n=reactExports.useState(t),s=n[0],i=n[1],o=e===void 0?s:e;return[o,i]}function getInitialMonth(t){var e=t.month,n=t.defaultMonth,s=t.today,i=e||n||s||new Date,o=t.toDate,a=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(o&&differenceInCalendarMonths(o,i)<0){var f=-1*(u-1);i=addMonths(o,f)}return a&&differenceInCalendarMonths(i,a)<0&&(i=a),startOfMonth(i)}function useNavigationState(){var t=useDayPicker(),e=getInitialMonth(t),n=useControlledValue(e,t.month),s=n[0],i=n[1],o=function(a){var c;if(!t.disableNavigation){var u=startOfMonth(a);i(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[s,o]}function getDisplayMonths(t,e){for(var n=e.reverseMonths,s=e.numberOfMonths,i=startOfMonth(t),o=startOfMonth(addMonths(i,s)),a=differenceInCalendarMonths(o,i),c=[],u=0;u<a;u++){var f=addMonths(i,u);c.push(f)}return n&&(c=c.reverse()),c}function getNextMonth(t,e){if(!e.disableNavigation){var n=e.toDate,s=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,a=s?o:1,c=startOfMonth(t);if(!n)return addMonths(c,a);var u=differenceInCalendarMonths(n,t);if(!(u<o))return addMonths(c,a)}}function getPreviousMonth(t,e){if(!e.disableNavigation){var n=e.fromDate,s=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,a=s?o:1,c=startOfMonth(t);if(!n)return addMonths(c,-a);var u=differenceInCalendarMonths(c,n);if(!(u<=0))return addMonths(c,-a)}}var NavigationContext=reactExports.createContext(void 0);function NavigationProvider(t){var e=useDayPicker(),n=useNavigationState(),s=n[0],i=n[1],o=getDisplayMonths(s,e),a=getNextMonth(s,e),c=getPreviousMonth(s,e),u=function(m){return o.some(function(x){return isSameMonth(m,x)})},f=function(m,x){u(m)||(x&&isBefore(m,x)?i(addMonths(m,1+e.numberOfMonths*-1)):i(m))},p={currentMonth:s,displayMonths:o,goToMonth:i,goToDate:f,previousMonth:c,nextMonth:a,isDateDisplayed:u};return jsxRuntimeExports.jsx(NavigationContext.Provider,{value:p,children:t.children})}function useNavigation(){var t=reactExports.useContext(NavigationContext);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function CaptionDropdowns(t){var e,n=useDayPicker(),s=n.classNames,i=n.styles,o=n.components,a=useNavigation().goToMonth,c=function(p){a(addMonths(p,t.displayIndex?-t.displayIndex:0))},u=(e=o?.CaptionLabel)!==null&&e!==void 0?e:CaptionLabel,f=jsxRuntimeExports.jsx(u,{id:t.id,displayMonth:t.displayMonth});return jsxRuntimeExports.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[jsxRuntimeExports.jsx("div",{className:s.vhidden,children:f}),jsxRuntimeExports.jsx(MonthsDropdown,{onChange:c,displayMonth:t.displayMonth}),jsxRuntimeExports.jsx(YearsDropdown,{onChange:c,displayMonth:t.displayMonth})]})}function IconLeft(t){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:jsxRuntimeExports.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IconRight(t){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:jsxRuntimeExports.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Button=reactExports.forwardRef(function(t,e){var n=useDayPicker(),s=n.classNames,i=n.styles,o=[s.button_reset,s.button];t.className&&o.push(t.className);var a=o.join(" "),c=__assign(__assign({},i.button_reset),i.button);return t.style&&Object.assign(c,t.style),jsxRuntimeExports.jsx("button",__assign({},t,{ref:e,type:"button",className:a,style:c}))});function Navigation(t){var e,n,s=useDayPicker(),i=s.dir,o=s.locale,a=s.classNames,c=s.styles,u=s.labels,f=u.labelPrevious,p=u.labelNext,m=s.components;if(!t.nextMonth&&!t.previousMonth)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var x=f(t.previousMonth,{locale:o}),E=[a.nav_button,a.nav_button_previous].join(" "),T=p(t.nextMonth,{locale:o}),_=[a.nav_button,a.nav_button_next].join(" "),k=(e=m?.IconRight)!==null&&e!==void 0?e:IconRight,I=(n=m?.IconLeft)!==null&&n!==void 0?n:IconLeft;return jsxRuntimeExports.jsxs("div",{className:a.nav,style:c.nav,children:[!t.hidePrevious&&jsxRuntimeExports.jsx(Button,{name:"previous-month","aria-label":x,className:E,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?jsxRuntimeExports.jsx(k,{className:a.nav_icon,style:c.nav_icon}):jsxRuntimeExports.jsx(I,{className:a.nav_icon,style:c.nav_icon})}),!t.hideNext&&jsxRuntimeExports.jsx(Button,{name:"next-month","aria-label":T,className:_,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?jsxRuntimeExports.jsx(I,{className:a.nav_icon,style:c.nav_icon}):jsxRuntimeExports.jsx(k,{className:a.nav_icon,style:c.nav_icon})})]})}function CaptionNavigation(t){var e=useDayPicker().numberOfMonths,n=useNavigation(),s=n.previousMonth,i=n.nextMonth,o=n.goToMonth,a=n.displayMonths,c=a.findIndex(function(T){return isSameMonth(t.displayMonth,T)}),u=c===0,f=c===a.length-1,p=e>1&&(u||!f),m=e>1&&(f||!u),x=function(){s&&o(s)},E=function(){i&&o(i)};return jsxRuntimeExports.jsx(Navigation,{displayMonth:t.displayMonth,hideNext:p,hidePrevious:m,nextMonth:i,previousMonth:s,onPreviousClick:x,onNextClick:E})}function Caption(t){var e,n=useDayPicker(),s=n.classNames,i=n.disableNavigation,o=n.styles,a=n.captionLayout,c=n.components,u=(e=c?.CaptionLabel)!==null&&e!==void 0?e:CaptionLabel,f;return i?f=jsxRuntimeExports.jsx(u,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?f=jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?f=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:t.displayMonth,id:t.id})]}),jsxRuntimeExports.jsx("div",{className:s.caption,style:o.caption,children:f})}function Footer(t){var e=useDayPicker(),n=e.footer,s=e.styles,i=e.classNames.tfoot;return n?jsxRuntimeExports.jsx("tfoot",{className:i,style:s.tfoot,children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:8,children:n})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function getWeekdays(t,e,n){for(var s=n?startOfISOWeek(new Date):startOfWeek(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var a=addDays(s,o);i.push(a)}return i}function HeadRow(){var t=useDayPicker(),e=t.classNames,n=t.styles,s=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,a=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,f=getWeekdays(i,o,a);return jsxRuntimeExports.jsxs("tr",{style:n.head_row,className:e.head_row,children:[s&&jsxRuntimeExports.jsx("td",{style:n.head_cell,className:e.head_cell}),f.map(function(p,m){return jsxRuntimeExports.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":u(p,{locale:i}),children:c(p,{locale:i})},m)})]})}function Head(){var t,e=useDayPicker(),n=e.classNames,s=e.styles,i=e.components,o=(t=i?.HeadRow)!==null&&t!==void 0?t:HeadRow;return jsxRuntimeExports.jsx("thead",{style:s.head,className:n.head,children:jsxRuntimeExports.jsx(o,{})})}function DayContent(t){var e=useDayPicker(),n=e.locale,s=e.formatters.formatDay;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s(t.date,{locale:n})})}var SelectMultipleContext=reactExports.createContext(void 0);function SelectMultipleProvider(t){if(!isDayPickerMultiple(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:e,children:t.children})}return jsxRuntimeExports.jsx(SelectMultipleProviderInternal,{initialProps:t.initialProps,children:t.children})}function SelectMultipleProviderInternal(t){var e=t.initialProps,n=t.children,s=e.selected,i=e.min,o=e.max,a=function(f,p,m){var x,E;(x=e.onDayClick)===null||x===void 0||x.call(e,f,p,m);var T=!!(p.selected&&i&&s?.length===i);if(!T){var _=!!(!p.selected&&o&&s?.length===o);if(!_){var k=s?__spreadArray([],s):[];if(p.selected){var I=k.findIndex(function(P){return isSameDay(f,P)});k.splice(I,1)}else k.push(f);(E=e.onSelect)===null||E===void 0||E.call(e,k,f,p,m)}}},c={disabled:[]};s&&c.disabled.push(function(f){var p=o&&s.length>o-1,m=s.some(function(x){return isSameDay(x,f)});return!!(p&&!m)});var u={selected:s,onDayClick:a,modifiers:c};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:u,children:n})}function useSelectMultiple(){var t=reactExports.useContext(SelectMultipleContext);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function addToRange(t,e){var n=e||{},s=n.from,i=n.to;return s&&i?isSameDay(i,t)&&isSameDay(s,t)?void 0:isSameDay(i,t)?{from:i,to:void 0}:isSameDay(s,t)?void 0:isAfter$1(s,t)?{from:t,to:i}:{from:s,to:t}:i?isAfter$1(t,i)?{from:i,to:t}:{from:t,to:i}:s?isBefore(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var SelectRangeContext=reactExports.createContext(void 0);function SelectRangeProvider(t){if(!isDayPickerRange(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:e,children:t.children})}return jsxRuntimeExports.jsx(SelectRangeProviderInternal,{initialProps:t.initialProps,children:t.children})}function SelectRangeProviderInternal(t){var e=t.initialProps,n=t.children,s=e.selected,i=s||{},o=i.from,a=i.to,c=e.min,u=e.max,f=function(E,T,_){var k,I;(k=e.onDayClick)===null||k===void 0||k.call(e,E,T,_);var P=addToRange(E,s);(I=e.onSelect)===null||I===void 0||I.call(e,P,E,T,_)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(p.range_start=[o],a?(p.range_end=[a],isSameDay(o,a)||(p.range_middle=[{after:o,before:a}])):p.range_end=[o]):a&&(p.range_start=[a],p.range_end=[a]),c&&(o&&!a&&p.disabled.push({after:subDays(o,c-1),before:addDays(o,c-1)}),o&&a&&p.disabled.push({after:o,before:addDays(o,c-1)}),!o&&a&&p.disabled.push({after:subDays(a,c-1),before:addDays(a,c-1)})),u){if(o&&!a&&(p.disabled.push({before:addDays(o,-u+1)}),p.disabled.push({after:addDays(o,u-1)})),o&&a){var m=differenceInCalendarDays(a,o)+1,x=u-m;p.disabled.push({before:subDays(o,x)}),p.disabled.push({after:addDays(a,x)})}!o&&a&&(p.disabled.push({before:addDays(a,-u+1)}),p.disabled.push({after:addDays(a,u-1)}))}return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:{selected:s,onDayClick:f,modifiers:p},children:n})}function useSelectRange(){var t=reactExports.useContext(SelectRangeContext);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function matcherToArray(t){return Array.isArray(t)?__spreadArray([],t):t!==void 0?[t]:[]}function getCustomModifiers(t){var e={};return Object.entries(t).forEach(function(n){var s=n[0],i=n[1];e[s]=matcherToArray(i)}),e}var InternalModifier;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(InternalModifier||(InternalModifier={}));var Selected=InternalModifier.Selected,Disabled=InternalModifier.Disabled,Hidden=InternalModifier.Hidden,Today=InternalModifier.Today,RangeEnd=InternalModifier.RangeEnd,RangeMiddle=InternalModifier.RangeMiddle,RangeStart=InternalModifier.RangeStart,Outside=InternalModifier.Outside;function getInternalModifiers(t,e,n){var s,i=(s={},s[Selected]=matcherToArray(t.selected),s[Disabled]=matcherToArray(t.disabled),s[Hidden]=matcherToArray(t.hidden),s[Today]=[t.today],s[RangeEnd]=[],s[RangeMiddle]=[],s[RangeStart]=[],s[Outside]=[],s);return t.fromDate&&i[Disabled].push({before:t.fromDate}),t.toDate&&i[Disabled].push({after:t.toDate}),isDayPickerMultiple(t)?i[Disabled]=i[Disabled].concat(e.modifiers[Disabled]):isDayPickerRange(t)&&(i[Disabled]=i[Disabled].concat(n.modifiers[Disabled]),i[RangeStart]=n.modifiers[RangeStart],i[RangeMiddle]=n.modifiers[RangeMiddle],i[RangeEnd]=n.modifiers[RangeEnd]),i}var ModifiersContext=reactExports.createContext(void 0);function ModifiersProvider(t){var e=useDayPicker(),n=useSelectMultiple(),s=useSelectRange(),i=getInternalModifiers(e,n,s),o=getCustomModifiers(e.modifiers),a=__assign(__assign({},i),o);return jsxRuntimeExports.jsx(ModifiersContext.Provider,{value:a,children:t.children})}function useModifiers(){var t=reactExports.useContext(ModifiersContext);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function isDateInterval(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function isDateRange(t){return!!(t&&typeof t=="object"&&"from"in t)}function isDateAfterType(t){return!!(t&&typeof t=="object"&&"after"in t)}function isDateBeforeType(t){return!!(t&&typeof t=="object"&&"before"in t)}function isDayOfWeekType(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function isDateInRange(t,e){var n,s=e.from,i=e.to;if(s&&i){var o=differenceInCalendarDays(i,s)<0;o&&(n=[i,s],s=n[0],i=n[1]);var a=differenceInCalendarDays(t,s)>=0&&differenceInCalendarDays(i,t)>=0;return a}return i?isSameDay(i,t):s?isSameDay(s,t):!1}function isDateType(t){return isDate(t)}function isArrayOfDates(t){return Array.isArray(t)&&t.every(isDate)}function isMatch(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(isDateType(n))return isSameDay(t,n);if(isArrayOfDates(n))return n.includes(t);if(isDateRange(n))return isDateInRange(t,n);if(isDayOfWeekType(n))return n.dayOfWeek.includes(t.getDay());if(isDateInterval(n)){var s=differenceInCalendarDays(n.before,t),i=differenceInCalendarDays(n.after,t),o=s>0,a=i<0,c=isAfter$1(n.before,n.after);return c?a&&o:o||a}return isDateAfterType(n)?differenceInCalendarDays(t,n.after)>0:isDateBeforeType(n)?differenceInCalendarDays(n.before,t)>0:typeof n=="function"?n(t):!1})}function getActiveModifiers(t,e,n){var s=Object.keys(e).reduce(function(o,a){var c=e[a];return isMatch(t,c)&&o.push(a),o},[]),i={};return s.forEach(function(o){return i[o]=!0}),n&&!isSameMonth(t,n)&&(i.outside=!0),i}function getInitialFocusTarget(t,e){for(var n=startOfMonth(t[0]),s=endOfMonth(t[t.length-1]),i,o,a=n;a<=s;){var c=getActiveModifiers(a,e),u=!c.disabled&&!c.hidden;if(!u){a=addDays(a,1);continue}if(c.selected)return a;c.today&&!o&&(o=a),i||(i=a),a=addDays(a,1)}return o||i}var MAX_RETRY=365;function getNextFocus(t,e){var n=e.moveBy,s=e.direction,i=e.context,o=e.modifiers,a=e.retry,c=a===void 0?{count:0,lastFocused:t}:a,u=i.weekStartsOn,f=i.fromDate,p=i.toDate,m=i.locale,x={day:addDays,week:addWeeks,month:addMonths,year:addYears,startOfWeek:function(k){return i.ISOWeek?startOfISOWeek(k):startOfWeek(k,{locale:m,weekStartsOn:u})},endOfWeek:function(k){return i.ISOWeek?endOfISOWeek(k):endOfWeek(k,{locale:m,weekStartsOn:u})}},E=x[n](t,s==="after"?1:-1);s==="before"&&f?E=max$1([f,E]):s==="after"&&p&&(E=min$1([p,E]));var T=!0;if(o){var _=getActiveModifiers(E,o);T=!_.disabled&&!_.hidden}return T?E:c.count>MAX_RETRY?c.lastFocused:getNextFocus(E,{moveBy:n,direction:s,context:i,modifiers:o,retry:__assign(__assign({},c),{count:c.count+1})})}var FocusContext=reactExports.createContext(void 0);function FocusProvider(t){var e=useNavigation(),n=useModifiers(),s=reactExports.useState(),i=s[0],o=s[1],a=reactExports.useState(),c=a[0],u=a[1],f=getInitialFocusTarget(e.displayMonths,n),p=i??(c&&e.isDateDisplayed(c))?c:f,m=function(){u(i),o(void 0)},x=function(k){o(k)},E=useDayPicker(),T=function(k,I){if(i){var P=getNextFocus(i,{moveBy:k,direction:I,context:E,modifiers:n});isSameDay(i,P)||(e.goToDate(P,i),x(P))}},_={focusedDay:i,focusTarget:p,blur:m,focus:x,focusDayAfter:function(){return T("day","after")},focusDayBefore:function(){return T("day","before")},focusWeekAfter:function(){return T("week","after")},focusWeekBefore:function(){return T("week","before")},focusMonthBefore:function(){return T("month","before")},focusMonthAfter:function(){return T("month","after")},focusYearBefore:function(){return T("year","before")},focusYearAfter:function(){return T("year","after")},focusStartOfWeek:function(){return T("startOfWeek","before")},focusEndOfWeek:function(){return T("endOfWeek","after")}};return jsxRuntimeExports.jsx(FocusContext.Provider,{value:_,children:t.children})}function useFocusContext(){var t=reactExports.useContext(FocusContext);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function useActiveModifiers(t,e){var n=useModifiers(),s=getActiveModifiers(t,n,e);return s}var SelectSingleContext=reactExports.createContext(void 0);function SelectSingleProvider(t){if(!isDayPickerSingle(t.initialProps)){var e={selected:void 0};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:e,children:t.children})}return jsxRuntimeExports.jsx(SelectSingleProviderInternal,{initialProps:t.initialProps,children:t.children})}function SelectSingleProviderInternal(t){var e=t.initialProps,n=t.children,s=function(o,a,c){var u,f,p;if((u=e.onDayClick)===null||u===void 0||u.call(e,o,a,c),a.selected&&!e.required){(f=e.onSelect)===null||f===void 0||f.call(e,void 0,o,a,c);return}(p=e.onSelect)===null||p===void 0||p.call(e,o,o,a,c)},i={selected:e.selected,onDayClick:s};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:i,children:n})}function useSelectSingle(){var t=reactExports.useContext(SelectSingleContext);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function useDayEventHandlers(t,e){var n=useDayPicker(),s=useSelectSingle(),i=useSelectMultiple(),o=useSelectRange(),a=useFocusContext(),c=a.focusDayAfter,u=a.focusDayBefore,f=a.focusWeekAfter,p=a.focusWeekBefore,m=a.blur,x=a.focus,E=a.focusMonthBefore,T=a.focusMonthAfter,_=a.focusYearBefore,k=a.focusYearAfter,I=a.focusStartOfWeek,P=a.focusEndOfWeek,A=function(q){var M,z,ee,W;isDayPickerSingle(n)?(M=s.onDayClick)===null||M===void 0||M.call(s,t,e,q):isDayPickerMultiple(n)?(z=i.onDayClick)===null||z===void 0||z.call(i,t,e,q):isDayPickerRange(n)?(ee=o.onDayClick)===null||ee===void 0||ee.call(o,t,e,q):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,q)},j=function(q){var M;x(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,q)},O=function(q){var M;m(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,q)},$=function(q){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,q)},V=function(q){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,q)},L=function(q){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,q)},U=function(q){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,q)},J=function(q){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,q)},Z=function(q){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,q)},Y=function(q){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,q)},K=function(q){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,q)},ke=function(q){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,q)},Re=function(q){var M;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),f();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),p();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?_():E();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?k():T();break;case"Home":q.preventDefault(),q.stopPropagation(),I();break;case"End":q.preventDefault(),q.stopPropagation(),P();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,q)},G={onClick:A,onFocus:j,onBlur:O,onKeyDown:Re,onKeyUp:ke,onMouseEnter:$,onMouseLeave:V,onPointerEnter:L,onPointerLeave:U,onTouchCancel:J,onTouchEnd:Z,onTouchMove:Y,onTouchStart:K};return G}function useSelectedDays(){var t=useDayPicker(),e=useSelectSingle(),n=useSelectMultiple(),s=useSelectRange(),i=isDayPickerSingle(t)?e.selected:isDayPickerMultiple(t)?n.selected:isDayPickerRange(t)?s.selected:void 0;return i}function isInternalModifier(t){return Object.values(InternalModifier).includes(t)}function getDayClassNames(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(s){var i=t.modifiersClassNames[s];if(i)n.push(i);else if(isInternalModifier(s)){var o=t.classNames["day_".concat(s)];o&&n.push(o)}}),n}function getDayStyle(t,e){var n=__assign({},t.styles.day);return Object.keys(e).forEach(function(s){var i;n=__assign(__assign({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function useDayRender(t,e,n){var s,i,o,a=useDayPicker(),c=useFocusContext(),u=useActiveModifiers(t,e),f=useDayEventHandlers(t,u),p=useSelectedDays(),m=!!(a.onDayClick||a.mode!=="default");reactExports.useEffect(function(){var $;u.outside||c.focusedDay&&m&&isSameDay(c.focusedDay,t)&&(($=n.current)===null||$===void 0||$.focus())},[c.focusedDay,t,n,m,u.outside]);var x=getDayClassNames(a,u).join(" "),E=getDayStyle(a,u),T=!!(u.outside&&!a.showOutsideDays||u.hidden),_=(o=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:DayContent,k=jsxRuntimeExports.jsx(_,{date:t,displayMonth:e,activeModifiers:u}),I={style:E,className:x,children:k,role:"gridcell"},P=c.focusTarget&&isSameDay(c.focusTarget,t)&&!u.outside,A=c.focusedDay&&isSameDay(c.focusedDay,t),j=__assign(__assign(__assign({},I),(s={disabled:u.disabled,role:"gridcell"},s["aria-selected"]=u.selected,s.tabIndex=A||P?0:-1,s)),f),O={isButton:m,isHidden:T,activeModifiers:u,selectedDays:p,buttonProps:j,divProps:I};return O}function Day(t){var e=reactExports.useRef(null),n=useDayRender(t.date,t.displayMonth,e);return n.isHidden?jsxRuntimeExports.jsx("div",{role:"gridcell"}):n.isButton?jsxRuntimeExports.jsx(Button,__assign({name:"day",ref:e},n.buttonProps)):jsxRuntimeExports.jsx("div",__assign({},n.divProps))}function WeekNumber(t){var e=t.number,n=t.dates,s=useDayPicker(),i=s.onWeekNumberClick,o=s.styles,a=s.classNames,c=s.locale,u=s.labels.labelWeekNumber,f=s.formatters.formatWeekNumber,p=f(Number(e),{locale:c});if(!i)return jsxRuntimeExports.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:p});var m=u(Number(e),{locale:c}),x=function(E){i(e,n,E)};return jsxRuntimeExports.jsx(Button,{name:"week-number","aria-label":m,className:a.weeknumber,style:o.weeknumber,onClick:x,children:p})}function Row(t){var e,n,s=useDayPicker(),i=s.styles,o=s.classNames,a=s.showWeekNumber,c=s.components,u=(e=c?.Day)!==null&&e!==void 0?e:Day,f=(n=c?.WeekNumber)!==null&&n!==void 0?n:WeekNumber,p;return a&&(p=jsxRuntimeExports.jsx("td",{className:o.cell,style:i.cell,children:jsxRuntimeExports.jsx(f,{number:t.weekNumber,dates:t.dates})})),jsxRuntimeExports.jsxs("tr",{className:o.row,style:i.row,children:[p,t.dates.map(function(m){return jsxRuntimeExports.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:jsxRuntimeExports.jsx(u,{displayMonth:t.displayMonth,date:m})},getUnixTime(m))})]})}function daysToMonthWeeks(t,e,n){for(var s=n?.ISOWeek?endOfISOWeek(e):endOfWeek(e,n),i=n?.ISOWeek?startOfISOWeek(t):startOfWeek(t,n),o=differenceInCalendarDays(s,i),a=[],c=0;c<=o;c++)a.push(addDays(i,c));var u=a.reduce(function(f,p){var m=n?.ISOWeek?getISOWeek(p):getWeek(p,n),x=f.find(function(E){return E.weekNumber===m});return x?(x.dates.push(p),f):(f.push({weekNumber:m,dates:[p]}),f)},[]);return u}function getMonthWeeks(t,e){var n=daysToMonthWeeks(startOfMonth(t),endOfMonth(t),e);if(e?.useFixedWeeks){var s=getWeeksInMonth(t,e);if(s<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],a=addWeeks(o,6-s),c=daysToMonthWeeks(addWeeks(o,1),a,e);n.push.apply(n,c)}}return n}function Table(t){var e,n,s,i=useDayPicker(),o=i.locale,a=i.classNames,c=i.styles,u=i.hideHead,f=i.fixedWeeks,p=i.components,m=i.weekStartsOn,x=i.firstWeekContainsDate,E=i.ISOWeek,T=getMonthWeeks(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:E,locale:o,weekStartsOn:m,firstWeekContainsDate:x}),_=(e=p?.Head)!==null&&e!==void 0?e:Head,k=(n=p?.Row)!==null&&n!==void 0?n:Row,I=(s=p?.Footer)!==null&&s!==void 0?s:Footer;return jsxRuntimeExports.jsxs("table",{id:t.id,className:a.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&jsxRuntimeExports.jsx(_,{}),jsxRuntimeExports.jsx("tbody",{className:a.tbody,style:c.tbody,children:T.map(function(P){return jsxRuntimeExports.jsx(k,{displayMonth:t.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),jsxRuntimeExports.jsx(I,{displayMonth:t.displayMonth})]})}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var useIsomorphicLayoutEffect=canUseDOM()?reactExports.useLayoutEffect:reactExports.useEffect,serverHandoffComplete=!1,id=0;function genId(){return"react-day-picker-".concat(++id)}function useId(t){var e,n=t??(serverHandoffComplete?genId():null),s=reactExports.useState(n),i=s[0],o=s[1];return useIsomorphicLayoutEffect(function(){i===null&&o(genId())},[]),reactExports.useEffect(function(){serverHandoffComplete===!1&&(serverHandoffComplete=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Month(t){var e,n,s=useDayPicker(),i=s.dir,o=s.classNames,a=s.styles,c=s.components,u=useNavigation().displayMonths,f=useId(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),p=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,m=[o.month],x=a.month,E=t.displayIndex===0,T=t.displayIndex===u.length-1,_=!E&&!T;i==="rtl"&&(e=[E,T],T=e[0],E=e[1]),E&&(m.push(o.caption_start),x=__assign(__assign({},x),a.caption_start)),T&&(m.push(o.caption_end),x=__assign(__assign({},x),a.caption_end)),_&&(m.push(o.caption_between),x=__assign(__assign({},x),a.caption_between));var k=(n=c?.Caption)!==null&&n!==void 0?n:Caption;return jsxRuntimeExports.jsxs("div",{className:m.join(" "),style:x,children:[jsxRuntimeExports.jsx(k,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),jsxRuntimeExports.jsx(Table,{id:p,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function Months(t){var e=useDayPicker(),n=e.classNames,s=e.styles;return jsxRuntimeExports.jsx("div",{className:n.months,style:s.months,children:t.children})}function Root(t){var e,n,s=t.initialProps,i=useDayPicker(),o=useFocusContext(),a=useNavigation(),c=reactExports.useState(!1),u=c[0],f=c[1];reactExports.useEffect(function(){i.initialFocus&&o.focusTarget&&(u||(o.focus(o.focusTarget),f(!0)))},[i.initialFocus,u,o.focus,o.focusTarget,o]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var m=__assign(__assign({},i.styles.root),i.style),x=Object.keys(s).filter(function(T){return T.startsWith("data-")}).reduce(function(T,_){var k;return __assign(__assign({},T),(k={},k[_]=s[_],k))},{}),E=(n=(e=s.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Months;return jsxRuntimeExports.jsx("div",__assign({className:p.join(" "),style:m,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},x,{children:jsxRuntimeExports.jsx(E,{children:a.displayMonths.map(function(T,_){return jsxRuntimeExports.jsx(Month,{displayIndex:_,displayMonth:T},_)})})}))}function RootProvider(t){var e=t.children,n=__rest(t,["children"]);return jsxRuntimeExports.jsx(DayPickerProvider,{initialProps:n,children:jsxRuntimeExports.jsx(NavigationProvider,{children:jsxRuntimeExports.jsx(SelectSingleProvider,{initialProps:n,children:jsxRuntimeExports.jsx(SelectMultipleProvider,{initialProps:n,children:jsxRuntimeExports.jsx(SelectRangeProvider,{initialProps:n,children:jsxRuntimeExports.jsx(ModifiersProvider,{children:jsxRuntimeExports.jsx(FocusProvider,{children:e})})})})})})})}function DayPicker(t){return jsxRuntimeExports.jsx(RootProvider,__assign({},t,{children:jsxRuntimeExports.jsx(Root,{initialProps:t})}))}function Calendar({className:t,classNames:e,showOutsideDays:n=!0,...s}){return jsxRuntimeExports.jsx(DayPicker,{locale:ptBR,showOutsideDays:n,className:cn$1("p-3 bg-white dark:bg-zinc-950 rounded-lg shadow-sm",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-between items-center pt-1 px-2 relative mb-2",caption_label:"text-base font-semibold text-foreground dark:text-white capitalize",caption_dropdowns:"hidden",dropdown:"bg-transparent border-none appearance-none font-medium text-sm p-1 cursor-pointer hover:bg-muted rounded-md",dropdown_month:"mr-2",dropdown_year:"",nav:"flex items-center justify-end gap-2",nav_button:cn$1(buttonVariants({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 border-gray-200 dark:border-gray-700 transition-all duration-200 ease-in-out hover:scale-105"),nav_button_previous:"",nav_button_next:"",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:cn$1(buttonVariants({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800"),day_range_end:"day-range-end",day_selected:"bg-orange-600 text-white hover:bg-orange-700 hover:text-white focus:bg-orange-700 focus:text-white",day_today:"bg-accent text-accent-foreground font-bold",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:()=>jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),IconRight:()=>jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})},...s})}Calendar.displayName="Calendar";const formatTimestamp=t=>{if(!t)return"N/A";const e=t instanceof Timestamp?t.toDate():t;return!(e instanceof Date)||isNaN(e.getTime())?"Data invlida":format(e,"dd/MM HH:mm",{locale:ptBR})},formatPhoneNumber=t=>{if(!t)return"";const e=t.replace(/\D/g,"");return e.length<=2?`(${e}`:e.length<=7?`(${e.slice(0,2)}) ${e.slice(2)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7,11)}`},statusConfig={DISPONIVEL:{label:"Disponvel",color:"bg-emerald-500",text:"text-emerald-400",glow:"shadow-emerald-500/50"},INDISPONIVEL:{label:"Indisponvel",color:"bg-red-500",text:"text-red-400",glow:"shadow-red-500/50"},EM_ROTA:{label:"Em Rota",color:"bg-blue-500",text:"text-blue-400",glow:"shadow-blue-500/50"},OFFLINE:{label:"Offline",color:"bg-slate-500",text:"text-slate-400",glow:"shadow-slate-500/50"}},ProfileHeaderCard=({driver:t,onEditClick:e,isUploading:n,activeCall:s,theme:i="light",currentDateTime:o=new Date})=>{if(!t)return null;const a=s&&s.status==="ABERTO"?{label:"Aguardando Apoio"}:statusConfig[t.status]||statusConfig.OFFLINE,u=t.status==="DISPONIVEL"?"bg-emerald-500":"bg-red-500";return jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:cn$1("relative overflow-hidden rounded-3xl p-6 border-2 shadow-xl transition-all duration-300",i==="dark"?"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 border-orange-500/40":"bg-white/95 border-orange-200/60"),style:i==="dark"?{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.2), 0 0 0 1px rgba(238, 77, 45, 0.1)"}:{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.15), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-orange-200/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{size:20,className:cn$1(i==="dark"?"text-orange-400":"text-orange-600")}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:cn$1("text-2xl font-bold",i==="dark"?"text-white":"text-slate-900"),children:format(o,"HH:mm:ss",{locale:ptBR})}),jsxRuntimeExports.jsx("span",{className:cn$1("text-sm",i==="dark"?"text-slate-400":"text-slate-600"),children:format(o,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:ptBR})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-start gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"w-24 h-24 rounded-2xl overflow-hidden relative group",style:{background:"linear-gradient(135deg, #FFA832 0%, #FE8330 50%, #FE5F2F 100%)"},children:[t.avatar?jsxRuntimeExports.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white",style:{background:"linear-gradient(135deg, rgba(255, 168, 50, 0.8) 0%, rgba(254, 95, 47, 0.9) 100%)"},children:[jsxRuntimeExports.jsx(Mountain,{size:32,className:"mb-1 opacity-80"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold",children:t.name})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 rounded-2xl",children:jsxRuntimeExports.jsx(Camera,{className:"text-white w-5 h-5"})}),n&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-sm rounded-2xl",children:jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"})})]}),jsxRuntimeExports.jsx("div",{className:cn$1("absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-4",i==="dark"?"border-slate-800":"border-white",u)})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsx("h2",{className:cn$1("text-3xl font-bold mb-2 truncate",i==="dark"?"text-white":"text-slate-900"),children:t.name})}),jsxRuntimeExports.jsxs("div",{className:cn$1("px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2 flex-shrink-0 border-2",i==="dark"?u==="bg-red-500"?"text-red-400 bg-red-500/15 border-red-500/40":"text-emerald-400 bg-emerald-500/15 border-emerald-500/40":u==="bg-red-500"?"text-red-700 bg-red-50 border-red-300":"text-emerald-700 bg-emerald-50 border-emerald-300"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-2.5 h-2.5 rounded-full",u)}),a.label]})]}),jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-2 text-base",i==="dark"?"text-slate-300":"text-slate-700"),children:[jsxRuntimeExports.jsx(Building,{size:18,className:cn$1(i==="dark"?"text-orange-400":"text-orange-600")}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.hub?t.hub.split("_")[2]||t.hub:"Sem Hub"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm border-2 transition-all",i==="dark"?"bg-slate-800/60 border-orange-500/40":"bg-white border-orange-300"),children:[jsxRuntimeExports.jsx(Truck,{size:18,className:cn$1(i==="dark"?"text-orange-400":"text-orange-600")}),jsxRuntimeExports.jsx("span",{className:cn$1("capitalize font-semibold",i==="dark"?"text-white":"text-slate-900"),children:t.vehicleType||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm border-2 transition-all",i==="dark"?"bg-slate-800/60 border-orange-500/40":"bg-white border-orange-300"),children:[jsxRuntimeExports.jsx(Phone,{size:18,className:cn$1(i==="dark"?"text-orange-400":"text-orange-600")}),jsxRuntimeExports.jsx("span",{className:cn$1("font-semibold",i==="dark"?"text-white":"text-slate-900"),children:formatPhoneNumber(t.phone)})]})]})]})]})]})})},UrgencyBadge=({urgency:t})=>{const n={BAIXA:"bg-orange-50/80 dark:bg-orange-500/20 text-orange-800 dark:text-white/70 border-orange-200/50 dark:border-orange-500/30 backdrop-blur-sm",MEDIA:"bg-blue-500/20 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 border-blue-400/30 backdrop-blur-sm",ALTA:"bg-orange-500/20 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300 border-orange-400/30 backdrop-blur-sm",URGENTE:"bg-red-500/20 dark:bg-red-500/20 text-red-700 dark:text-red-300 border-red-400/30 backdrop-blur-sm"}[t||"BAIXA"];return jsxRuntimeExports.jsx("span",{className:cn$1("text-[10px] font-bold px-2 py-0.5 rounded-xl border uppercase tracking-wide shadow-lg shadow-black/5 dark:shadow-black/10",n),children:t||"Normal"})},OpenCallCard=({call:t,acceptingCallId:e,onAccept:n})=>{const s=e===t.id,i=a=>{if(!a)return null;const c={},u=a.match(/MOTIVO:\s*([^.]+)/i);u&&(c.motivo=u[1].trim());const f=a.match(/DETALHES:\s*([^.]+(?:\.[^H]|$))/i);f&&(c.detalhes=f[1].trim());const p=a.match(/Regies:\s*([^.]+)/i);return p&&(c.regioes=p[1].split(",").map(m=>m.trim()).filter(Boolean)),c.volumoso=/VOLUMOSO/i.test(a),Object.keys(c).length>0?c:null},o=t.description?i(t.description):null;return jsxRuntimeExports.jsxs("div",{className:cn$1("relative overflow-hidden rounded-2xl p-4 group transition-all border-l-4 border-l-primary border border-border shadow-lg backdrop-blur-xl","dark:bg-gradient-to-br dark:from-slate-800 dark:via-slate-700 dark:to-slate-800 dark:border-slate-600/50","bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-primary font-bold text-sm bg-primary/15 border border-primary/30",children:t.solicitante.initials}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:cn$1("font-bold text-sm","dark:text-white text-slate-800"),children:t.solicitante.name}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-1 text-xs","dark:text-slate-300 text-slate-600"),children:[jsxRuntimeExports.jsx(Building,{size:10}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:t.hub?.split("_")[2]})]})]})]}),jsxRuntimeExports.jsx(UrgencyBadge,{urgency:t.urgency})]}),o?.motivo&&jsxRuntimeExports.jsxs("div",{className:cn$1("mb-3 p-2.5 rounded-lg border","dark:bg-red-900/20 dark:border-red-800/30","bg-red-50 border-red-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(TriangleAlert,{size:12,className:"text-red-600 dark:text-red-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-red-700 dark:text-red-300",children:"Motivo"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white pl-4 break-words overflow-wrap-anywhere",children:o.motivo})]}),o?.detalhes&&jsxRuntimeExports.jsxs("div",{className:cn$1("mb-3 p-2.5 rounded-lg border","dark:bg-orange-900/20 dark:border-orange-800/30","bg-orange-50 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(FileText,{size:12,className:"text-orange-600 dark:text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-orange-700 dark:text-orange-300",children:"Detalhes"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-200 pl-4 leading-relaxed break-words overflow-wrap-anywhere",children:o.detalhes})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 rounded-xl px-3 py-2 bg-muted/50 border border-border",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase block",children:"Pacotes"}),jsxRuntimeExports.jsxs("span",{className:cn$1("font-bold text-lg flex items-center gap-1","dark:text-white text-slate-800"),children:[jsxRuntimeExports.jsx(Package,{size:16,className:"text-primary"})," ",t.packageCount]})]}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex-1 rounded-xl px-3 py-2 border","dark:bg-slate-700/50 dark:border-slate-600/50","bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx("span",{className:cn$1("text-[10px] font-bold uppercase block","dark:text-slate-300 text-slate-600"),children:"Veculo"}),jsxRuntimeExports.jsxs("span",{className:cn$1("font-bold text-sm flex items-center gap-1 capitalize h-7","dark:text-white text-slate-800"),children:[jsxRuntimeExports.jsx(Truck,{size:16,className:"text-primary"})," ",t.vehicleType]})]})]}),(o?.volumoso||t.isBulky)&&jsxRuntimeExports.jsx("div",{className:cn$1("mb-3 p-2.5 rounded-lg border-2","dark:bg-orange-900/20 dark:border-orange-700","bg-orange-50 border-orange-300"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Weight,{size:14,className:"text-orange-600 dark:text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-orange-700 dark:text-orange-300",children:"Volumoso"})]})}),o?.regioes&&o.regioes.length>0||t.deliveryRegions&&t.deliveryRegions.length>0?jsxRuntimeExports.jsxs("div",{className:cn$1("mb-3 p-2.5 rounded-lg border","dark:bg-green-900/20 dark:border-green-800/30","bg-green-50 border-green-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[jsxRuntimeExports.jsx(MapPin,{size:12,className:"text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide text-green-700 dark:text-green-300",children:"Regies de Entrega"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5 pl-4",children:[(o?.regioes||t.deliveryRegions||[]).slice(0,3).map((a,c)=>jsxRuntimeExports.jsx("span",{className:cn$1("px-2 py-0.5 rounded text-[10px] font-semibold border","dark:bg-green-800/40 dark:text-green-300 dark:border-green-700","bg-green-100 text-green-700 border-green-300"),children:a},c)),(o?.regioes||t.deliveryRegions||[]).length>3&&jsxRuntimeExports.jsxs("span",{className:cn$1("px-2 py-0.5 rounded text-[10px] font-semibold","dark:bg-gray-800 text-gray-400","bg-gray-100 text-gray-600"),children:["+",(o?.regioes||t.deliveryRegions||[]).length-3]})]})]}):null,t.cargoPhotoUrl&&jsxRuntimeExports.jsx("div",{className:"mb-3 p-2 rounded-xl bg-primary/10 border border-primary/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$2,{size:16,className:"text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Foto da Carga Disponvel"})]}),jsxRuntimeExports.jsxs("a",{href:t.cargoPhotoUrl,download:!0,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold text-primary-foreground bg-primary hover:bg-primary/90 transition-all shadow-md",children:[jsxRuntimeExports.jsx(Download,{size:14}),jsxRuntimeExports.jsx("span",{children:"Baixar Foto"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("flex-1 flex items-center gap-2 text-xs p-2 rounded-xl truncate min-w-[200px] border","dark:bg-slate-700/50 dark:border-slate-600/50 dark:text-slate-300","bg-orange-50/80 border-orange-200/50 text-slate-700"),children:[jsxRuntimeExports.jsx(MapPin,{size:14,className:"shrink-0 dark:text-slate-300 text-slate-600"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:t.location})]}),jsxRuntimeExports.jsx("button",{onClick:()=>n(t.id),disabled:!!e,className:"px-4 py-2 rounded-xl text-xs font-bold text-primary-foreground bg-primary hover:bg-primary/90 transition-all disabled:opacity-50 shadow-lg",children:s?jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}):"ACEITAR"})]})]})},StatusSection=({driver:t,onAvailabilityChange:e,filteredOpenCalls:n,routeIdSearch:s,onRouteIdSearchChange:i,acceptingCallId:o,onAcceptCall:a,theme:c="light"})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6 tab-content-enter",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("relative overflow-hidden rounded-2xl p-6 border shadow-lg transition-all duration-300 backdrop-blur-xl",c==="dark"?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 rounded-full blur-3xl opacity-10",style:{background:t.status==="DISPONIVEL"?"radial-gradient(circle, rgba(16, 185, 129, 0.4) 0%, transparent 70%)":"radial-gradient(circle, rgba(239, 68, 68, 0.4) 0%, transparent 70%)"}}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:cn$1("font-bold text-xl mb-1",c==="dark"?"text-white":"text-slate-800"),children:"Status de Operao"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",c==="dark"?"text-slate-300":"text-slate-600"),children:"Gerencie sua disponibilidade"})]}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-semibold border",t.status==="DISPONIVEL"?c==="dark"?"text-emerald-400 bg-emerald-500/15 border-emerald-500/30":"text-emerald-600 bg-emerald-500/15 border-emerald-500/30":c==="dark"?"text-red-400 bg-red-500/15 border-red-500/30":"text-red-600 bg-red-500/15 border-red-500/30"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-2 h-2 rounded-full animate-pulse",t.status==="DISPONIVEL"?"bg-emerald-400":"bg-red-400")}),t.status==="DISPONIVEL"?"Online":"Offline"]})]}),jsxRuntimeExports.jsxs("div",{className:cn$1("flex gap-3 mb-6 p-1 rounded-xl border",c==="dark"?"bg-slate-700/50 border-orange-500/30":"bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("button",{onClick:()=>e(!0),className:cn$1("flex-1 py-4 px-6 rounded-xl font-semibold text-sm transition-all duration-300 flex items-center justify-center gap-2",t.status==="DISPONIVEL"?"text-white bg-emerald-500 shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:18}),jsxRuntimeExports.jsx("span",{children:"Disponvel"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e(!1),className:cn$1("flex-1 py-4 px-6 rounded-xl font-semibold text-sm transition-all duration-300 flex items-center justify-center gap-2",t.status!=="DISPONIVEL"?"text-white bg-red-500 shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[jsxRuntimeExports.jsx(CircleX,{size:18}),jsxRuntimeExports.jsx("span",{children:"Indisponvel"})]})]}),jsxRuntimeExports.jsx("div",{className:cn$1("p-4 rounded-xl border",t.status==="DISPONIVEL"?"bg-emerald-500/10 border-emerald-500/20":"bg-red-500/10 border-red-500/20"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-2 rounded-lg",t.status==="DISPONIVEL"?c==="dark"?"text-emerald-400 bg-emerald-500/15":"text-emerald-600 bg-emerald-500/15":c==="dark"?"text-red-400 bg-red-500/15":"text-red-600 bg-red-500/15"),children:t.status==="DISPONIVEL"?jsxRuntimeExports.jsx(Zap,{size:20}):jsxRuntimeExports.jsx(TriangleAlert,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:cn$1("font-semibold text-sm mb-1",t.status==="DISPONIVEL"?c==="dark"?"text-emerald-400":"text-emerald-600":c==="dark"?"text-red-400":"text-red-600"),children:t.status==="DISPONIVEL"?"Pronto para receber chamados":"Voc est indisponvel"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs leading-relaxed",c==="dark"?"text-slate-300":"text-slate-600"),children:t.status==="DISPONIVEL"?"Voc receber notificaes de novos chamados de apoio na sua regio.":"Voc no receber novos chamados enquanto estiver indisponvel."})]})]})})]})]}),t.status==="DISPONIVEL"&&jsxRuntimeExports.jsxs("div",{className:cn$1("relative overflow-hidden rounded-2xl p-6 border shadow-lg tab-content-enter transition-all duration-300 backdrop-blur-xl",c==="dark"?"bg-slate-800/90 border-orange-500/30":"bg-white/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("font-bold text-lg",c==="dark"?"text-white":"text-slate-800"),children:"Chamados na Regio"}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1 rounded-full text-xs font-semibold text-orange-400",style:{background:"rgba(249, 115, 22, 0.15)",border:"1px solid rgba(249, 115, 22, 0.3)"},children:[n.length," ativos"]})]}),jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Filtrar rota...",value:s,onChange:u=>i(u.target.value),className:cn$1("w-full pl-10 pr-4 py-3 rounded-xl text-sm border outline-none transition-all focus:ring-2 focus:ring-orange-500/50",c==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500")})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:n.length>0?n.map(u=>jsxRuntimeExports.jsx(OpenCallCard,{call:u,acceptingCallId:o,onAccept:a},u.id)):jsxRuntimeExports.jsxs("div",{className:cn$1("text-center py-12 rounded-xl border border-dashed",c==="dark"?"bg-slate-700/50 border-orange-500/30":"bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx(Ticket,{size:32,className:cn$1("mx-auto mb-2",c==="dark"?"text-slate-400":"text-slate-500")}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",c==="dark"?"text-slate-300":"text-slate-600"),children:"Nenhum chamado disponvel no momento."})]})})]})]}),VEHICLE_TYPES=["moto","carro passeio","carro utilitario","van"],SUPPORT_REASONS=["Problemas Mecnicos","Pneu Furado","Acidente / Sinistro","Roubo / Furto","Problemas de Sade","Problemas Familiares","Excesso de Pacotes","Erro de Roteirizao","Outros"],TUTORIALS_SOLICITANTE=[{id:"sol-1",question:"Como iniciar uma transferncia?",answer:"V em: Menu > Transferncia de Pacotes > Minhas transferncias > Iniciar transferncia de pacotes, escolha o motivo no qual se encaixa sua ocorrencia'."},{id:"sol-2",question:"O que  o 'Acionando Socorro'?",answer:"Se voc tiver um impedimento para a entrega (ex: sinistro), voc deve acionar o socorro no app para que outro entregador possa te apoiar e realizar a entrega."},{id:"sol-3",question:"Como cancelar uma transferncia que no foi recebida?",answer:"V em: Minhas Transferncias > Transferncia em andamento > Cancelar solicitao > Confirmar."}],TUTORIALS_PRESTADOR=[{id:"pres-1",question:"Onde vejo os pacotes que devo receber?",answer:"No menu 'Transferncia de Pacotes', v para a aba 'Meus recebidos' para ver as transferncias destinadas a voc."},{id:"pres-2",question:"Como eu recebo os pacotes no meu APP?",answer:"No menu  Meus recebidos > Receber pacotes de Transferncias de pacotes > Bipe pacotes > Finalizar Bipes"},{id:"pres-3",question:"Como eu importo minhas rotas transferidas para o APP circuit?",answer:`Clique nos 3 pontinhos dentro do app (...) e aps isso clique em 'importar planilha' e faa o upload do arquivo. 
Selecione a opo 'Sequencia' para roteirizar da forma correta, Aps isto j estar organizado. :)`}],showNotification=(t,e,n)=>{const s={success:{icon:CircleCheckBig,color:"text-green-300",border:"border-l-4 border-green-500"},error:{icon:TriangleAlert,color:"text-red-300",border:"border-l-4 border-red-500"},warning:{icon:TriangleAlert,color:"text-orange-300",border:"border-l-4 border-orange-500"},info:{icon:CircleCheckBig,color:"text-blue-300",border:"border-l-4 border-blue-500"}},{icon:i,color:o,border:a}=s[t];toast.custom(c=>jsxRuntimeExports.jsx("div",{className:cn$1("flex w-full max-w-sm bg-slate-800/95 backdrop-blur-xl shadow-xl shadow-black/30 rounded-2xl overflow-hidden border border-white/20",a),children:jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-start gap-3 w-full",children:[jsxRuntimeExports.jsx(i,{size:20,className:cn$1("shrink-0 mt-0.5",o)}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-white",children:e}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/70 mt-1",children:n})]}),jsxRuntimeExports.jsx("button",{onClick:()=>toast.dismiss(c),className:"text-white/50 hover:text-white transition-colors",children:jsxRuntimeExports.jsx(X,{size:16})})]})}))},sessionNotifiedCallIds=new Set,DriverCallHistoryCard=({call:t,userId:e,allDrivers:n,driver:s,onRequestApproval:i,onCancelSupport:o,onDeleteSupportRequest:a})=>{const c=t.solicitante.id===e,u=c?t.assignedTo:t.solicitante.id,f=n.find(T=>T.uid===u),p=n.find(T=>T.uid===t.solicitante.id||T.googleUid===t.solicitante.id||T.shopeeId===t.solicitante.id),m=t.assignedTo?n.find(T=>T.uid===t.assignedTo||T.googleUid===t.assignedTo||T.shopeeId===t.assignedTo):null,x=()=>{if(!f?.phone)return showNotification("error","Erro","Telefone indisponvel.");const T=encodeURIComponent(`Ol, sou ${s.name} referente ao apoio logstico.`);window.open(`https://wa.me/55${f.phone}?text=${T}`,"_blank")},E=document.documentElement.classList.contains("dark");return jsxRuntimeExports.jsxs(Card,{className:cn$1("border border-border shadow-xl hover:shadow-2xl transition-all backdrop-blur-xl rounded-2xl overflow-hidden",E?"bg-slate-800/90 border-slate-600/50 shadow-black/20 hover:shadow-black/30":"bg-white/80 border-orange-200/50 shadow-black/5 hover:shadow-black/10"),children:[jsxRuntimeExports.jsxs("div",{className:cn$1("flex items-center justify-between p-4 border-b",E?"border-slate-600/50":"border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-2 rounded-xl backdrop-blur-sm shadow-lg shadow-black/10",c?"bg-orange-500/20 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300 border border-orange-400/30":"bg-blue-500/20 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 border border-blue-400/30"),children:c?jsxRuntimeExports.jsx(Package,{size:18}):jsxRuntimeExports.jsx(Truck,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-sm font-bold",E?"text-white":"text-slate-800"),children:c?"Minha Solicitao":`Apoio para ${t.solicitante.name}`}),jsxRuntimeExports.jsxs("p",{className:cn$1("text-xs flex items-center gap-1",E?"text-white/60":"text-slate-600"),children:[jsxRuntimeExports.jsx(CalendarClock,{size:12})," ",formatTimestamp(t.timestamp)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx(UrgencyBadge,{urgency:t.urgency}),jsxRuntimeExports.jsx("p",{className:cn$1("text-[10px] font-medium mt-1 uppercase tracking-wide",E?"text-white/50":"text-slate-600"),children:t.status.replace("_"," ")})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:cn$1("text-[10px] uppercase font-bold block mb-0.5",E?"text-white/50":"text-slate-600"),children:"Rota ID"}),jsxRuntimeExports.jsx("span",{className:cn$1("font-mono font-medium backdrop-blur-xl px-1.5 py-0.5 rounded-xl text-xs border",E?"text-white bg-orange-500/20 border-orange-500/30":"text-slate-800 bg-orange-50/80 border-orange-200/50"),children:t.routeId||"N/A"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:cn$1("text-[10px] uppercase font-bold block mb-0.5",E?"text-white/50":"text-slate-600"),children:"Pacotes"}),jsxRuntimeExports.jsxs("span",{className:cn$1("font-medium",E?"text-white":"text-slate-800"),children:[t.packageCount||0," un."]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:cn$1("text-[10px] uppercase font-bold block mb-0.5",E?"text-white/50":"text-slate-600"),children:"Localizao"}),jsxRuntimeExports.jsxs("a",{href:t.location,target:"_blank",rel:"noreferrer",className:cn$1("flex items-center gap-1 hover:underline text-xs font-medium truncate transition-colors",E?"text-blue-300 hover:text-blue-200":"text-blue-600 hover:text-blue-500"),children:[jsxRuntimeExports.jsx(MapPin,{size:12})," ",t.location," ",jsxRuntimeExports.jsx(ExternalLink,{size:10})]})]}),t.cargoPhotoUrl&&jsxRuntimeExports.jsx("div",{className:"col-span-2 p-2 rounded-xl bg-orange-500/10 dark:bg-orange-500/10 border border-orange-500/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$2,{size:14,className:"text-orange-600 dark:text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-foreground dark:text-white",children:"Foto da Carga Disponvel"})]}),jsxRuntimeExports.jsxs("a",{href:t.cargoPhotoUrl,download:!0,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold text-white bg-orange-500 hover:bg-orange-600 transition-all shadow-md",children:[jsxRuntimeExports.jsx(Download,{size:12}),jsxRuntimeExports.jsx("span",{children:"Baixar"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:cn$1("p-4 border-t",E?"border-slate-600/50":"border-orange-200/50"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("text-[10px] uppercase font-bold mb-2",E?"text-white/50":"text-slate-600"),children:"Motoristas"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:cn$1("flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg border",E?"bg-orange-500/10 border-orange-500/30":"bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-8 h-8 flex-shrink-0 rounded-full flex items-center justify-center text-xs font-bold",E?"bg-orange-500/20 text-orange-300":"bg-orange-500/20 text-orange-700"),children:p?.initials||t.solicitante.initials||t.solicitante.name?.charAt(0)||"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-semibold truncate",E?"text-white":"text-slate-800"),children:p?.name||t.solicitante.name}),jsxRuntimeExports.jsx("p",{className:cn$1("text-[10px] truncate",E?"text-white/60":"text-slate-600"),children:"Solicitante"})]})]}),t.assignedTo&&jsxRuntimeExports.jsx(ArrowRight,{size:14,className:cn$1("flex-shrink-0",E?"text-white/40":"text-slate-400")}),t.assignedTo?m?jsxRuntimeExports.jsxs("div",{className:cn$1("flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg border",E?"bg-blue-500/10 border-blue-500/30":"bg-blue-50/80 border-blue-200/50"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-8 h-8 flex-shrink-0 rounded-full flex items-center justify-center text-xs font-bold",E?"bg-blue-500/20 text-blue-300":"bg-blue-500/20 text-blue-700"),children:m.initials||m.name?.charAt(0)||"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-semibold truncate",E?"text-white":"text-slate-800"),children:m.name}),jsxRuntimeExports.jsx("p",{className:cn$1("text-[10px] truncate",E?"text-white/60":"text-slate-600"),children:"Prestador"})]})]}):jsxRuntimeExports.jsxs("div",{className:cn$1("flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg border",E?"bg-blue-500/10 border-blue-500/30":"bg-blue-50/80 border-blue-200/50"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-8 h-8 flex-shrink-0 rounded-full flex items-center justify-center text-xs font-bold",E?"bg-blue-500/20 text-blue-300":"bg-blue-500/20 text-blue-700"),children:"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("p",{className:cn$1("text-xs font-semibold truncate",E?"text-white":"text-slate-800"),children:"Motorista no encontrado"}),jsxRuntimeExports.jsxs("p",{className:cn$1("text-[10px] truncate",E?"text-white/60":"text-slate-600"),children:["Prestador (ID: ",t.assignedTo.substring(0,12),"...)"]})]})]}):jsxRuntimeExports.jsx("div",{className:cn$1("flex-1 min-w-0 flex items-center gap-2 p-2 rounded-lg border",E?"bg-slate-700/50 border-slate-600/50":"bg-gray-100 border-gray-200/50"),children:jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:jsxRuntimeExports.jsx("p",{className:cn$1("text-xs truncate",E?"text-white/60":"text-slate-600"),children:"Aguardando prestador"})})})]})]}),["EM ANDAMENTO","ABERTO","AGUARDANDO_APROVACAO"].includes(t.status)&&jsxRuntimeExports.jsxs("div",{className:cn$1("p-3 backdrop-blur-xl border-t flex justify-end gap-2 flex-wrap",E?"bg-slate-800/90 border-slate-600/50":"bg-orange-50/60 border-orange-200/50"),children:[f&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:x,className:"h-8 text-xs gap-1.5 border-green-400/30 text-green-300 hover:bg-green-500/20 hover:text-green-200 backdrop-blur-xl rounded-xl",children:[jsxRuntimeExports.jsx(Phone,{size:14})," Contatar"]}),!c&&t.status==="EM ANDAMENTO"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>i(t.id),className:"h-8 text-xs bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl shadow-lg shadow-primary/30",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:14,className:"mr-1"})," Finalizar"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>o(t.id),className:"h-8 text-xs text-red-300 hover:bg-red-500/20 rounded-xl",children:"Cancelar"})]}),c&&t.status!=="CONCLUIDO"&&jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>a(t.id),className:"h-8 text-xs text-red-300 hover:bg-red-500/20 rounded-xl",children:[jsxRuntimeExports.jsx(CircleX,{size:14,className:"mr-1"})," Cancelar Pedido"]})]})]})},DriverInterface=({driver:t})=>{const[e,n]=reactExports.useState([]),[s,i]=reactExports.useState([]),[o,a]=reactExports.useState([]),[c,u]=reactExports.useState(!1),[f,p]=reactExports.useState(!1),[m,x]=reactExports.useState(!1),[E,T]=reactExports.useState(!1),[_,k]=reactExports.useState(""),[I,P]=reactExports.useState(!1),[A,j]=reactExports.useState(!1),[O,$]=reactExports.useState(""),[V,L]=reactExports.useState(""),[U,J]=reactExports.useState(""),[Z,Y]=reactExports.useState(""),[K,ke]=reactExports.useState([""]),[Re,G]=reactExports.useState([""]),[q,M]=reactExports.useState(""),[z,ee]=reactExports.useState(!1),[W,ie]=reactExports.useState(null),[se,Pe]=reactExports.useState(null),[Ne,Oe]=reactExports.useState(!1),[je,Be]=reactExports.useState(""),[We,Ue]=reactExports.useState(""),[Ze,ot]=reactExports.useState(""),[Je,He]=reactExports.useState(""),[Ge,at]=reactExports.useState(!1),[et,lt]=reactExports.useState(null),[pt,Tt]=reactExports.useState(""),[yt,_t]=reactExports.useState(""),[Pt,Lt]=reactExports.useState(!1),[Jt,Ct]=reactExports.useState(!1),[It,Yt]=reactExports.useState(""),[Zt,er]=reactExports.useState(""),[tr,gr]=reactExports.useState(!1),[qe,tn]=reactExports.useState("light"),[zr,Ur]=reactExports.useState(new Date),[Nr,vr]=reactExports.useState("all"),[rr,rn]=reactExports.useState(()=>{const Ae=new Date;return Ae.setDate(Ae.getDate()-7),Ae}),[nr,Ft]=reactExports.useState(()=>new Date),[Gt,ct]=reactExports.useState(""),Dt="Todos os Hubs",[kt,Mt]=reactExports.useState(()=>localStorage.getItem("notificationsMuted")==="true"),[qt,Ot]=reactExports.useState([]),vt=reactExports.useRef(new Set),[dr,Nt]=reactExports.useState(!0),[Vt,Kt]=reactExports.useState(null),Xt=reactExports.useRef(null),jt=auth.currentUser?.uid,Dr=reactExports.useRef(!0),_n=reactExports.useMemo(()=>[{id:"availability",label:"Status",icon:jsxRuntimeExports.jsx(Zap,{size:20})},{id:"support",label:"Apoio",icon:jsxRuntimeExports.jsx(TriangleAlert,{size:20})},{id:"activeCalls",label:"Chamados",icon:jsxRuntimeExports.jsx(Clock,{size:20})},{id:"tutorial",label:"Ajuda",icon:jsxRuntimeExports.jsx(BookOpen,{size:20})},{id:"profile",label:"Perfil",icon:jsxRuntimeExports.jsx(User,{size:20})}],[]),[Mr,hn]=reactExports.useState("profile"),hr=reactExports.useMemo(()=>{if(!t)return!1;const Ae=q&&q.trim()!==""?q:t.hub||"",nt=Ze&&Ze.trim()!==""?Ze:t.vehicleType||"",xt=We&&We.trim()!==""?We:t.phone||"",zt=je&&je.trim()!==""?je:t.name||"",sr=xt?xt.replace(/\D/g,""):"",qr=Ae&&Ae.trim()!==""&&HUBS.includes(Ae),Rr=nt&&nt.trim()!=="",Ut=sr&&sr.length>=10&&sr.length<=11,_r=zt&&zt.trim()!=="",St=et&&!et.includes("Erro");return qr&&Rr&&Ut&&_r&&St},[t,et,q,Ze,We,je]),bn=reactExports.useMemo(()=>e.find(Ae=>Ae.solicitante.id===jt&&Ae.status==="ABERTO")||null,[e,jt]),Hr=reactExports.useMemo(()=>Je?HUBS.filter(Ae=>Ae.toLowerCase().includes(Je.toLowerCase())):HUBS,[Je]),Hn=reactExports.useMemo(()=>{const Ae=e.filter(nt=>nt.status!=="EXCLUIDO");return Nr==="requester"?Ae.filter(nt=>nt.solicitante.id===jt):Nr==="provider"?Ae.filter(nt=>nt.assignedTo===jt):Nr==="inProgress"?Ae.filter(nt=>["EM ANDAMENTO","AGUARDANDO_APROVACAO"].includes(nt.status)):Ae},[e,Nr,jt,Dt]),fn=reactExports.useMemo(()=>s.filter(Ae=>!Gt||Ae.routeId?.toLowerCase().includes(Gt.toLowerCase())),[s,Gt,Dt]);reactExports.useEffect(()=>{const Ae=document.documentElement.classList.contains("dark");tn(Ae?"dark":"light")},[]),reactExports.useEffect(()=>{const Ae=()=>{const xt=new Date(new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}));Ur(xt)};Ae();const nt=setInterval(Ae,1e3);return()=>clearInterval(nt)},[]);const Wn=()=>{const Ae=window.document.documentElement,nt=qe==="light"?"dark":"light";Ae.classList.remove("light","dark"),Ae.classList.add(nt),tn(nt),localStorage.setItem("theme",nt)};reactExports.useEffect(()=>{hr&&!f?(hn("availability"),p(!0)):!hr&&!f&&(hn("profile"),p(!0))},[hr,f]),reactExports.useEffect(()=>{if(t){Be(t.name||"");const nt=(t.phone||"").replace(/\D/g,"");Ue(nt);const xt=t.hub||"";M(xt),He(xt),ot(t.vehicleType||"")}},[t]),reactExports.useEffect(()=>{(async()=>{if(t?.shopeeId){lt(t.shopeeId);return}if(t?.uid){lt("Carregando...");const nt=collection(db,"motoristas_pre_aprovados"),xt=query(nt,or(where("uid","==",t.uid),where("googleUid","==",t.uid)));try{const zt=await getDocs(xt);zt.empty?lt("No encontrado"):lt(zt.docs[0].id)}catch{lt("Erro ao buscar")}}})()},[t?.uid,t?.shopeeId]);const Gn=()=>{const Ae=!kt;if(Mt(Ae),localStorage.setItem("notificationsMuted",String(Ae)),!Ae){const nt=new Audio("/shopee-ringtone.mp3");nt.volume=.3,nt.play().catch(()=>{})}toast.custom(nt=>jsxRuntimeExports.jsxs("div",{className:"flex w-full max-w-sm items-center gap-4 rounded-xl bg-slate-800/95 backdrop-blur-xl p-4 shadow-xl border border-orange-500/30 ring-1 ring-black/5",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-2 rounded-full",Ae?"bg-red-500/20 text-red-300 border border-red-400/30":"bg-green-500/20 text-green-300 border border-green-400/30"),children:Ae?jsxRuntimeExports.jsx(VolumeX,{size:20}):jsxRuntimeExports.jsx(Volume2,{size:20})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-white",children:Ae?"Silenciado":"Som Ativado"})}),jsxRuntimeExports.jsx("button",{onClick:()=>toast.dismiss(nt),className:"text-white/50 hover:text-white transition-colors",children:jsxRuntimeExports.jsx(X,{size:18})})]}))},qn=reactExports.useRef(Ae=>{});reactExports.useEffect(()=>{qn.current=Ae=>{if(!(t?.status!=="DISPONIVEL"||sessionNotifiedCallIds.has(Ae.id)||vt.current.has(Ae.id))&&(Ot(nt=>[...nt,Ae]),vt.current.add(Ae.id),sessionNotifiedCallIds.add(Ae.id),!kt)){const nt=new Audio("/shopee-ringtone.mp3");nt.volume=.5,nt.play().catch(()=>{})}}},[t?.status,kt]);const ss=Ae=>{Ot(nt=>nt.filter(xt=>xt.id!==Ae))};reactExports.useEffect(()=>{if(!jt)return;const Ae=query(collection(db,"motoristas_pre_aprovados")),nt=onSnapshot(Ae,St=>{const Lr=St.docs.map(ir=>({shopeeId:ir.id,...ir.data(),uid:ir.data().uid||ir.data().googleUid||ir.id}));a(Lr)}),xt=rr?new Date(rr):new Date(0);xt.setHours(0,0,0,0);const zt=nr?new Date(nr):new Date;zt.setHours(23,59,59,999);const sr=query(collection(db,"supportCalls"),and(or(where("solicitante.id","==",jt),where("assignedTo","==",jt)),where("timestamp",">=",Timestamp.fromDate(xt)),where("timestamp","<=",Timestamp.fromDate(zt))),orderBy("timestamp","desc")),qr=onSnapshot(sr,St=>{const Lr=St.docs.map(ir=>({id:ir.id,...ir.data()}));n(Lr)}),Rr=t?.hub,Ut=Rr?query(collection(db,"supportCalls"),where("status","==","ABERTO"),where("hub","==",Rr)):query(collection(db,"supportCalls"),where("status","==","ABERTO")),_r=onSnapshot(Ut,St=>{St.docChanges().forEach(ir=>{const mn={id:ir.doc.id,...ir.doc.data()},Qs=!Rr||mn.hub===Rr;mn.solicitante.id!==jt&&Qs&&(ir.type==="added"&&!Dr.current&&qn.current(mn),ir.type==="removed"&&sessionNotifiedCallIds.delete(mn.id))}),Dr.current=!1;const Lr=St.docs.map(ir=>({id:ir.id,...ir.data()}));i(Lr.filter(ir=>{const mn=!Rr||ir.hub===Rr;return ir.solicitante.id!==jt&&mn}))});return()=>{qr(),_r(),nt()}},[jt,rr,nr,t?.hub]);const jn=async(Ae,nt)=>{if(!Ae)throw new Error("ID do motorista no fornecido");if(Ae==="Carregando..."||Ae==="No encontrado"||Ae.includes("Erro"))throw new Error(`ID do motorista invlido: ${Ae}`);try{console.log("Tentando atualizar driver com ID:",Ae),console.log("Updates:",nt);const xt=doc(db,"motoristas_pre_aprovados",Ae);return await updateDoc(xt,nt),console.log("Driver atualizado com sucesso no Firebase!"),!0}catch(xt){throw console.error("Erro ao atualizar motorista:",xt),console.error("Detalhes do erro:",{code:xt.code,message:xt.message,driverId:Ae}),xt.code==="not-found"?new Error(`Motorista no encontrado no banco de dados. ID: ${Ae}`):xt.code==="permission-denied"?new Error("Voc no tem permisso para atualizar este perfil."):new Error(xt.message||"Erro ao salvar no banco de dados.")}},$t=async(Ae,nt)=>{await updateDoc(doc(db,"supportCalls",Ae),nt)},xs=async Ae=>{await addDoc(collection(db,"supportCalls"),{...Ae,timestamp:serverTimestamp()})},Rn=Ae=>{Ae(nt=>[...nt,""])},pn=(Ae,nt)=>{nt(xt=>xt.filter((zt,sr)=>sr!==Ae))},Vr=(Ae,nt,xt)=>{xt(zt=>{const sr=[...zt];return sr[Ae]=nt,sr})},xe=async Ae=>{if(!hr||!et)return showNotification("error","Perfil Incompleto","Verifique seus dados.");try{await jn(et,{status:Ae?"DISPONIVEL":"INDISPONIVEL"}),showNotification("success","Status Atualizado",`Voc est agora ${Ae?"Disponvel":"Indisponvel"}.`)}catch{showNotification("error","Erro","No foi possvel atualizar o status.")}},Le=async Ae=>{if(!hr||!jt||!et)return showNotification("error","Erro","Perfil incompleto.");if(t.status==="EM_ROTA")return showNotification("error","Ocupado","Voc j est em rota.");Kt(Ae);try{await $t(Ae,{assignedTo:jt,status:"EM ANDAMENTO"}),await jn(et,{status:"EM_ROTA"}),showNotification("success","Chamado Aceito","Voc est agora em rota.")}catch{showNotification("error","Erro","Falha ao aceitar.")}finally{Kt(null)}},tt=Ae=>{$t(Ae,{status:"AGUARDANDO_APROVACAO"}).then(()=>showNotification("success","Sucesso","Solicitado aprovao.")).catch(()=>showNotification("error","Erro","Falha na solicitao."))},Ke=async Ae=>{if(!(!jt||!et))try{await $t(Ae,{assignedTo:deleteField(),status:"ABERTO"}),await jn(et,{status:"DISPONIVEL"}),showNotification("success","Apoio Cancelado","Voc est agora disponvel novamente.")}catch{showNotification("error","Erro","No foi possvel cancelar o apoio.")}},ht=async Ae=>{await $t(Ae,{status:"EXCLUIDO",deletedAt:serverTimestamp()}),showNotification("success","Excludo","Solicitao removida.")},st=async()=>{if(!et||et==="Carregando..."||et==="No encontrado"||et.includes("Erro")){showNotification("error","Erro","ID do motorista no encontrado. Aguarde o carregamento ou recarregue a pgina.");return}if(!We||We.length<10||We.length>11){showNotification("error","Telefone","Use DDD + 8 ou 9 dgitos (ex: (41) 99999-9999).");return}if(!q||!q.trim()||!HUBS.includes(q)){showNotification("error","Hub","Selecione um Hub vlido.");return}if(!je||!je.trim()){showNotification("error","Nome","O nome  obrigatrio.");return}if(!Ze||!Ze.trim()){showNotification("error","Veculo","Selecione um tipo de veculo.");return}try{console.log("Salvando perfil com shopeeId:",et),console.log("Dados a salvar:",{name:je.trim(),phone:We,hub:q,vehicleType:Ze}),await jn(et,{name:je.trim(),phone:We,hub:q,vehicleType:Ze}),console.log("Perfil salvo com sucesso!"),await new Promise(Ae=>setTimeout(Ae,200)),showNotification("success","Perfil Atualizado","Suas alteraes foram salvas com sucesso!"),Nt(!1)}catch(Ae){console.error("Erro ao atualizar perfil:",Ae),showNotification("error","Erro ao Salvar",Ae.message||"No foi possvel salvar as alteraes. Tente novamente.")}},bt=()=>{if(pt!==yt){showNotification("error","Erro","Senhas no conferem.");return}if(pt.length<6){showNotification("error","Erro","Senha muito curta.");return}Ct(!0)},Et=async()=>{const Ae=auth.currentUser;if(!(!Ae||!Ae.email)){gr(!0);try{const nt=EmailAuthProvider.credential(Ae.email,It);await reauthenticateWithCredential(Ae,nt),await updatePassword(Ae,pt),showNotification("success","Sucesso","Senha alterada."),Ct(!1),Tt(""),_t(""),Yt("")}catch{er("Senha incorreta.")}finally{gr(!1)}}},lr=async Ae=>{const nt=Ae.target.files?.[0];if(!nt||!et)return;if(Lt(!0),t.avatar)try{await deleteObject(ref(storage,t.avatar))}catch{}const xt=ref(storage,`avatars/${et}/avatar.jpg`),zt=uploadBytesResumable(xt,nt);zt.on("state_changed",null,sr=>{Lt(!1),showNotification("error","Erro",sr.message)},()=>{getDownloadURL(zt.snapshot.ref).then(sr=>{jn(et,{avatar:sr}),Lt(!1),showNotification("success","Foto","Atualizada com sucesso.")})})},Wr=()=>{if(!navigator.geolocation){$("Geolocalizao no suportada.");return}P(!0),navigator.geolocation.getCurrentPosition(Ae=>{k(`http://maps.google.com/?q=${Ae.coords.latitude},${Ae.coords.longitude}`),P(!1)},()=>{$("Erro ao obter localizao."),P(!1)})},Gr=Ae=>{const nt=Ae.target.files?.[0];if(nt){if(nt.size>5*1024*1024){$("A imagem deve ter no mximo 5MB.");return}ie(nt);const xt=new FileReader;xt.onloadend=()=>{Pe(xt.result)},xt.readAsDataURL(nt)}},Kn=async Ae=>{Ae.preventDefault(),j(!0),$("");const nt=auth.currentUser;if(!nt||!t){j(!1);return}const xt=Number(V),zt=K.filter(Boolean),sr=Re.filter(Boolean);if(xt<20){$("Mnimo 20 pacotes."),j(!1);return}const qr=t?.hub;if(!qr){$("Complete seu perfil com o Hub antes de solicitar apoio."),j(!1);return}if(!_||!U||!Z||zt.length===0||sr.length===0){$("Preencha todos os campos."),j(!1);return}let Rr=null;if(W)try{Oe(!0);const _r=ref(storage,`cargo-photos/${nt.uid}/${Date.now()}_${W.name}`);await uploadBytesResumable(_r,W),Rr=await getDownloadURL(_r)}catch(_r){$("Erro ao fazer upload da foto: "+_r.message),j(!1),Oe(!1);return}finally{Oe(!1)}const Ut=`MOTIVO: ${U}. DETALHES: ${Z}. Hub: ${qr}. Loc: ${_}. Qtd: ${xt}. Regies: ${zt.join(", ")}. Veculos: ${sr.join(", ")}. ${z?"VOLUMOSO":""}`;try{const _r=Ut;let St="BAIXA";xt>=100?St="URGENTE":xt>=90?St="ALTA":xt>=60&&(St="MEDIA");const Lr=nt.uid||jt||t.uid;if(!Lr){$("Erro: ID do usurio no encontrado."),j(!1);return}const ir={routeId:`SPX-${Date.now().toString().slice(-6)}`,description:_r,urgency:St,location:_,status:"ABERTO",vehicleType:sr.join(", "),isBulky:z,hub:qr,packageCount:xt,deliveryRegions:zt,cargoPhotoUrl:Rr,solicitante:{id:Lr,name:t.name||"Motorista",avatar:t.avatar||null,initials:t.initials||t.name?.charAt(0).toUpperCase()||"M",phone:t.phone||"",shopeeId:t.shopeeId}};await xs(ir),x(!1),T(!0),ke([""]),G([""]),J(""),Y(""),L(""),ie(null),Pe(null)}catch(_r){$(_r.message)}finally{j(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoadingOverlay,{isLoading:A||tr,text:"Processando..."}),qt.map((Ae,nt)=>jsxRuntimeExports.jsx(RouteNotificationCard,{call:Ae,onClose:()=>ss(Ae.id),theme:qe,index:nt},Ae.id)),qt.map((Ae,nt)=>jsxRuntimeExports.jsx(RouteNotificationCard,{call:Ae,onClose:()=>ss(Ae.id),theme:qe,index:nt},Ae.id)),jsxRuntimeExports.jsxs("div",{className:cn$1("min-h-dvh font-sans pb-24 transition-colors duration-300",""),style:qe==="dark"?{background:"linear-gradient(135deg, #1a1a1a 0%, #2d1b1b 25%, #1a1a1a 50%, #2d1b1b 75%, #1a1a1a 100%)",backgroundSize:"400% 400%",animation:"gradientShift 15s ease infinite",minHeight:"100vh"}:{background:"linear-gradient(to bottom, #fff5f0 0%, #ffe8d6 5%, #ffd4b8 10%, #ffb88c 15%, #ffa366 20%, #ff8c42 25%, #ff7733 30%, #ff6622 35%, #ff5511 40%, #ff4400 45%, #ee3d00 50%, #dd3300 55%, #cc2a00 60%, #bb2200 65%, #aa1a00 70%, #991100 75%, #880900 80%, #770600 85%, #660400 90%, #550300 95%, #440200 100%)",backgroundAttachment:"fixed",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("header",{className:cn$1("sticky top-0 z-30 px-3 sm:px-4 md:px-6 py-3 sm:py-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 backdrop-blur-xl border-b border-border transition-all duration-300",qe==="light"?"bg-gradient-to-r from-orange-50/90 via-orange-100/80 to-orange-50/90":"bg-background/95"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center text-primary-foreground bg-primary shadow-lg flex-shrink-0",children:jsxRuntimeExports.jsx(ArrowRightLeft,{size:18,className:"sm:w-5 sm:h-5",strokeWidth:2.5})}),jsxRuntimeExports.jsx("h1",{className:cn$1("font-bold text-sm sm:text-base tracking-tight truncate",qe==="light"?"text-slate-800":"text-foreground"),children:"Sistema Logstico"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:Wn,className:"w-10 h-10 rounded-xl flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-accent transition-all","aria-label":"Alternar tema",children:qe==="light"?jsxRuntimeExports.jsx(Moon,{size:20}):jsxRuntimeExports.jsx(Sun,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>auth.signOut(),className:"w-10 h-10 rounded-xl flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-accent transition-all","aria-label":"Sair",children:jsxRuntimeExports.jsx(LogOut,{size:20})})]})]}),!hr&&dr&&jsxRuntimeExports.jsxs("div",{className:cn$1("mx-4 mt-4 p-4 rounded-2xl flex justify-between items-center border shadow-lg",qe==="dark"?"bg-orange-500/10 border-orange-500/30":"bg-orange-50/80 border-orange-200/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(TriangleAlert,{size:20,className:cn$1(qe==="dark"?"text-orange-400":"text-orange-600")}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:cn$1("font-bold text-sm",qe==="dark"?"text-orange-400":"text-orange-600"),children:"Ateno"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs",qe==="dark"?"text-slate-300":"text-slate-600"),children:"Complete seu perfil para operar."})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Nt(!1),className:"w-8 h-8 rounded-lg flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-accent transition-all",children:jsxRuntimeExports.jsx(X,{size:16})})]}),jsxRuntimeExports.jsxs("main",{className:cn$1("p-4 sm:p-6 max-w-lg lg:max-w-4xl xl:max-w-6xl mx-auto space-y-6",qe==="dark"?"bg-transparent":""),children:[Pt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:jsxRuntimeExports.jsx(Loading,{size:"lg",variant:"spinner",text:"Enviando imagem..."})}),jsxRuntimeExports.jsx(ProfileHeaderCard,{driver:t,isUploading:Pt,onEditClick:()=>Xt.current?.click(),activeCall:bn,theme:qe,currentDateTime:zr}),jsxRuntimeExports.jsx("input",{type:"file",ref:Xt,onChange:lr,className:"hidden",accept:"image/*"}),t?.hub&&jsxRuntimeExports.jsx("div",{className:"px-4 sm:px-6",children:jsxRuntimeExports.jsx(WeatherForecast,{hub:t.hub})}),jsxRuntimeExports.jsx("div",{className:cn$1("p-1.5 rounded-2xl flex justify-between overflow-x-auto scrollbar-hide border shadow-lg transition-all duration-300 backdrop-blur-xl",qe==="light"?"bg-white/80 border-orange-200/50":"bg-slate-800/90 border-orange-500/30"),children:_n.map(Ae=>jsxRuntimeExports.jsxs("button",{onClick:()=>hn(Ae.id),className:cn$1("flex-1 flex flex-col items-center py-3 px-2 rounded-xl text-[10px] sm:text-xs uppercase font-bold tracking-wide min-w-[60px] sm:min-w-[80px] transition-all duration-300 ease-in-out",Mr===Ae.id?"text-white bg-primary shadow-lg scale-105":qe==="light"?"text-slate-700 hover:text-slate-900 hover:bg-white/80":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[jsxRuntimeExports.jsx("div",{className:"transition-transform duration-300",children:React.cloneElement(Ae.icon,{size:20,className:cn$1("mb-1 transition-all duration-300",Mr===Ae.id&&"scale-110")})}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:Ae.label}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:Ae.label.split(" ")[0]})]},Ae.id))}),jsxRuntimeExports.jsxs("div",{className:"min-h-[400px]",children:[Mr==="availability"&&jsxRuntimeExports.jsx("div",{className:"tab-content-enter",children:hr?jsxRuntimeExports.jsx(StatusSection,{driver:t,onAvailabilityChange:xe,filteredOpenCalls:fn,routeIdSearch:Gt,onRouteIdSearchChange:ct,acceptingCallId:Vt,onAcceptCall:Le,theme:qe}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-16 h-16 backdrop-blur-xl rounded-full flex items-center justify-center text-orange-500 mb-2 border shadow-xl",qe==="dark"?"bg-orange-500/20 border-orange-500/30 shadow-black/20":"bg-orange-50 border-orange-200/50 shadow-black/5"),children:jsxRuntimeExports.jsx(TriangleAlert,{size:32})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 max-w-xs",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-xl font-bold",qe==="dark"?"text-white":"text-slate-800"),children:"Perfil Incompleto"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",qe==="dark"?"text-white/70":"text-slate-600"),children:'Complete seu perfil na aba "Perfil" para aceitar chamados.'})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>hn("profile"),className:"mt-4 bg-primary hover:bg-primary/90 font-bold shadow-xl shadow-primary/30 rounded-xl text-primary-foreground",children:"IR PARA PERFIL"})]})}),Mr==="support"&&jsxRuntimeExports.jsx("div",{className:"tab-content-enter flex flex-col items-center justify-center py-8 space-y-6",children:hr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-20 h-20 backdrop-blur-xl rounded-full flex items-center justify-center text-primary mb-2 border shadow-xl",qe==="dark"?"bg-primary/20 border-orange-500/30 shadow-black/20":"bg-primary/20 border-orange-200/50 shadow-black/5"),children:jsxRuntimeExports.jsx(TriangleAlert,{size:40})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 max-w-xs",children:[jsxRuntimeExports.jsx("h2",{className:cn$1("text-2xl font-bold",qe==="dark"?"text-white":"text-slate-800"),children:"Precisa de Apoio?"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",qe==="dark"?"text-white/70":"text-slate-600"),children:"Solicite ajuda para transferir pacotes em caso de imprevistos. Mnimo de 20 pacotes."})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{$(""),x(!0)},className:"w-full max-w-sm h-14 text-lg bg-primary hover:bg-primary/90 font-bold shadow-xl shadow-primary/30 rounded-xl text-primary-foreground",children:"SOLICITAR SOCORRO"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-20 h-20 backdrop-blur-xl rounded-full flex items-center justify-center text-orange-500 mb-2 border shadow-xl",qe==="dark"?"bg-orange-500/20 border-orange-500/30 shadow-black/20":"bg-orange-50 border-orange-200/50 shadow-black/5"),children:jsxRuntimeExports.jsx(TriangleAlert,{size:40})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 max-w-xs",children:[jsxRuntimeExports.jsx("h2",{className:cn$1("text-2xl font-bold",qe==="dark"?"text-white":"text-slate-800"),children:"Perfil Incompleto"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",qe==="dark"?"text-white/70":"text-slate-600"),children:'Complete seu perfil na aba "Perfil" antes de solicitar apoio.'})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>hn("profile"),className:"w-full max-w-sm h-14 text-lg bg-primary hover:bg-primary/90 font-bold shadow-xl shadow-primary/30 rounded-xl text-primary-foreground",children:"IR PARA PERFIL"})]})}),Mr==="activeCalls"&&jsxRuntimeExports.jsxs("div",{className:"tab-content-enter space-y-4",children:[!hr&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-16 h-16 backdrop-blur-xl rounded-full flex items-center justify-center text-orange-500 mb-2 border shadow-xl",qe==="dark"?"bg-orange-500/20 border-orange-500/30 shadow-black/20":"bg-orange-50 border-orange-200/50 shadow-black/5"),children:jsxRuntimeExports.jsx(TriangleAlert,{size:32})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 max-w-xs",children:[jsxRuntimeExports.jsx("h3",{className:cn$1("text-xl font-bold",qe==="dark"?"text-white":"text-slate-800"),children:"Perfil Incompleto"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",qe==="dark"?"text-white/70":"text-slate-600"),children:'Complete seu perfil na aba "Perfil" para visualizar chamados.'})]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>hn("profile"),className:"mt-4 bg-primary hover:bg-primary/90 font-bold shadow-xl shadow-primary/30 rounded-xl text-primary-foreground",children:"IR PARA PERFIL"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","inProgress","requester","provider"].map(Ae=>jsxRuntimeExports.jsx("button",{onClick:()=>vr(Ae),className:cn$1("px-4 py-2 rounded-xl text-xs font-bold border whitespace-nowrap backdrop-blur-xl shadow-lg transition-all duration-300 ease-in-out",Nr===Ae?qe==="dark"?"bg-slate-700/90 text-white border-orange-500/30 shadow-xl transform scale-105":"bg-white/80 text-slate-800 border-orange-200/50 shadow-xl transform scale-105":qe==="dark"?"bg-slate-800/90 text-slate-300 border-orange-500/30 hover:bg-slate-700/90 hover:text-white hover:scale-102":"bg-white/60 text-slate-600 border-orange-200/50 hover:bg-white/80 hover:text-slate-800 hover:scale-102"),children:Ae==="all"?"Todos":Ae==="inProgress"?"Em Andamento":Ae==="requester"?"Meus Pedidos":"Meus Apoios"},Ae))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap items-center",children:[jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn$1("h-8 text-xs font-normal justify-start text-left w-[130px] backdrop-blur-xl rounded-xl shadow-lg transition-all duration-300 ease-in-out hover:scale-105",qe==="dark"?"bg-orange-500/20 border-orange-500/30 text-white hover:bg-orange-500/30 shadow-black/10":"bg-white/80 border-orange-200/50 text-slate-800 hover:bg-white shadow-black/5",!rr&&(qe==="dark"?"text-white/50":"text-slate-500")),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-3 w-3 transition-transform duration-300 group-hover:rotate-12"}),rr?format(rr,"dd/MM/yy",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Incio"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:cn$1("w-auto p-0 backdrop-blur-xl rounded-2xl shadow-xl",qe==="dark"?"bg-slate-800/95 border-orange-500/30 shadow-black/30":"bg-white border-orange-200/50 shadow-black/10"),align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:rr,onSelect:rn,initialFocus:!0})})]}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn$1("h-8 text-xs font-normal justify-start text-left w-[130px] backdrop-blur-xl rounded-xl shadow-lg transition-all duration-300 ease-in-out hover:scale-105",qe==="dark"?"bg-orange-500/20 border-orange-500/30 text-white hover:bg-orange-500/30 shadow-black/10":"bg-white/80 border-orange-200/50 text-slate-800 hover:bg-white shadow-black/5",!nr&&(qe==="dark"?"text-white/50":"text-slate-500")),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-3 w-3 transition-transform duration-300 group-hover:rotate-12"}),nr?format(nr,"dd/MM/yy",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Fim"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:cn$1("w-auto p-0 backdrop-blur-xl rounded-2xl shadow-xl",qe==="dark"?"bg-slate-800/95 border-orange-500/30 shadow-black/30":"bg-white border-orange-200/50 shadow-black/10"),align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:nr,onSelect:Ft,initialFocus:!0})})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Hn.length>0?Hn.map(Ae=>jsxRuntimeExports.jsx(DriverCallHistoryCard,{call:Ae,userId:jt,allDrivers:o,driver:t,onRequestApproval:tt,onCancelSupport:Ke,onDeleteSupportRequest:ht},Ae.id)):jsxRuntimeExports.jsxs("div",{className:cn$1("text-center py-12 opacity-50 backdrop-blur-xl rounded-2xl border border-dashed shadow-xl",qe==="dark"?"bg-slate-800/90 border-orange-500/30 shadow-black/20":"bg-white/80 border-orange-200/50 shadow-black/5"),children:[jsxRuntimeExports.jsx(History,{size:48,className:cn$1("mx-auto mb-2",qe==="dark"?"text-white/30":"text-slate-400")}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm",qe==="dark"?"text-white/60":"text-slate-600"),children:"Sem histrico."})]})})]}),Mr==="tutorial"&&jsxRuntimeExports.jsx("div",{className:"tab-content-enter space-y-6 pb-10",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"solicitante",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:cn$1("grid w-full grid-cols-2 backdrop-blur-xl p-1 rounded-xl h-10 mb-4 border shadow-xl",qe==="dark"?"bg-slate-800/90 border-orange-500/30 shadow-black/20":"bg-white/80 border-orange-200/50 shadow-black/5"),children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"solicitante",className:cn$1("text-xs rounded-lg",qe==="dark"?"text-slate-300 data-[state=active]:text-white data-[state=active]:bg-slate-700/90":"text-slate-600 data-[state=active]:text-slate-800 data-[state=active]:bg-white"),children:"Solicitante"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"prestador",className:cn$1("text-xs rounded-lg",qe==="dark"?"text-slate-300 data-[state=active]:text-white data-[state=active]:bg-slate-700/90":"text-slate-600 data-[state=active]:text-slate-800 data-[state=active]:bg-white"),children:"Prestador"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"solicitante",className:"space-y-3",children:TUTORIALS_SOLICITANTE.map(Ae=>jsxRuntimeExports.jsxs("div",{className:cn$1("backdrop-blur-xl rounded-2xl p-4 border shadow-xl",qe==="dark"?"bg-slate-800/90 border-orange-500/30 shadow-black/20":"bg-white/80 border-orange-200/50 shadow-black/5"),children:[jsxRuntimeExports.jsxs("h4",{className:cn$1("font-bold text-sm mb-2 flex gap-2 items-center",qe==="dark"?"text-white":"text-slate-800"),children:[jsxRuntimeExports.jsx(CircleHelp,{size:16,className:"text-primary"})," ",Ae.question]}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs",qe==="dark"?"text-white/70":"text-slate-600"),children:Ae.answer})]},Ae.id))}),jsxRuntimeExports.jsx(TabsContent,{value:"prestador",className:"space-y-3",children:TUTORIALS_PRESTADOR.map(Ae=>jsxRuntimeExports.jsxs("div",{className:cn$1("backdrop-blur-xl rounded-2xl p-4 border shadow-xl",qe==="dark"?"bg-slate-800/90 border-orange-500/30 shadow-black/20":"bg-white/80 border-orange-200/50 shadow-black/5"),children:[jsxRuntimeExports.jsxs("h4",{className:cn$1("font-bold text-sm mb-2 flex gap-2 items-center",qe==="dark"?"text-white":"text-slate-800"),children:[jsxRuntimeExports.jsx(CircleHelp,{size:16,className:"text-primary"})," ",Ae.question]}),jsxRuntimeExports.jsx("p",{className:cn$1("text-xs",qe==="dark"?"text-white/70":"text-slate-600"),children:Ae.answer})]},Ae.id))})]})}),Mr==="profile"&&jsxRuntimeExports.jsxs("div",{className:"tab-content-enter space-y-6 pb-10",children:[jsxRuntimeExports.jsxs("section",{className:cn$1("rounded-[1.5rem] p-6 border-2 backdrop-blur-xl",qe==="dark"?"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 border-orange-500/40":"bg-white/95 border-orange-300/60"),style:qe==="dark"?{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.3), 0 0 0 1px rgba(238, 77, 45, 0.1), inset 0 1px 0 0 rgba(255, 255, 255, 0.05)"}:{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.15), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsxs("h4",{className:cn$1("text-sm font-bold uppercase mb-5 tracking-wider flex items-center gap-2",qe==="dark"?"text-orange-400":"text-orange-600"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-1 h-5 rounded-full","bg-orange-500")}),"Configuraes"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn$1("p-4 rounded-xl border-2 transition-all",kt?qe==="dark"?"text-slate-400 bg-slate-800/60 border-slate-700/50":"text-slate-500 bg-slate-100 border-slate-300":qe==="dark"?"text-orange-400 bg-orange-500/20 border-orange-500/50 shadow-lg shadow-orange-500/20":"text-orange-600 bg-orange-50 border-orange-300 shadow-lg shadow-orange-200/50"),children:kt?jsxRuntimeExports.jsx(VolumeX,{size:24}):jsxRuntimeExports.jsx(Volume2,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:cn$1("font-bold text-base",qe==="dark"?"text-white":"text-slate-900"),children:"Sons de Alerta"}),jsxRuntimeExports.jsx("p",{className:cn$1("text-sm font-medium",qe==="dark"?"text-slate-400":"text-slate-600"),children:kt?"Silenciado":"Ativado"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Gn,className:cn$1("px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-lg hover:scale-105",qe==="dark"?"text-white bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 border border-orange-400/30":"text-white bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700"),style:{boxShadow:qe==="dark"?"0 4px 15px rgba(238, 77, 45, 0.4)":"0 4px 15px rgba(238, 77, 45, 0.3)"},children:"Alterar"})]})]}),jsxRuntimeExports.jsxs("section",{className:cn$1("rounded-[1.5rem] p-6 space-y-5 border-2 backdrop-blur-xl",qe==="dark"?"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 border-orange-500/40":"bg-white/95 border-orange-300/60"),style:qe==="dark"?{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.3), 0 0 0 1px rgba(238, 77, 45, 0.1), inset 0 1px 0 0 rgba(255, 255, 255, 0.05)"}:{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.15), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsxs("h4",{className:cn$1("text-sm font-bold uppercase mb-5 tracking-wider flex items-center gap-2",qe==="dark"?"text-orange-400":"text-orange-600"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-1 h-5 rounded-full","bg-orange-500")}),"Meus Dados"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:cn$1("text-xs font-bold uppercase tracking-wide",qe==="dark"?"text-orange-300":"text-orange-700"),children:"ID Motorista"}),jsxRuntimeExports.jsxs("div",{className:cn$1("p-4 rounded-xl text-sm font-mono flex justify-between items-center border-2 transition-all",qe==="dark"?"bg-slate-800/60 border-orange-500/40 text-orange-300 shadow-lg shadow-orange-500/10":"bg-orange-50/80 border-orange-300/60 text-orange-900 shadow-md"),children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:et}),jsxRuntimeExports.jsx(Lock,{size:16,className:qe==="dark"?"text-orange-400":"text-orange-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:cn$1("text-xs font-bold uppercase tracking-wide",qe==="dark"?"text-orange-300":"text-orange-700"),children:"Hub"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Je||"",onChange:Ae=>{const nt=Ae.target.value;q&&nt.length>0&&nt!==q&&M(""),He(nt),at(!0)},onFocus:Ae=>{at(!0),q&&(M(""),He(""),setTimeout(()=>{Ae.currentTarget.value=""},0))},onKeyDown:Ae=>{q&&Ae.key.length===1&&!Ae.ctrlKey&&!Ae.metaKey&&!Ae.altKey&&(M(""),He(""),Ae.currentTarget.value="")},onClick:()=>{at(!0)},onBlur:Ae=>{setTimeout(()=>{(!Ae.relatedTarget||!Ae.relatedTarget.closest(".hub-dropdown"))&&(at(!1),!q&&Je?He(""):q&&Je!==q&&He(q))},200)},className:cn$1("w-full p-4 rounded-xl text-sm font-medium border-2 focus:ring-2 focus:ring-orange-500/50 outline-none transition-all",qe==="dark"?"bg-slate-800/60 border-orange-500/40 text-white placeholder:text-slate-500 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-500/20":"bg-white border-orange-300/60 text-slate-900 placeholder:text-slate-400 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-200/50"),placeholder:"Selecione ou pesquise um Hub..."}),Ge&&jsxRuntimeExports.jsx("div",{className:"hub-dropdown absolute z-50 w-full mt-2 rounded-xl max-h-60 overflow-y-auto backdrop-blur-xl",style:{background:qe==="dark"?"rgba(30, 41, 59, 0.98)":"rgba(255, 255, 255, 0.98)",border:qe==="dark"?"1px solid rgba(71, 85, 105, 0.4)":"1px solid rgba(254, 131, 48, 0.3)",boxShadow:qe==="dark"?"0 20px 40px -10px rgba(0, 0, 0, 0.5)":"0 20px 40px -10px rgba(0, 0, 0, 0.2)"},children:Hr.length>0?Hr.map(Ae=>jsxRuntimeExports.jsx("div",{className:cn$1("p-3 cursor-pointer text-sm transition-colors first:rounded-t-xl last:rounded-b-xl",qe==="dark"?"text-slate-300 hover:bg-slate-700/90 hover:text-white":"text-slate-700 hover:bg-orange-50 hover:text-orange-700",q===Ae&&(qe==="dark"?"bg-orange-500/20 text-orange-300":"bg-orange-100 text-orange-700")),onMouseDown:nt=>{nt.preventDefault(),M(Ae),He(Ae),at(!1)},children:Ae},Ae)):jsxRuntimeExports.jsx("div",{className:cn$1("p-3 text-sm text-center",qe==="dark"?"text-slate-400":"text-slate-500"),children:"Nenhum hub encontrado"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:cn$1("text-xs font-bold uppercase tracking-wide",qe==="dark"?"text-orange-300":"text-orange-700"),children:"Veculo"}),jsxRuntimeExports.jsx("select",{value:Ze,onChange:Ae=>ot(Ae.target.value),className:cn$1("w-full p-4 rounded-xl text-sm font-medium capitalize focus:ring-2 focus:ring-orange-500/50 outline-none transition-all appearance-none cursor-pointer border-2",qe==="dark"?"bg-slate-800/60 border-orange-500/40 text-white focus:border-orange-500 focus:shadow-lg focus:shadow-orange-500/20":"bg-white border-orange-300/60 text-slate-900 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-200/50"),children:VEHICLE_TYPES.map(Ae=>jsxRuntimeExports.jsx("option",{value:Ae,className:qe==="dark"?"bg-slate-800":"bg-white",children:Ae},Ae))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:cn$1("text-xs font-bold uppercase tracking-wide",qe==="dark"?"text-orange-300":"text-orange-700"),children:"Nome"}),jsxRuntimeExports.jsx("input",{value:je,onChange:Ae=>Be(Ae.target.value),className:cn$1("w-full p-4 rounded-xl text-sm border focus:ring-2 focus:ring-orange-500/50 outline-none transition-all",qe==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500")})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:cn$1("text-xs font-bold uppercase tracking-wide",qe==="dark"?"text-orange-300":"text-orange-700"),children:"Telefone"}),jsxRuntimeExports.jsx("input",{value:formatPhoneNumber(We),onChange:Ae=>{const nt=Ae.target.value.replace(/\D/g,"").slice(0,11);Ue(nt)},className:cn$1("w-full p-4 rounded-xl text-sm border focus:ring-2 focus:ring-orange-500/50 outline-none transition-all",qe==="dark"?"bg-orange-500/20 border-orange-500/30 text-white placeholder:text-slate-400":"bg-white border-orange-200/50 text-slate-800 placeholder:text-slate-500")})]}),jsxRuntimeExports.jsx("button",{onClick:st,className:"w-full py-4 mt-4 rounded-xl text-white font-bold text-base transition-all hover:scale-[1.02] active:scale-[0.98] shadow-xl",style:{background:"linear-gradient(135deg, #EE4D2D 0%, #FF6B35 50%, #EE4D2D 100%)",backgroundSize:"200% 200%",boxShadow:qe==="dark"?"0 8px 25px rgba(238, 77, 45, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)":"0 8px 25px rgba(238, 77, 45, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},onMouseEnter:Ae=>{Ae.currentTarget.style.backgroundPosition="100% 0"},onMouseLeave:Ae=>{Ae.currentTarget.style.backgroundPosition="0% 0"},children:"Salvar Alteraes"})]}),jsxRuntimeExports.jsxs("section",{className:cn$1("rounded-[1.5rem] p-6 space-y-5 border-2 backdrop-blur-xl",qe==="dark"?"bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 border-orange-500/40":"bg-white/95 border-orange-300/60"),style:qe==="dark"?{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.3), 0 0 0 1px rgba(238, 77, 45, 0.1), inset 0 1px 0 0 rgba(255, 255, 255, 0.05)"}:{boxShadow:"0 20px 40px -10px rgba(238, 77, 45, 0.15), 0 0 0 1px rgba(238, 77, 45, 0.1)"},children:[jsxRuntimeExports.jsxs("h4",{className:cn$1("text-sm font-bold uppercase mb-5 tracking-wider flex items-center gap-2",qe==="dark"?"text-orange-400":"text-orange-600"),children:[jsxRuntimeExports.jsx("div",{className:cn$1("w-1 h-5 rounded-full","bg-orange-500")}),"Segurana"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:c?"text":"password",value:pt,onChange:Ae=>Tt(Ae.target.value),placeholder:"Nova Senha",className:cn$1("w-full p-4 rounded-xl text-sm border-2 focus:ring-2 focus:ring-orange-500/50 outline-none transition-all",qe==="dark"?"bg-slate-800/60 border-orange-500/40 text-white placeholder:text-slate-500 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-500/20":"bg-white border-orange-300/60 text-slate-900 placeholder:text-slate-400 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-200/50")}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>u(!c),className:cn$1("absolute right-4 top-4 transition-colors p-1 rounded-lg hover:bg-orange-500/10",qe==="dark"?"text-orange-400 hover:text-orange-300":"text-orange-600 hover:text-orange-700"),children:c?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:c?"text":"password",value:yt,onChange:Ae=>_t(Ae.target.value),placeholder:"Confirmar Nova Senha",className:cn$1("w-full p-4 rounded-xl text-sm border-2 focus:ring-2 focus:ring-orange-500/50 outline-none transition-all",qe==="dark"?"bg-slate-800/60 border-orange-500/40 text-white placeholder:text-slate-500 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-500/20":"bg-white border-orange-300/60 text-slate-900 placeholder:text-slate-400 focus:border-orange-500 focus:shadow-lg focus:shadow-orange-200/50")}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>u(!c),className:cn$1("absolute right-4 top-4 transition-colors p-1 rounded-lg hover:bg-orange-500/10",qe==="dark"?"text-orange-400 hover:text-orange-300":"text-orange-600 hover:text-orange-700"),children:c?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),jsxRuntimeExports.jsx("button",{onClick:bt,className:cn$1("w-full py-4 rounded-xl text-base font-bold transition-all hover:scale-[1.02] active:scale-[0.98] shadow-lg border-2",qe==="dark"?"bg-gradient-to-r from-slate-800 to-slate-700 border-orange-500/40 text-white hover:from-slate-700 hover:to-slate-600":"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-300/60 text-orange-900 hover:from-orange-100 hover:to-orange-200"),style:{boxShadow:qe==="dark"?"0 4px 15px rgba(238, 77, 45, 0.3)":"0 4px 15px rgba(238, 77, 45, 0.2)"},children:"Atualizar Senha"})]})]})]})]}),m&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:()=>x(!1)}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-lg bg-slate-800/95 backdrop-blur-2xl h-[90vh] sm:h-auto rounded-t-3xl sm:rounded-3xl shadow-2xl shadow-black/40 border border-orange-500/30 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-orange-500/30 flex justify-between items-center bg-slate-800/90 backdrop-blur-xl",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-white",children:"Nova Solicitao"}),jsxRuntimeExports.jsx("button",{onClick:()=>x(!1),className:"p-2 bg-slate-700/90 hover:bg-slate-600/90 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{size:18,className:"text-white"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4",children:jsxRuntimeExports.jsxs("form",{id:"supportForm",onSubmit:Kn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 block",children:"Motivo"}),jsxRuntimeExports.jsxs("select",{value:U,onChange:Ae=>J(Ae.target.value),className:"w-full p-3 bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl text-sm text-white focus:ring-2 focus:ring-primary outline-none shadow-lg shadow-black/10",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",className:"bg-slate-800",children:"Selecione..."}),SUPPORT_REASONS.map(Ae=>jsxRuntimeExports.jsx("option",{value:Ae,className:"bg-slate-800",children:Ae},Ae))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 block",children:"Detalhes"}),jsxRuntimeExports.jsx("textarea",{value:Z,onChange:Ae=>Y(Ae.target.value),maxLength:100,className:"w-full p-3 bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl text-sm h-24 resize-none text-white placeholder:text-white/50 focus:ring-2 focus:ring-primary outline-none shadow-lg shadow-black/10",placeholder:"Descreva brevemente...",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 block",children:"Pacotes"}),jsxRuntimeExports.jsx("input",{type:"number",min:"20",value:V,onChange:Ae=>L(Ae.target.value),className:"w-full p-3 bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl text-sm font-bold text-white placeholder:text-white/50 focus:ring-2 focus:ring-[#FA4F26] outline-none shadow-lg shadow-black/10",placeholder:"Mn 20",required:!0})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl shadow-lg shadow-black/10",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 w-full justify-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-white/80",children:"Volumoso?"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:z,onChange:Ae=>ee(Ae.target.checked),className:"accent-[#FA4F26] w-5 h-5"})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 flex justify-between",children:["Regies",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Rn(ke),className:"text-primary hover:text-primary/80 transition-colors",children:jsxRuntimeExports.jsx(CirclePlus,{size:14})})]}),K.map((Ae,nt)=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{value:Ae,onChange:xt=>Vr(nt,xt.target.value,ke),className:"flex-1 p-2 bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl text-sm text-white placeholder:text-white/50 focus:ring-2 focus:ring-[#FA4F26] outline-none shadow-lg shadow-black/10",placeholder:"Ex: Zona Norte"}),nt>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pn(nt,ke),className:"text-red-300 hover:text-red-200 transition-colors",children:jsxRuntimeExports.jsx(CircleMinus,{size:18})})]},nt))]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 flex justify-between",children:["Veculos Necessrios",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Rn(G),className:"text-primary hover:text-primary/80 transition-colors",children:jsxRuntimeExports.jsx(CirclePlus,{size:14})})]}),Re.map((Ae,nt)=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsxs("select",{value:Ae,onChange:xt=>Vr(nt,xt.target.value,G),className:"flex-1 p-2 bg-orange-500/20 backdrop-blur-xl border border-orange-500/30 rounded-xl text-sm capitalize text-white focus:ring-2 focus:ring-[#FA4F26] outline-none shadow-lg shadow-black/10",children:[jsxRuntimeExports.jsx("option",{value:"",className:"bg-slate-800",children:"Selecione..."}),VEHICLE_TYPES.map(xt=>jsxRuntimeExports.jsx("option",{value:xt,className:"bg-slate-800",children:xt},xt))]}),nt>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pn(nt,G),className:"text-red-300 hover:text-red-200 transition-colors",children:jsxRuntimeExports.jsx(CircleMinus,{size:18})})]},nt))]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-white/70 uppercase mb-1 block",children:"Localizao"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{value:_,onChange:Ae=>k(Ae.target.value),className:"flex-1 p-3 bg-orange-500/20 backdrop-blur-xl border border-orange-500/30 rounded-xl text-sm text-white placeholder:text-white/50 focus:ring-2 focus:ring-[#FA4F26] outline-none shadow-lg shadow-black/10",placeholder:"Link do Maps ou endereo",required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Wr,className:"p-3 bg-blue-500/20 text-blue-300 rounded-xl border border-blue-400/30 hover:bg-blue-500/30 transition-colors shadow-lg shadow-black/10",children:I?jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}):jsxRuntimeExports.jsx(Navigation$1,{size:20})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-bold text-white/70 uppercase mb-2 block flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$2,{size:16,className:"text-primary"}),"Foto da Carga",jsxRuntimeExports.jsx("span",{className:"text-[10px] text-white/50 normal-case font-normal",children:"(Opcional - Mx. 5MB)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[se?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:se,alt:"Preview da carga",className:"w-full h-48 object-cover rounded-xl border-2 border-primary/50 shadow-lg"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{ie(null),Pe(null)},className:"absolute top-2 right-2 p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",children:jsxRuntimeExports.jsx(X,{size:16})})]}):jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-primary/50 rounded-xl cursor-pointer bg-primary/10 hover:bg-primary/20 transition-colors group",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Image$2,{size:32,className:"text-primary mb-2 group-hover:scale-110 transition-transform"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Clique para adicionar foto"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/70",children:"JPG, PNG ou GIF (mx. 5MB)"})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Gr,className:"hidden",disabled:Ne})]}),Ne&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/70 text-sm",children:[jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}),jsxRuntimeExports.jsx("span",{children:"Enviando foto..."})]})]})]}),O&&jsxRuntimeExports.jsx("p",{className:"text-red-300 text-xs font-bold text-center bg-red-500/20 backdrop-blur-xl p-2 rounded-xl border border-red-400/30",children:O})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-slate-600/50 bg-slate-800/90 backdrop-blur-xl",children:jsxRuntimeExports.jsx(Button$1,{form:"supportForm",type:"submit",disabled:A,className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-bold text-lg shadow-xl shadow-primary/30 rounded-xl",children:A?jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}):"ENVIAR SOLICITAO"})})]})]}),Jt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-slate-900/90 backdrop-blur-sm animate-in fade-in",children:jsxRuntimeExports.jsxs("div",{className:"bg-slate-800/95 backdrop-blur-2xl rounded-3xl p-6 w-full max-w-sm shadow-2xl shadow-black/40 border border-orange-500/30",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-4 text-white",children:"Confirme sua senha atual"}),jsxRuntimeExports.jsx("input",{type:"password",value:It,onChange:Ae=>Yt(Ae.target.value),className:"w-full p-3 bg-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl mb-2 text-white placeholder:text-white/50 focus:ring-2 focus:ring-[#FA4F26] outline-none shadow-lg shadow-black/10",placeholder:"Senha atual"}),Zt&&jsxRuntimeExports.jsx("p",{className:"text-red-300 text-xs mb-2",children:Zt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>Ct(!1),className:"flex-1 border-slate-600/50 text-white hover:bg-slate-700/90 hover:text-white backdrop-blur-xl rounded-xl",children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:Et,disabled:tr,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl shadow-lg shadow-primary/30",children:tr?jsxRuntimeExports.jsx(Loading,{size:"sm",variant:"spinner"}):"Confirmar"})]})]})}),E&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-slate-900/90 backdrop-blur-sm animate-in fade-in",children:jsxRuntimeExports.jsxs("div",{className:"bg-slate-800/95 backdrop-blur-2xl rounded-3xl p-8 text-center max-w-sm w-full shadow-2xl shadow-black/40 border border-orange-500/30",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-green-500/20 text-green-300 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-400/30 shadow-xl shadow-black/20",children:jsxRuntimeExports.jsx(CircleCheckBig,{size:40})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Recebido!"}),jsxRuntimeExports.jsx("p",{className:"text-white/70 mb-6",children:"Sua solicitao est visvel no painel. Aguarde um monitor aceitar."}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>T(!1),className:"w-full bg-[#FA4F26] hover:bg-[#EE4D2D] text-white h-12 font-bold rounded-xl shadow-xl shadow-orange-500/30",children:"Entendido"})]})})]}),jsxRuntimeExports.jsx(Chatbot,{})]})]})},VerifyEmailPage=({user:t})=>{const[e,n]=reactExports.useState(!1),[s,i]=reactExports.useState(""),[o,a]=reactExports.useState(0),[c,u]=reactExports.useState(!1);reactExports.useEffect(()=>{let m;return o>0&&(m=setTimeout(()=>a(o-1),1e3)),()=>clearTimeout(m)},[o]);const f=async()=>{if(!(!t||o>0)){n(!0),i("");try{await sendEmailVerification(t),i("Um novo e-mail de verificao foi enviado!"),a(30)}catch(m){console.error("Erro ao reenviar e-mail de verificao:",m)}finally{n(!1)}}},p=async()=>{u(!0);try{await signOut(auth),window.location.reload()}catch(m){console.error("Erro ao sair:",m),u(!1)}};return jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-cover bg-center flex items-center justify-center p-4",style:{backgroundImage:"url(/SP3.jpg)"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-lg shadow-md p-8 text-center",children:[jsxRuntimeExports.jsx("img",{src:spxLogo,alt:"SPX Logo",className:"w-24 mx-auto mb-6"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Confirme seu E-mail"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 mb-6",children:["Enviamos um link de confirmao para o seu e-mail: ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{className:"text-gray-800",children:t.email})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Por favor, clique no link para ativar sua conta. Aps a confirmao, recarregue esta pgina para acessar o painel."}),s&&jsxRuntimeExports.jsx("p",{className:"text-green-600 mb-4",children:s}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:f,disabled:e||o>0,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 disabled:bg-orange-400 disabled:cursor-not-allowed transition-colors",children:e?"Enviando...":o>0?`Aguarde ${o}s para reenviar`:"Reenviar E-mail de Confirmao"}),jsxRuntimeExports.jsx("button",{onClick:p,disabled:c,className:"w-full py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:bg-gray-200 disabled:cursor-not-allowed",children:c?"Saindo...":"Sair"})]})]})]})},LogOutIcon=t=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[jsxRuntimeExports.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),jsxRuntimeExports.jsx("polyline",{points:"16 17 21 12 16 7"}),jsxRuntimeExports.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]});function App(){const[t,e]=reactExports.useState(null),[n,s]=reactExports.useState(null),[i,o]=reactExports.useState(!0),[a,c]=reactExports.useState(!1),[u,f]=reactExports.useState([]),[p,m]=reactExports.useState([]);reactExports.useEffect(()=>{const I=onAuthStateChanged(auth,async P=>{if(c(!1),P){await P.reload();let A=null;if(P.email?.endsWith("@shopee.com")){if(!P.emailVerified){e(P),c(!0),o(!1);return}const j=doc(db,"admins_pre_aprovados",P.uid),O=await getDoc(j);if(O.exists())A=O.data();else{const $={uid:P.uid,email:P.email,name:P.displayName||"Admin Shopee",role:"admin"};await setDoc(j,$),A=$}}else{const j=collection(db,"motoristas_pre_aprovados"),O=query(j,where("uid","==",P.uid)),$=query(j,where("googleUid","==",P.uid)),[V,L]=await Promise.all([getDocs(O),getDocs($)]),U=V.docs[0]||L.docs[0];if(U&&U.exists()){const J=U.data();A={uid:P.uid,email:P.email,name:J.name,role:"driver"}}}A?(s(A),e(P)):(console.error("Usurio no encontrado ou no autorizado. Fazendo logout."),a||await signOut(auth))}else e(null),s(null);o(!1)});return()=>I()},[a]),reactExports.useEffect(()=>{if(t&&n&&!a){const I=collection(db,"supportCalls"),P=collection(db,"motoristas_pre_aprovados"),A=onSnapshot(I,O=>{const $=O.docs.map(V=>({id:V.id,...V.data()}));f($)}),j=onSnapshot(P,O=>{const $=O.docs.map(V=>({shopeeId:V.id,...V.data(),uid:V.data().uid||V.data().googleUid||V.id}));m($)});return()=>{A(),j()}}},[t,n,a]);const x=async(I,P)=>{const A=doc(db,"supportCalls",I);try{await updateDoc(A,P)}catch(j){console.error("Erro ao atualizar chamado: ",j)}},E=async I=>{await x(I,{status:"EXCLUIDO",deletedAt:serverTimestamp()})},T=async I=>{const P=doc(db,"supportCalls",I);try{await deleteDoc(P)}catch(A){console.error("Erro ao excluir chamado permanentemente: ",A)}},_=async()=>{const I=query(collection(db,"supportCalls"),where("status","==","EXCLUIDO")),P=await getDocs(I),A=writeBatch(db);P.forEach(j=>A.delete(j.ref));try{await A.commit()}catch(j){console.error("Erro ao limpar chamados excludos: ",j)}},k=()=>{if(i)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsx("p",{children:"A carregar..."})});if(t&&a)return jsxRuntimeExports.jsx(VerifyEmailPage,{user:t});if(!t||!n)return jsxRuntimeExports.jsx(AuthPage,{});switch(n.role){case"admin":return jsxRuntimeExports.jsx(AdminDashboard,{calls:u,drivers:p,updateCall:x,onDeleteCall:E,onDeletePermanently:T,onDeleteAllExcluded:_});case"driver":const I=auth.currentUser;if(!I)return jsxRuntimeExports.jsx(AuthPage,{});const P=p.find(A=>A.uid===I.uid||A.googleUid===I.uid);return P?jsxRuntimeExports.jsx(DriverInterface,{driver:P}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen",children:jsxRuntimeExports.jsx("p",{children:"Carregando perfil do motorista..."})});default:return signOut(auth),jsxRuntimeExports.jsx(AuthPage,{})}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsx(Toaster,{position:"top-right",richColors:!0}),t&&n&&!a&&jsxRuntimeExports.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["Bem-vindo,"," ",jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-600",children:n.name})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>signOut(auth),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[jsxRuntimeExports.jsx(LogOutIcon,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Sair"})]})]}),jsxRuntimeExports.jsx("main",{children:k()})]})}const initialState={theme:"system",setTheme:()=>null},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...s}){const[i,o]=reactExports.useState(()=>localStorage.getItem(n)||e),[a,c]=reactExports.useState(!1),[u,f]=reactExports.useState("right"),[p,m]=reactExports.useState("light");reactExports.useEffect(()=>{const E=window.document.documentElement;if(E.classList.remove("light","dark"),i==="system"){const T=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";E.classList.add(T);return}E.classList.add(i)},[i]);const x={theme:i,setTheme:E=>{const T=i==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i,_=E==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":E;T==="light"&&_==="dark"?f("right"):T==="dark"&&_==="light"&&f("left"),m(_),c(!0),setTimeout(()=>{localStorage.setItem(n,E),o(E),setTimeout(()=>{c(!1)},600)},300)}};return jsxRuntimeExports.jsxs(ThemeProviderContext.Provider,{...s,value:x,children:[t,jsxRuntimeExports.jsx(AnimatePresence,{children:a&&jsxRuntimeExports.jsx(motion.div,{initial:{x:u==="right"?"-100%":"100%"},animate:{x:"0%"},exit:{x:u==="right"?"100%":"-100%"},transition:{duration:.6,ease:"easeInOut"},className:"fixed inset-0 z-[9999] pointer-events-none",style:{background:p==="light"?"linear-gradient(to bottom, hsl(30, 100%, 85%) 0%, hsl(28, 100%, 80%) 10%, hsl(25, 100%, 75%) 20%, hsl(22, 100%, 70%) 30%, hsl(20, 100%, 65%) 40%, hsl(18, 100%, 60%) 50%, hsl(15, 100%, 55%) 60%, hsl(12, 100%, 50%) 70%, hsl(10, 100%, 45%) 80%, hsl(8, 100%, 40%) 90%, hsl(5, 100%, 35%) 100%)":"hsl(222 47% 8%)"}})})]})}ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"light",storageKey:"vite-ui-theme",children:jsxRuntimeExports.jsx(App,{})})}));
